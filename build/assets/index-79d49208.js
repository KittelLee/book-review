function OL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ik(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var sk={exports:{}},Jp={},ok={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Symbol.for("react.element"),NL=Symbol.for("react.portal"),DL=Symbol.for("react.fragment"),LL=Symbol.for("react.strict_mode"),ML=Symbol.for("react.profiler"),VL=Symbol.for("react.provider"),FL=Symbol.for("react.context"),$L=Symbol.for("react.forward_ref"),UL=Symbol.for("react.suspense"),jL=Symbol.for("react.memo"),BL=Symbol.for("react.lazy"),lI=Symbol.iterator;function zL(t){return t===null||typeof t!="object"?null:(t=lI&&t[lI]||t["@@iterator"],typeof t=="function"?t:null)}var ak={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lk=Object.assign,uk={};function kl(t,e,n){this.props=t,this.context=e,this.refs=uk,this.updater=n||ak}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ck(){}ck.prototype=kl.prototype;function V0(t,e,n){this.props=t,this.context=e,this.refs=uk,this.updater=n||ak}var F0=V0.prototype=new ck;F0.constructor=V0;lk(F0,kl.prototype);F0.isPureReactComponent=!0;var uI=Array.isArray,dk=Object.prototype.hasOwnProperty,$0={current:null},hk={key:!0,ref:!0,__self:!0,__source:!0};function fk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dk.call(e,r)&&!hk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dd,type:t,key:s,ref:o,props:i,_owner:$0.current}}function qL(t,e){return{$$typeof:dd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U0(t){return typeof t=="object"&&t!==null&&t.$$typeof===dd}function WL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cI=/\/+/g;function Mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WL(""+t.key):e.toString(36)}function Gh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dd:case NL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mg(o,0):r,uI(i)?(n="",t!=null&&(n=t.replace(cI,"$&/")+"/"),Gh(i,e,n,"",function(u){return u})):i!=null&&(U0(i)&&(i=qL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mg(s,a);o+=Gh(s,e,n,l,i)}else if(l=zL(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mg(s,a++),o+=Gh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function th(t,e,n){if(t==null)return t;var r=[],i=0;return Gh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Kh={transition:null},GL={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:$0};ve.Children={map:th,forEach:function(t,e,n){th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!U0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=kl;ve.Fragment=DL;ve.Profiler=ML;ve.PureComponent=V0;ve.StrictMode=LL;ve.Suspense=UL;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GL;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dk.call(e,l)&&!hk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dd,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:FL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VL,_context:t},t.Consumer=t};ve.createElement=fk;ve.createFactory=function(t){var e=fk.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:$L,render:t}};ve.isValidElement=U0;ve.lazy=function(t){return{$$typeof:BL,_payload:{_status:-1,_result:t},_init:HL}};ve.memo=function(t,e){return{$$typeof:jL,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Kh.transition;Kh.transition={};try{t()}finally{Kh.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return pn.current.useCallback(t,e)};ve.useContext=function(t){return pn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return pn.current.useEffect(t,e)};ve.useId=function(){return pn.current.useId()};ve.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return pn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};ve.useRef=function(t){return pn.current.useRef(t)};ve.useState=function(t){return pn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return pn.current.useTransition()};ve.version="18.2.0";ok.exports=ve;var b=ok.exports;const he=Xp(b),KL=OL({__proto__:null,default:he},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL=b,YL=Symbol.for("react.element"),XL=Symbol.for("react.fragment"),JL=Object.prototype.hasOwnProperty,ZL=QL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eM={key:!0,ref:!0,__self:!0,__source:!0};function pk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JL.call(e,r)&&!eM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YL,type:t,key:s,ref:o,props:i,_owner:ZL.current}}Jp.Fragment=XL;Jp.jsx=pk;Jp.jsxs=pk;sk.exports=Jp;var g=sk.exports,iv={},mk={exports:{}},Bn={},gk={exports:{}},yk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,$){var G=P.length;P.push($);e:for(;0<G;){var ne=G-1>>>1,ce=P[ne];if(0<i(ce,$))P[ne]=$,P[G]=ce,G=ne;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],G=P.pop();if(G!==$){P[0]=G;e:for(var ne=0,ce=P.length,at=ce>>>1;ne<at;){var Pe=2*(ne+1)-1,gn=P[Pe],Nt=Pe+1,en=P[Nt];if(0>i(gn,G))Nt<ce&&0>i(en,gn)?(P[ne]=en,P[Nt]=G,ne=Nt):(P[ne]=gn,P[Pe]=G,ne=Pe);else if(Nt<ce&&0>i(en,G))P[ne]=en,P[Nt]=G,ne=Nt;else break e}}return $}function i(P,$){var G=P.sortIndex-$.sortIndex;return G!==0?G:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=P)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function E(P){if(_=!1,v(P),!y)if(n(l)!==null)y=!0,re(I);else{var $=n(u);$!==null&&A(E,$.startTime-P)}}function I(P,$){y=!1,_&&(_=!1,m(S),S=-1),f=!0;var G=h;try{for(v($),d=n(l);d!==null&&(!(d.expirationTime>$)||P&&!J());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var ce=ne(d.expirationTime<=$);$=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&r(l),v($)}else r(l);d=n(l)}if(d!==null)var at=!0;else{var Pe=n(u);Pe!==null&&A(E,Pe.startTime-$),at=!1}return at}finally{d=null,h=G,f=!1}}var T=!1,x=null,S=-1,O=5,L=-1;function J(){return!(t.unstable_now()-L<O)}function z(){if(x!==null){var P=t.unstable_now();L=P;var $=!0;try{$=x(!0,P)}finally{$?W():(T=!1,x=null)}}else T=!1}var W;if(typeof p=="function")W=function(){p(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=z,W=function(){B.postMessage(null)}}else W=function(){w(z,0)};function re(P){x=P,T||(T=!0,W())}function A(P,$){S=w(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,re(I))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return P()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=h;h=P;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(P,$,G){var ne=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,P){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=G+ce,P={id:c++,callback:$,priorityLevel:P,startTime:G,expirationTime:ce,sortIndex:-1},G>ne?(P.sortIndex=G,e(u,P),n(l)===null&&P===n(u)&&(_?(m(S),S=-1):_=!0,A(E,G-ne))):(P.sortIndex=ce,e(l,P),y||f||(y=!0,re(I))),P},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(P){var $=h;return function(){var G=h;h=$;try{return P.apply(this,arguments)}finally{h=G}}}})(yk);gk.exports=yk;var tM=gk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=b,$n=tM;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _k=new Set,sc={};function jo(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(sc[t]=e,t=0;t<e.length;t++)_k.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,nM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dI={},hI={};function rM(t){return sv.call(hI,t)?!0:sv.call(dI,t)?!1:nM.test(t)?hI[t]=!0:(dI[t]=!0,!1)}function iM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sM(t,e,n,r){if(e===null||typeof e>"u"||iM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var j0=/[\-:]([a-z])/g;function B0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j0,B0);jt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j0,B0);jt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j0,B0);jt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function z0(t,e,n,r){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sM(e,n,i,r)&&(n=null),r||i===null?rM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vi=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),fa=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),H0=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Ik=Symbol.for("react.offscreen"),fI=Symbol.iterator;function Jl(t){return t===null||typeof t!="object"?null:(t=fI&&t[fI]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Vg;function yu(t){if(Vg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vg=e&&e[1]||""}return`
`+Vg+t}var Fg=!1;function $g(t,e){if(!t||Fg)return"";Fg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yu(t):""}function oM(t){switch(t.tag){case 5:return yu(t.type);case 16:return yu("Lazy");case 13:return yu("Suspense");case 19:return yu("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function uv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case fa:return"Portal";case ov:return"Profiler";case q0:return"StrictMode";case av:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ek:return(t.displayName||"Context")+".Consumer";case wk:return(t._context.displayName||"Context")+".Provider";case W0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H0:return e=t.displayName||null,e!==null?e:uv(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return uv(t(e))}catch{}}return null}function aM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uv(e);case 8:return e===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lM(t){var e=Tk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rh(t){t._valueTracker||(t._valueTracker=lM(t))}function bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cv(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sk(t,e){e=e.checked,e!=null&&z0(t,"checked",e,!1)}function dv(t,e){Sk(t,e);var n=ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hv(t,e.type,n):e.hasOwnProperty("defaultValue")&&hv(t,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hv(t,e,n){(e!=="number"||xf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vu=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ls(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(vu(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ls(n)}}function xk(t,e){var n=ls(e.value),r=ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ih,Ak=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ih=ih||document.createElement("div"),ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uM=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(t){uM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cu[e]=Cu[t]})});function Rk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cu.hasOwnProperty(t)&&Cu[t]?(""+e).trim():e+"px"}function Pk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cM=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(cM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function gv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yv=null;function G0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vv=null,Na=null,Da=null;function vI(t){if(t=pd(t)){if(typeof vv!="function")throw Error(M(280));var e=t.stateNode;e&&(e=rm(e),vv(t.stateNode,t.type,e))}}function Ck(t){Na?Da?Da.push(t):Da=[t]:Na=t}function Ok(){if(Na){var t=Na,e=Da;if(Da=Na=null,vI(t),e)for(t=0;t<e.length;t++)vI(e[t])}}function Nk(t,e){return t(e)}function Dk(){}var Ug=!1;function Lk(t,e,n){if(Ug)return t(e,n);Ug=!0;try{return Nk(t,e,n)}finally{Ug=!1,(Na!==null||Da!==null)&&(Dk(),Ok())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=rm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var _v=!1;if(ai)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){_v=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{_v=!1}function dM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ou=!1,kf=null,Af=!1,wv=null,hM={onError:function(t){Ou=!0,kf=t}};function fM(t,e,n,r,i,s,o,a,l){Ou=!1,kf=null,dM.apply(hM,arguments)}function pM(t,e,n,r,i,s,o,a,l){if(fM.apply(this,arguments),Ou){if(Ou){var u=kf;Ou=!1,kf=null}else throw Error(M(198));Af||(Af=!0,wv=u)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _I(t){if(Bo(t)!==t)throw Error(M(188))}function mM(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _I(i),t;if(s===r)return _I(i),e;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Vk(t){return t=mM(t),t!==null?Fk(t):null}function Fk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fk(t);if(e!==null)return e;t=t.sibling}return null}var $k=$n.unstable_scheduleCallback,wI=$n.unstable_cancelCallback,gM=$n.unstable_shouldYield,yM=$n.unstable_requestPaint,lt=$n.unstable_now,vM=$n.unstable_getCurrentPriorityLevel,K0=$n.unstable_ImmediatePriority,Uk=$n.unstable_UserBlockingPriority,Rf=$n.unstable_NormalPriority,_M=$n.unstable_LowPriority,jk=$n.unstable_IdlePriority,Zp=null,Ur=null;function wM(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:TM,EM=Math.log,IM=Math.LN2;function TM(t){return t>>>=0,t===0?32:31-(EM(t)/IM|0)|0}var sh=64,oh=4194304;function _u(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_u(a):(s&=o,s!==0&&(r=_u(s)))}else o=n&~i,o!==0?r=_u(o):s!==0&&(r=_u(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function bM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ev(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bk(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function xM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Q0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function zk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qk,Y0,Wk,Hk,Gk,Iv=!1,ah=[],Yi=null,Xi=null,Ji=null,lc=new Map,uc=new Map,Fi=[],kM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EI(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(e.pointerId)}}function eu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pd(e),e!==null&&Y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AM(t,e,n,r,i){switch(e){case"focusin":return Yi=eu(Yi,t,e,n,r,i),!0;case"dragenter":return Xi=eu(Xi,t,e,n,r,i),!0;case"mouseover":return Ji=eu(Ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,eu(lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uc.set(s,eu(uc.get(s)||null,t,e,n,r,i)),!0}return!1}function Kk(t){var e=Qs(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=Mk(n),e!==null){t.blockedOn=e,Gk(t.priority,function(){Wk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yv=r,n.target.dispatchEvent(r),yv=null}else return e=pd(n),e!==null&&Y0(e),t.blockedOn=n,!1;e.shift()}return!0}function II(t,e,n){Qh(t)&&n.delete(e)}function RM(){Iv=!1,Yi!==null&&Qh(Yi)&&(Yi=null),Xi!==null&&Qh(Xi)&&(Xi=null),Ji!==null&&Qh(Ji)&&(Ji=null),lc.forEach(II),uc.forEach(II)}function tu(t,e){t.blockedOn===e&&(t.blockedOn=null,Iv||(Iv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,RM)))}function cc(t){function e(i){return tu(i,t)}if(0<ah.length){tu(ah[0],t);for(var n=1;n<ah.length;n++){var r=ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&tu(Yi,t),Xi!==null&&tu(Xi,t),Ji!==null&&tu(Ji,t),lc.forEach(e),uc.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)Kk(n),n.blockedOn===null&&Fi.shift()}var La=vi.ReactCurrentBatchConfig,Cf=!0;function PM(t,e,n,r){var i=xe,s=La.transition;La.transition=null;try{xe=1,X0(t,e,n,r)}finally{xe=i,La.transition=s}}function CM(t,e,n,r){var i=xe,s=La.transition;La.transition=null;try{xe=4,X0(t,e,n,r)}finally{xe=i,La.transition=s}}function X0(t,e,n,r){if(Cf){var i=Tv(t,e,n,r);if(i===null)Xg(t,e,r,Of,n),EI(t,r);else if(AM(i,t,e,n,r))r.stopPropagation();else if(EI(t,r),e&4&&-1<kM.indexOf(t)){for(;i!==null;){var s=pd(i);if(s!==null&&qk(s),s=Tv(t,e,n,r),s===null&&Xg(t,e,r,Of,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xg(t,e,r,null,n)}}var Of=null;function Tv(t,e,n,r){if(Of=null,t=G0(r),t=Qs(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Of=t,null}function Qk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vM()){case K0:return 1;case Uk:return 4;case Rf:case _M:return 16;case jk:return 536870912;default:return 16}default:return 16}}var Bi=null,J0=null,Yh=null;function Yk(){if(Yh)return Yh;var t,e=J0,n=e.length,r,i="value"in Bi?Bi.value:Bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function TI(){return!1}function zn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:TI,this.isPropagationStopped=TI,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z0=zn(Al),fd=Ye({},Al,{view:0,detail:0}),OM=zn(fd),Bg,zg,nu,em=Ye({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ew,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Bg=t.screenX-nu.screenX,zg=t.screenY-nu.screenY):zg=Bg=0,nu=t),Bg)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),bI=zn(em),NM=Ye({},em,{dataTransfer:0}),DM=zn(NM),LM=Ye({},fd,{relatedTarget:0}),qg=zn(LM),MM=Ye({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),VM=zn(MM),FM=Ye({},Al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$M=zn(FM),UM=Ye({},Al,{data:0}),SI=zn(UM),jM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zM[t])?!!e[t]:!1}function ew(){return qM}var WM=Ye({},fd,{key:function(t){if(t.key){var e=jM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ew,charCode:function(t){return t.type==="keypress"?Xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HM=zn(WM),GM=Ye({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xI=zn(GM),KM=Ye({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ew}),QM=zn(KM),YM=Ye({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),XM=zn(YM),JM=Ye({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZM=zn(JM),e4=[9,13,27,32],tw=ai&&"CompositionEvent"in window,Nu=null;ai&&"documentMode"in document&&(Nu=document.documentMode);var t4=ai&&"TextEvent"in window&&!Nu,Xk=ai&&(!tw||Nu&&8<Nu&&11>=Nu),kI=String.fromCharCode(32),AI=!1;function Jk(t,e){switch(t){case"keyup":return e4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function n4(t,e){switch(t){case"compositionend":return Zk(e);case"keypress":return e.which!==32?null:(AI=!0,kI);case"textInput":return t=e.data,t===kI&&AI?null:t;default:return null}}function r4(t,e){if(ma)return t==="compositionend"||!tw&&Jk(t,e)?(t=Yk(),Yh=J0=Bi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xk&&e.locale!=="ko"?null:e.data;default:return null}}var i4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i4[t.type]:e==="textarea"}function eA(t,e,n,r){Ck(r),e=Nf(e,"onChange"),0<e.length&&(n=new Z0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Du=null,dc=null;function s4(t){dA(t,0)}function tm(t){var e=va(t);if(bk(e))return t}function o4(t,e){if(t==="change")return e}var tA=!1;if(ai){var Wg;if(ai){var Hg="oninput"in document;if(!Hg){var PI=document.createElement("div");PI.setAttribute("oninput","return;"),Hg=typeof PI.oninput=="function"}Wg=Hg}else Wg=!1;tA=Wg&&(!document.documentMode||9<document.documentMode)}function CI(){Du&&(Du.detachEvent("onpropertychange",nA),dc=Du=null)}function nA(t){if(t.propertyName==="value"&&tm(dc)){var e=[];eA(e,dc,t,G0(t)),Lk(s4,e)}}function a4(t,e,n){t==="focusin"?(CI(),Du=e,dc=n,Du.attachEvent("onpropertychange",nA)):t==="focusout"&&CI()}function l4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(dc)}function u4(t,e){if(t==="click")return tm(e)}function c4(t,e){if(t==="input"||t==="change")return tm(e)}function d4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:d4;function hc(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sv.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function OI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NI(t,e){var n=OI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OI(n)}}function rA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iA(){for(var t=window,e=xf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xf(t.document)}return e}function nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h4(t){var e=iA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rA(n.ownerDocument.documentElement,n)){if(r!==null&&nw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=NI(n,s);var o=NI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f4=ai&&"documentMode"in document&&11>=document.documentMode,ga=null,bv=null,Lu=null,Sv=!1;function DI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sv||ga==null||ga!==xf(r)||(r=ga,"selectionStart"in r&&nw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lu&&hc(Lu,r)||(Lu=r,r=Nf(bv,"onSelect"),0<r.length&&(e=new Z0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Gg={},sA={};ai&&(sA=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function nm(t){if(Gg[t])return Gg[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sA)return Gg[t]=e[n];return t}var oA=nm("animationend"),aA=nm("animationiteration"),lA=nm("animationstart"),uA=nm("transitionend"),cA=new Map,LI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){cA.set(t,e),jo(e,[t])}for(var Kg=0;Kg<LI.length;Kg++){var Qg=LI[Kg],p4=Qg.toLowerCase(),m4=Qg[0].toUpperCase()+Qg.slice(1);Ss(p4,"on"+m4)}Ss(oA,"onAnimationEnd");Ss(aA,"onAnimationIteration");Ss(lA,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(uA,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function MI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pM(r,e,void 0,t),t.currentTarget=null}function dA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;MI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;MI(i,a,u),s=l}}}if(Af)throw t=wv,Af=!1,wv=null,t}function Ne(t,e){var n=e[Pv];n===void 0&&(n=e[Pv]=new Set);var r=t+"__bubble";n.has(r)||(hA(e,t,2,!1),n.add(r))}function Yg(t,e,n){var r=0;e&&(r|=4),hA(n,t,r,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[ch]){t[ch]=!0,_k.forEach(function(n){n!=="selectionchange"&&(g4.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,Yg("selectionchange",!1,e))}}function hA(t,e,n,r){switch(Qk(e)){case 1:var i=PM;break;case 4:i=CM;break;default:i=X0}n=i.bind(null,e,n,t),i=void 0,!_v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lk(function(){var u=s,c=G0(n),d=[];e:{var h=cA.get(t);if(h!==void 0){var f=Z0,y=t;switch(t){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":f=HM;break;case"focusin":y="focus",f=qg;break;case"focusout":y="blur",f=qg;break;case"beforeblur":case"afterblur":f=qg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=DM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=QM;break;case oA:case aA:case lA:f=VM;break;case uA:f=XM;break;case"scroll":f=OM;break;case"wheel":f=ZM;break;case"copy":case"cut":case"paste":f=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xI}var _=(e&4)!==0,w=!_&&t==="scroll",m=_?h!==null?h+"Capture":null:h;_=[];for(var p=u,v;p!==null;){v=p;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=ac(p,m),E!=null&&_.push(pc(p,E,v)))),w)break;p=p.return}0<_.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==yv&&(y=n.relatedTarget||n.fromElement)&&(Qs(y)||y[li]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Qs(y):null,y!==null&&(w=Bo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(_=bI,E="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=xI,E="onPointerLeave",m="onPointerEnter",p="pointer"),w=f==null?h:va(f),v=y==null?h:va(y),h=new _(E,p+"leave",f,n,c),h.target=w,h.relatedTarget=v,E=null,Qs(c)===u&&(_=new _(m,p+"enter",y,n,c),_.target=v,_.relatedTarget=w,E=_),w=E,f&&y)t:{for(_=f,m=y,p=0,v=_;v;v=Xo(v))p++;for(v=0,E=m;E;E=Xo(E))v++;for(;0<p-v;)_=Xo(_),p--;for(;0<v-p;)m=Xo(m),v--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=Xo(_),m=Xo(m)}_=null}else _=null;f!==null&&VI(d,h,f,_,!1),y!==null&&w!==null&&VI(d,w,y,_,!0)}}e:{if(h=u?va(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=o4;else if(RI(h))if(tA)I=c4;else{I=l4;var T=a4}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=u4);if(I&&(I=I(t,u))){eA(d,I,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&hv(h,"number",h.value)}switch(T=u?va(u):window,t){case"focusin":(RI(T)||T.contentEditable==="true")&&(ga=T,bv=u,Lu=null);break;case"focusout":Lu=bv=ga=null;break;case"mousedown":Sv=!0;break;case"contextmenu":case"mouseup":case"dragend":Sv=!1,DI(d,n,c);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":DI(d,n,c)}var x;if(tw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ma?Jk(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Xk&&n.locale!=="ko"&&(ma||S!=="onCompositionStart"?S==="onCompositionEnd"&&ma&&(x=Yk()):(Bi=c,J0="value"in Bi?Bi.value:Bi.textContent,ma=!0)),T=Nf(u,S),0<T.length&&(S=new SI(S,t,null,n,c),d.push({event:S,listeners:T}),x?S.data=x:(x=Zk(n),x!==null&&(S.data=x)))),(x=t4?n4(t,n):r4(t,n))&&(u=Nf(u,"onBeforeInput"),0<u.length&&(c=new SI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}dA(d,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(pc(t,s,i)),s=ac(t,e),s!=null&&r.push(pc(t,s,i))),t=t.return}return r}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ac(n,s),l!=null&&o.unshift(pc(n,l,a))):i||(l=ac(n,s),l!=null&&o.push(pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function FI(t){return(typeof t=="string"?t:""+t).replace(y4,`
`).replace(v4,"")}function dh(t,e,n){if(e=FI(e),FI(t)!==e&&n)throw Error(M(425))}function Df(){}var xv=null,kv=null;function Av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rv=typeof setTimeout=="function"?setTimeout:void 0,_4=typeof clearTimeout=="function"?clearTimeout:void 0,$I=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof $I<"u"?function(t){return $I.resolve(null).then(t).catch(E4)}:Rv;function E4(t){setTimeout(function(){throw t})}function Jg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cc(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),xr="__reactFiber$"+Rl,mc="__reactProps$"+Rl,li="__reactContainer$"+Rl,Pv="__reactEvents$"+Rl,I4="__reactListeners$"+Rl,T4="__reactHandles$"+Rl;function Qs(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UI(t);t!==null;){if(n=t[xr])return n;t=UI(t)}return e}t=n,n=t.parentNode}return null}function pd(t){return t=t[xr]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function rm(t){return t[mc]||null}var Cv=[],_a=-1;function xs(t){return{current:t}}function Fe(t){0>_a||(t.current=Cv[_a],Cv[_a]=null,_a--)}function Ce(t,e){_a++,Cv[_a]=t.current,t.current=e}var us={},Zt=xs(us),Rn=xs(!1),vo=us;function Qa(t,e){var n=t.type.contextTypes;if(!n)return us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function Lf(){Fe(Rn),Fe(Zt)}function jI(t,e,n){if(Zt.current!==us)throw Error(M(168));Ce(Zt,e),Ce(Rn,n)}function fA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,aM(t)||"Unknown",i));return Ye({},n,r)}function Mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,vo=Zt.current,Ce(Zt,t),Ce(Rn,Rn.current),!0}function BI(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=fA(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Fe(Rn),Fe(Zt),Ce(Zt,t)):Fe(Rn),Ce(Rn,n)}var Qr=null,im=!1,Zg=!1;function pA(t){Qr===null?Qr=[t]:Qr.push(t)}function b4(t){im=!0,pA(t)}function ks(){if(!Zg&&Qr!==null){Zg=!0;var t=0,e=xe;try{var n=Qr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,im=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),$k(K0,ks),i}finally{xe=e,Zg=!1}}return null}var wa=[],Ea=0,Vf=null,Ff=0,Gn=[],Kn=0,_o=null,Xr=1,Jr="";function Fs(t,e){wa[Ea++]=Ff,wa[Ea++]=Vf,Vf=t,Ff=e}function mA(t,e,n){Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=_o,_o=t;var r=Xr;t=Jr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xr=1<<32-hr(e)+i|n<<i|r,Jr=s+t}else Xr=1<<s|n<<i|r,Jr=t}function rw(t){t.return!==null&&(Fs(t,1),mA(t,1,0))}function iw(t){for(;t===Vf;)Vf=wa[--Ea],wa[Ea]=null,Ff=wa[--Ea],wa[Ea]=null;for(;t===_o;)_o=Gn[--Kn],Gn[Kn]=null,Jr=Gn[--Kn],Gn[Kn]=null,Xr=Gn[--Kn],Gn[Kn]=null}var Mn=null,Dn=null,Be=!1,ur=null;function gA(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function Ov(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nv(t){if(Be){var e=Dn;if(e){var n=e;if(!zI(t,e)){if(Ov(t))throw Error(M(418));e=Zi(n.nextSibling);var r=Mn;e&&zI(t,e)?gA(r,n):(t.flags=t.flags&-4097|2,Be=!1,Mn=t)}}else{if(Ov(t))throw Error(M(418));t.flags=t.flags&-4097|2,Be=!1,Mn=t}}}function qI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function hh(t){if(t!==Mn)return!1;if(!Be)return qI(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Av(t.type,t.memoizedProps)),e&&(e=Dn)){if(Ov(t))throw yA(),Error(M(418));for(;e;)gA(t,e),e=Zi(e.nextSibling)}if(qI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?Zi(t.stateNode.nextSibling):null;return!0}function yA(){for(var t=Dn;t;)t=Zi(t.nextSibling)}function Ya(){Dn=Mn=null,Be=!1}function sw(t){ur===null?ur=[t]:ur.push(t)}var S4=vi.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $f=xs(null),Uf=null,Ia=null,ow=null;function aw(){ow=Ia=Uf=null}function lw(t){var e=$f.current;Fe($f),t._currentValue=e}function Dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Uf=t,ow=Ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(ow!==t)if(t={context:t,memoizedValue:e,next:null},Ia===null){if(Uf===null)throw Error(M(308));Ia=t,Uf.dependencies={lanes:0,firstContext:t}}else Ia=Ia.next=t;return e}var Ys=null;function uw(t){Ys===null?Ys=[t]:Ys.push(t)}function vA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _A(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,uw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function Jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q0(t,n)}}function WI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jf(t,e,n,r){var i=t.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(h=e,f=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=Ye({},d,h);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=d}}function HI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var wA=new vk.Component().refs;function Lv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sm={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ns(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(fr(e,t,i,r),Jh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ns(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(fr(e,t,i,r),Jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=ns(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=es(t,i,r),e!==null&&(fr(e,t,r,n),Jh(e,t,r))}};function GI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hc(n,r)||!hc(i,s):!0}function EA(t,e,n){var r=!1,i=us,s=e.contextType;return typeof s=="object"&&s!==null?s=er(s):(i=Pn(e)?vo:Zt.current,r=e.contextTypes,s=(r=r!=null)?Qa(t,i):us),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function KI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sm.enqueueReplaceState(e,e.state,null)}function Mv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wA,cw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=er(s):(s=Pn(e)?vo:Zt.current,i.context=Qa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sm.enqueueReplaceState(i,i.state,null),jf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===wA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function fh(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QI(t){var e=t._init;return e(t._payload)}function IA(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=rs(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,E){return p===null||p.tag!==6?(p=oy(v,m.mode,E),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,E){var I=v.type;return I===pa?c(m,p,v.props.children,E,v.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Li&&QI(I)===p.type)?(E=i(p,v.props),E.ref=ru(m,p,v),E.return=m,E):(E=sf(v.type,v.key,v.props,null,m.mode,E),E.ref=ru(m,p,v),E.return=m,E)}function u(m,p,v,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=ay(v,m.mode,E),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function c(m,p,v,E,I){return p===null||p.tag!==7?(p=ao(v,m.mode,E,I),p.return=m,p):(p=i(p,v),p.return=m,p)}function d(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=oy(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case nh:return v=sf(p.type,p.key,p.props,null,m.mode,v),v.ref=ru(m,null,p),v.return=m,v;case fa:return p=ay(p,m.mode,v),p.return=m,p;case Li:var E=p._init;return d(m,E(p._payload),v)}if(vu(p)||Jl(p))return p=ao(p,m.mode,v,null),p.return=m,p;fh(m,p)}return null}function h(m,p,v,E){var I=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:a(m,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nh:return v.key===I?l(m,p,v,E):null;case fa:return v.key===I?u(m,p,v,E):null;case Li:return I=v._init,h(m,p,I(v._payload),E)}if(vu(v)||Jl(v))return I!==null?null:c(m,p,v,E,null);fh(m,v)}return null}function f(m,p,v,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,a(p,m,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nh:return m=m.get(E.key===null?v:E.key)||null,l(p,m,E,I);case fa:return m=m.get(E.key===null?v:E.key)||null,u(p,m,E,I);case Li:var T=E._init;return f(m,p,v,T(E._payload),I)}if(vu(E)||Jl(E))return m=m.get(v)||null,c(p,m,E,I,null);fh(p,E)}return null}function y(m,p,v,E){for(var I=null,T=null,x=p,S=p=0,O=null;x!==null&&S<v.length;S++){x.index>S?(O=x,x=null):O=x.sibling;var L=h(m,x,v[S],E);if(L===null){x===null&&(x=O);break}t&&x&&L.alternate===null&&e(m,x),p=s(L,p,S),T===null?I=L:T.sibling=L,T=L,x=O}if(S===v.length)return n(m,x),Be&&Fs(m,S),I;if(x===null){for(;S<v.length;S++)x=d(m,v[S],E),x!==null&&(p=s(x,p,S),T===null?I=x:T.sibling=x,T=x);return Be&&Fs(m,S),I}for(x=r(m,x);S<v.length;S++)O=f(x,m,S,v[S],E),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?S:O.key),p=s(O,p,S),T===null?I=O:T.sibling=O,T=O);return t&&x.forEach(function(J){return e(m,J)}),Be&&Fs(m,S),I}function _(m,p,v,E){var I=Jl(v);if(typeof I!="function")throw Error(M(150));if(v=I.call(v),v==null)throw Error(M(151));for(var T=I=null,x=p,S=p=0,O=null,L=v.next();x!==null&&!L.done;S++,L=v.next()){x.index>S?(O=x,x=null):O=x.sibling;var J=h(m,x,L.value,E);if(J===null){x===null&&(x=O);break}t&&x&&J.alternate===null&&e(m,x),p=s(J,p,S),T===null?I=J:T.sibling=J,T=J,x=O}if(L.done)return n(m,x),Be&&Fs(m,S),I;if(x===null){for(;!L.done;S++,L=v.next())L=d(m,L.value,E),L!==null&&(p=s(L,p,S),T===null?I=L:T.sibling=L,T=L);return Be&&Fs(m,S),I}for(x=r(m,x);!L.done;S++,L=v.next())L=f(x,m,S,L.value,E),L!==null&&(t&&L.alternate!==null&&x.delete(L.key===null?S:L.key),p=s(L,p,S),T===null?I=L:T.sibling=L,T=L);return t&&x.forEach(function(z){return e(m,z)}),Be&&Fs(m,S),I}function w(m,p,v,E){if(typeof v=="object"&&v!==null&&v.type===pa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case nh:e:{for(var I=v.key,T=p;T!==null;){if(T.key===I){if(I=v.type,I===pa){if(T.tag===7){n(m,T.sibling),p=i(T,v.props.children),p.return=m,m=p;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Li&&QI(I)===T.type){n(m,T.sibling),p=i(T,v.props),p.ref=ru(m,T,v),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}v.type===pa?(p=ao(v.props.children,m.mode,E,v.key),p.return=m,m=p):(E=sf(v.type,v.key,v.props,null,m.mode,E),E.ref=ru(m,p,v),E.return=m,m=E)}return o(m);case fa:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ay(v,m.mode,E),p.return=m,m=p}return o(m);case Li:return T=v._init,w(m,p,T(v._payload),E)}if(vu(v))return y(m,p,v,E);if(Jl(v))return _(m,p,v,E);fh(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=oy(v,m.mode,E),p.return=m,m=p),o(m)):n(m,p)}return w}var Xa=IA(!0),TA=IA(!1),md={},jr=xs(md),gc=xs(md),yc=xs(md);function Xs(t){if(t===md)throw Error(M(174));return t}function dw(t,e){switch(Ce(yc,e),Ce(gc,t),Ce(jr,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}Fe(jr),Ce(jr,e)}function Ja(){Fe(jr),Fe(gc),Fe(yc)}function bA(t){Xs(yc.current);var e=Xs(jr.current),n=pv(e,t.type);e!==n&&(Ce(gc,t),Ce(jr,n))}function hw(t){gc.current===t&&(Fe(jr),Fe(gc))}var Ge=xs(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ey=[];function fw(){for(var t=0;t<ey.length;t++)ey[t]._workInProgressVersionPrimary=null;ey.length=0}var Zh=vi.ReactCurrentDispatcher,ty=vi.ReactCurrentBatchConfig,wo=0,Ke=null,yt=null,It=null,zf=!1,Mu=!1,vc=0,x4=0;function zt(){throw Error(M(321))}function pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function mw(t,e,n,r,i,s){if(wo=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?P4:C4,t=n(r,i),Mu){s=0;do{if(Mu=!1,vc=0,25<=s)throw Error(M(301));s+=1,It=yt=null,e.updateQueue=null,Zh.current=O4,t=n(r,i)}while(Mu)}if(Zh.current=qf,e=yt!==null&&yt.next!==null,wo=0,It=yt=Ke=null,zf=!1,e)throw Error(M(300));return t}function gw(){var t=vc!==0;return vc=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ke.memoizedState=It=t:It=It.next=t,It}function tr(){if(yt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=It===null?Ke.memoizedState:It.next;if(e!==null)It=e,yt=t;else{if(t===null)throw Error(M(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?Ke.memoizedState=It=t:It=It.next=t}return It}function _c(t,e){return typeof e=="function"?e(t):e}function ny(t){var e=tr(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((wo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ke.lanes|=c,Eo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Eo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ry(t){var e=tr(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function SA(){}function xA(t,e){var n=Ke,r=tr(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,bn=!0),r=r.queue,yw(RA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,wc(9,AA.bind(null,n,r,i,e),void 0,null),St===null)throw Error(M(349));wo&30||kA(n,e,i)}return i}function kA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AA(t,e,n,r){e.value=n,e.getSnapshot=r,PA(e)&&CA(t)}function RA(t,e,n){return n(function(){PA(e)&&CA(t)})}function PA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function CA(t){var e=ui(t,1);e!==null&&fr(e,t,1,-1)}function YI(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:t},e.queue=t,t=t.dispatch=R4.bind(null,Ke,t),[e.memoizedState,t]}function wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OA(){return tr().memoizedState}function ef(t,e,n,r){var i=br();Ke.flags|=t,i.memoizedState=wc(1|e,n,void 0,r===void 0?null:r)}function om(t,e,n,r){var i=tr();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&pw(r,o.deps)){i.memoizedState=wc(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=wc(1|e,n,s,r)}function XI(t,e){return ef(8390656,8,t,e)}function yw(t,e){return om(2048,8,t,e)}function NA(t,e){return om(4,2,t,e)}function DA(t,e){return om(4,4,t,e)}function LA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MA(t,e,n){return n=n!=null?n.concat([t]):null,om(4,4,LA.bind(null,e,t),n)}function vw(){}function VA(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FA(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $A(t,e,n){return wo&21?(gr(n,e)||(n=Bk(),Ke.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function k4(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=ty.transition;ty.transition={};try{t(!1),e()}finally{xe=n,ty.transition=r}}function UA(){return tr().memoizedState}function A4(t,e,n){var r=ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jA(t))BA(e,n);else if(n=vA(t,e,n,r),n!==null){var i=cn();fr(n,t,r,i),zA(n,e,r)}}function R4(t,e,n){var r=ns(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jA(t))BA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,uw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vA(t,e,i,r),n!==null&&(i=cn(),fr(n,t,r,i),zA(n,e,r))}}function jA(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function BA(t,e){Mu=zf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q0(t,n)}}var qf={readContext:er,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},P4={readContext:er,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:XI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,LA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A4.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:YI,useDebugValue:vw,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=YI(!1),e=t[0];return t=k4.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=br();if(Be){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),St===null)throw Error(M(349));wo&30||kA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,XI(RA.bind(null,r,s,t),[t]),r.flags|=2048,wc(9,AA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=St.identifierPrefix;if(Be){var n=Jr,r=Xr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C4={readContext:er,useCallback:VA,useContext:er,useEffect:yw,useImperativeHandle:MA,useInsertionEffect:NA,useLayoutEffect:DA,useMemo:FA,useReducer:ny,useRef:OA,useState:function(){return ny(_c)},useDebugValue:vw,useDeferredValue:function(t){var e=tr();return $A(e,yt.memoizedState,t)},useTransition:function(){var t=ny(_c)[0],e=tr().memoizedState;return[t,e]},useMutableSource:SA,useSyncExternalStore:xA,useId:UA,unstable_isNewReconciler:!1},O4={readContext:er,useCallback:VA,useContext:er,useEffect:yw,useImperativeHandle:MA,useInsertionEffect:NA,useLayoutEffect:DA,useMemo:FA,useReducer:ry,useRef:OA,useState:function(){return ry(_c)},useDebugValue:vw,useDeferredValue:function(t){var e=tr();return yt===null?e.memoizedState=t:$A(e,yt.memoizedState,t)},useTransition:function(){var t=ry(_c)[0],e=tr().memoizedState;return[t,e]},useMutableSource:SA,useSyncExternalStore:xA,useId:UA,unstable_isNewReconciler:!1};function Za(t,e){try{var n="",r=e;do n+=oM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function iy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N4=typeof WeakMap=="function"?WeakMap:Map;function qA(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hf||(Hf=!0,Gv=r),Vv(t,e)},n}function WA(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vv(t,e),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function JI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=G4.bind(null,t,e,n),e.then(t,t))}function ZI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,es(n,e,1))),n.lanes|=1),t)}var D4=vi.ReactCurrentOwner,bn=!1;function rn(t,e,n,r){e.child=t===null?TA(e,null,n,r):Xa(e,t.child,n,r)}function tT(t,e,n,r,i){n=n.render;var s=e.ref;return Ma(e,i),r=mw(t,e,n,r,s,i),n=gw(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Be&&n&&rw(e),e.flags|=1,rn(t,e,r,i),e.child)}function nT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,HA(t,e,s,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=rs(s,r),t.ref=e.ref,t.return=e,e.child=t}function HA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hc(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,ci(t,e,i)}return Fv(t,e,n,r,i)}function GA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ba,On),On|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(ba,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(ba,On),On|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(ba,On),On|=r;return rn(t,e,i,n),e.child}function KA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fv(t,e,n,r,i){var s=Pn(n)?vo:Zt.current;return s=Qa(e,s),Ma(e,i),n=mw(t,e,n,r,s,i),r=gw(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Be&&r&&rw(e),e.flags|=1,rn(t,e,n,i),e.child)}function rT(t,e,n,r,i){if(Pn(n)){var s=!0;Mf(e)}else s=!1;if(Ma(e,i),e.stateNode===null)tf(t,e),EA(e,n,r),Mv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=Pn(n)?vo:Zt.current,u=Qa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&KI(e,o,r,u),Mi=!1;var h=e.memoizedState;o.state=h,jf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Rn.current||Mi?(typeof c=="function"&&(Lv(e,n,c,r),l=e.memoizedState),(a=Mi||GI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_A(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:or(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=Pn(n)?vo:Zt.current,l=Qa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&KI(e,o,r,l),Mi=!1,h=e.memoizedState,o.state=h,jf(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||Rn.current||Mi?(typeof f=="function"&&(Lv(e,n,f,r),y=e.memoizedState),(u=Mi||GI(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $v(t,e,n,r,s,i)}function $v(t,e,n,r,i,s){KA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&BI(e,n,!1),ci(t,e,s);r=e.stateNode,D4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xa(e,t.child,null,s),e.child=Xa(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&BI(e,n,!0),e.child}function QA(t){var e=t.stateNode;e.pendingContext?jI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jI(t,e.context,!1),dw(t,e.containerInfo)}function iT(t,e,n,r,i){return Ya(),sw(i),e.flags|=256,rn(t,e,n,r),e.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function jv(t){return{baseLanes:t,cachePool:null,transitions:null}}function YA(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ge,i&1),t===null)return Nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=um(o,r,0,null),t=ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jv(n),e.memoizedState=Uv,t):_w(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rs(a,s):(s=ao(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Uv,r}return s=t.child,t=s.sibling,r=rs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _w(t,e){return e=um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ph(t,e,n,r){return r!==null&&sw(r),Xa(e,t.child,null,n),t=_w(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=iy(Error(M(422))),ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=um({mode:"visible",children:r.children},i,0,null),s=ao(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xa(e,t.child,null,o),e.child.memoizedState=jv(o),e.memoizedState=Uv,s);if(!(e.mode&1))return ph(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=iy(s,r,void 0),ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,bn||a){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),fr(r,t,i,-1))}return Sw(),r=iy(Error(M(421))),ph(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=Zi(i.nextSibling),Mn=e,Be=!0,ur=null,t!==null&&(Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=_o,Xr=t.id,Jr=t.overflow,_o=e),e=_w(e,r.children),e.flags|=4096,e)}function sT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dv(t.return,e,n)}function sy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sT(t,n,e);else if(t.tag===19)sT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sy(e,!0,n,null,s);break;case"together":sy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M4(t,e,n){switch(e.tag){case 3:QA(e),Ya();break;case 5:bA(e);break;case 1:Pn(e.type)&&Mf(e);break;case 4:dw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce($f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?YA(t,e,n):(Ce(Ge,Ge.current&1),t=ci(t,e,n),t!==null?t.sibling:null);Ce(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,GA(t,e,n)}return ci(t,e,n)}var JA,Bv,ZA,eR;JA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bv=function(){};ZA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xs(jr.current);var s=null;switch(n){case"input":i=cv(t,i),r=cv(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=fv(t,i),r=fv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Df)}mv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eR=function(t,e,n,r){n!==r&&(e.flags|=4)};function iu(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function V4(t,e,n){var r=e.pendingProps;switch(iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return Pn(e.type)&&Lf(),qt(e),null;case 3:return r=e.stateNode,Ja(),Fe(Rn),Fe(Zt),fw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(Yv(ur),ur=null))),Bv(t,e),qt(e),null;case 5:hw(e);var i=Xs(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return qt(e),null}if(t=Xs(jr.current),hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xr]=e,r[mc]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<wu.length;i++)Ne(wu[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":pI(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":gI(r,s),Ne("invalid",r)}mv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":rh(r),mI(r,s,!0);break;case"textarea":rh(r),yI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Df)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[mc]=r,JA(t,e,!1,!1),e.stateNode=t;e:{switch(o=gv(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<wu.length;i++)Ne(wu[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":pI(t,r),i=cv(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":gI(t,r),i=fv(t,r),Ne("invalid",t);break;default:i=r}mv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Pk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ak(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oc(t,l):typeof l=="number"&&oc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&z0(t,s,l,o))}switch(n){case"input":rh(t),mI(t,r,!1);break;case"textarea":rh(t),yI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ls(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Oa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)eR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=Xs(yc.current),Xs(jr.current),hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(s=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return qt(e),null;case 13:if(Fe(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Dn!==null&&e.mode&1&&!(e.flags&128))yA(),Ya(),e.flags|=98560,s=!1;else if(s=hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[xr]=e}else Ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else ur!==null&&(Yv(ur),ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?vt===0&&(vt=3):Sw())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Ja(),Bv(t,e),t===null&&fc(e.stateNode.containerInfo),qt(e),null;case 10:return lw(e.type._context),qt(e),null;case 17:return Pn(e.type)&&Lf(),qt(e),null;case 19:if(Fe(Ge),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)iu(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bf(t),o!==null){for(e.flags|=128,iu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>el&&(e.flags|=128,r=!0,iu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return qt(e),null}else 2*lt()-s.renderingStartTime>el&&n!==1073741824&&(e.flags|=128,r=!0,iu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ge.current,Ce(Ge,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return bw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function F4(t,e){switch(iw(e),e.tag){case 1:return Pn(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ja(),Fe(Rn),Fe(Zt),fw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hw(e),null;case 13:if(Fe(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ge),null;case 4:return Ja(),null;case 10:return lw(e.type._context),null;case 22:case 23:return bw(),null;case 24:return null;default:return null}}var mh=!1,Gt=!1,$4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ta(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function zv(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var oT=!1;function U4(t,e){if(xv=Cf,t=iA(),nw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kv={focusedElem:t,selectionRange:n},Cf=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,w=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:or(e.type,_),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(E){Ze(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=oT,oT=!1,y}function Vu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zv(e,n,s)}i=i.next}while(i!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tR(t){var e=t.alternate;e!==null&&(t.alternate=null,tR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[mc],delete e[Pv],delete e[I4],delete e[T4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nR(t){return t.tag===5||t.tag===3||t.tag===4}function aT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Df));else if(r!==4&&(t=t.child,t!==null))for(Wv(t,e,n),t=t.sibling;t!==null;)Wv(t,e,n),t=t.sibling}function Hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hv(t,e,n),t=t.sibling;t!==null;)Hv(t,e,n),t=t.sibling}var Dt=null,lr=!1;function ki(t,e,n){for(n=n.child;n!==null;)rR(t,e,n),n=n.sibling}function rR(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Zp,n)}catch{}switch(n.tag){case 5:Gt||Ta(n,e);case 6:var r=Dt,i=lr;Dt=null,ki(t,e,n),Dt=r,lr=i,Dt!==null&&(lr?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(lr?(t=Dt,n=n.stateNode,t.nodeType===8?Jg(t.parentNode,n):t.nodeType===1&&Jg(t,n),cc(t)):Jg(Dt,n.stateNode));break;case 4:r=Dt,i=lr,Dt=n.stateNode.containerInfo,lr=!0,ki(t,e,n),Dt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zv(n,e,o),i=i.next}while(i!==r)}ki(t,e,n);break;case 1:if(!Gt&&(Ta(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,ki(t,e,n),Gt=r):ki(t,e,n);break;default:ki(t,e,n)}}function lT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $4),e.forEach(function(r){var i=Q4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,lr=!1;break e;case 3:Dt=a.stateNode.containerInfo,lr=!0;break e;case 4:Dt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Dt===null)throw Error(M(160));rR(s,o,i),Dt=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iR(e,t),e=e.sibling}function iR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),Tr(t),r&4){try{Vu(3,t,t.return),am(3,t)}catch(_){Ze(t,t.return,_)}try{Vu(5,t,t.return)}catch(_){Ze(t,t.return,_)}}break;case 1:sr(e,t),Tr(t),r&512&&n!==null&&Ta(n,n.return);break;case 5:if(sr(e,t),Tr(t),r&512&&n!==null&&Ta(n,n.return),t.flags&32){var i=t.stateNode;try{oc(i,"")}catch(_){Ze(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Sk(i,s),gv(a,o);var u=gv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Pk(i,d):c==="dangerouslySetInnerHTML"?Ak(i,d):c==="children"?oc(i,d):z0(i,c,d,u)}switch(a){case"input":dv(i,s);break;case"textarea":xk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Oa(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Oa(i,!!s.multiple,s.defaultValue,!0):Oa(i,!!s.multiple,s.multiple?[]:"",!1))}i[mc]=s}catch(_){Ze(t,t.return,_)}}break;case 6:if(sr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ze(t,t.return,_)}}break;case 3:if(sr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(e.containerInfo)}catch(_){Ze(t,t.return,_)}break;case 4:sr(e,t),Tr(t);break;case 13:sr(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iw=lt())),r&4&&lT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||c,sr(e,t),Gt=u):sr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,f=h.child,h.tag){case 0:case 11:case 14:case 15:Vu(4,h,h.return);break;case 1:Ta(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Ze(r,n,_)}}break;case 5:Ta(h,h.return);break;case 22:if(h.memoizedState!==null){cT(d);continue}}f!==null?(f.return=h,Y=f):cT(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rk("display",o))}catch(_){Ze(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Ze(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sr(e,t),Tr(t),r&4&&lT(t);break;case 21:break;default:sr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nR(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oc(i,""),r.flags&=-33);var s=aT(t);Hv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aT(t);Wv(t,a,o);break;default:throw Error(M(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j4(t,e,n){Y=t,sR(t)}function sR(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=mh;var u=Gt;if(mh=o,(Gt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?dT(i):l!==null?(l.return=o,Y=l):dT(i);for(;s!==null;)Y=s,sR(s),s=s.sibling;Y=i,mh=a,Gt=u}uT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):uT(t)}}function uT(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Gt||e.flags&512&&qv(e)}catch(h){Ze(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function cT(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function dT(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{qv(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{qv(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var B4=Math.ceil,Wf=vi.ReactCurrentDispatcher,ww=vi.ReactCurrentOwner,Zn=vi.ReactCurrentBatchConfig,Ee=0,St=null,mt=null,Ft=0,On=0,ba=xs(0),vt=0,Ec=null,Eo=0,lm=0,Ew=0,Fu=null,En=null,Iw=0,el=1/0,Gr=null,Hf=!1,Gv=null,ts=null,gh=!1,zi=null,Gf=0,$u=0,Kv=null,nf=-1,rf=0;function cn(){return Ee&6?lt():nf!==-1?nf:nf=lt()}function ns(t){return t.mode&1?Ee&2&&Ft!==0?Ft&-Ft:S4.transition!==null?(rf===0&&(rf=Bk()),rf):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Qk(t.type)),t):1}function fr(t,e,n,r){if(50<$u)throw $u=0,Kv=null,Error(M(185));hd(t,n,r),(!(Ee&2)||t!==St)&&(t===St&&(!(Ee&2)&&(lm|=n),vt===4&&$i(t,Ft)),Cn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(el=lt()+500,im&&ks()))}function Cn(t,e){var n=t.callbackNode;SM(t,e);var r=Pf(t,t===St?Ft:0);if(r===0)n!==null&&wI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wI(n),e===1)t.tag===0?b4(hT.bind(null,t)):pA(hT.bind(null,t)),w4(function(){!(Ee&6)&&ks()}),n=null;else{switch(zk(r)){case 1:n=K0;break;case 4:n=Uk;break;case 16:n=Rf;break;case 536870912:n=jk;break;default:n=Rf}n=fR(n,oR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oR(t,e){if(nf=-1,rf=0,Ee&6)throw Error(M(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=Pf(t,t===St?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kf(t,r);else{e=r;var i=Ee;Ee|=2;var s=lR();(St!==t||Ft!==e)&&(Gr=null,el=lt()+500,oo(t,e));do try{W4();break}catch(a){aR(t,a)}while(1);aw(),Wf.current=s,Ee=i,mt!==null?e=0:(St=null,Ft=0,e=vt)}if(e!==0){if(e===2&&(i=Ev(t),i!==0&&(r=i,e=Qv(t,i))),e===1)throw n=Ec,oo(t,0),$i(t,r),Cn(t,lt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!z4(i)&&(e=Kf(t,r),e===2&&(s=Ev(t),s!==0&&(r=s,e=Qv(t,s))),e===1))throw n=Ec,oo(t,0),$i(t,r),Cn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:$s(t,En,Gr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=Iw+500-lt(),10<e)){if(Pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rv($s.bind(null,t,En,Gr),e);break}$s(t,En,Gr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B4(r/1960))-r,10<r){t.timeoutHandle=Rv($s.bind(null,t,En,Gr),r);break}$s(t,En,Gr);break;case 5:$s(t,En,Gr);break;default:throw Error(M(329))}}}return Cn(t,lt()),t.callbackNode===n?oR.bind(null,t):null}function Qv(t,e){var n=Fu;return t.current.memoizedState.isDehydrated&&(oo(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=En,En=n,e!==null&&Yv(e)),t}function Yv(t){En===null?En=t:En.push.apply(En,t)}function z4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~Ew,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function hT(t){if(Ee&6)throw Error(M(327));Va();var e=Pf(t,0);if(!(e&1))return Cn(t,lt()),null;var n=Kf(t,e);if(t.tag!==0&&n===2){var r=Ev(t);r!==0&&(e=r,n=Qv(t,r))}if(n===1)throw n=Ec,oo(t,0),$i(t,e),Cn(t,lt()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,En,Gr),Cn(t,lt()),null}function Tw(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(el=lt()+500,im&&ks())}}function Io(t){zi!==null&&zi.tag===0&&!(Ee&6)&&Va();var e=Ee;Ee|=1;var n=Zn.transition,r=xe;try{if(Zn.transition=null,xe=1,t)return t()}finally{xe=r,Zn.transition=n,Ee=e,!(Ee&6)&&ks()}}function bw(){On=ba.current,Fe(ba)}function oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_4(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lf();break;case 3:Ja(),Fe(Rn),Fe(Zt),fw();break;case 5:hw(r);break;case 4:Ja();break;case 13:Fe(Ge);break;case 19:Fe(Ge);break;case 10:lw(r.type._context);break;case 22:case 23:bw()}n=n.return}if(St=t,mt=t=rs(t.current,null),Ft=On=e,vt=0,Ec=null,Ew=lm=Eo=0,En=Fu=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ys=null}return t}function aR(t,e){do{var n=mt;try{if(aw(),Zh.current=qf,zf){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zf=!1}if(wo=0,It=yt=Ke=null,Mu=!1,vc=0,ww.current=null,n===null||n.return===null){vt=1,Ec=e,mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ZI(o);if(f!==null){f.flags&=-257,eT(f,o,a,s,e),f.mode&1&&JI(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){JI(s,u,e),Sw();break e}l=Error(M(426))}}else if(Be&&a.mode&1){var w=ZI(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),eT(w,o,a,s,e),sw(Za(l,a));break e}}s=l=Za(l,a),vt!==4&&(vt=2),Fu===null?Fu=[s]:Fu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=qA(s,l,e);WI(s,m);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ts===null||!ts.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=WA(s,a,e);WI(s,E);break e}}s=s.return}while(s!==null)}cR(n)}catch(I){e=I,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function lR(){var t=Wf.current;return Wf.current=qf,t===null?qf:t}function Sw(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Eo&268435455)&&!(lm&268435455)||$i(St,Ft)}function Kf(t,e){var n=Ee;Ee|=2;var r=lR();(St!==t||Ft!==e)&&(Gr=null,oo(t,e));do try{q4();break}catch(i){aR(t,i)}while(1);if(aw(),Ee=n,Wf.current=r,mt!==null)throw Error(M(261));return St=null,Ft=0,vt}function q4(){for(;mt!==null;)uR(mt)}function W4(){for(;mt!==null&&!gM();)uR(mt)}function uR(t){var e=hR(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?cR(t):mt=e,ww.current=null}function cR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F4(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,mt=null;return}}else if(n=V4(n,e,On),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);vt===0&&(vt=5)}function $s(t,e,n){var r=xe,i=Zn.transition;try{Zn.transition=null,xe=1,H4(t,e,n,r)}finally{Zn.transition=i,xe=r}return null}function H4(t,e,n,r){do Va();while(zi!==null);if(Ee&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xM(t,s),t===St&&(mt=St=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,fR(Rf,function(){return Va(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var o=xe;xe=1;var a=Ee;Ee|=4,ww.current=null,U4(t,n),iR(n,t),h4(kv),Cf=!!xv,kv=xv=null,t.current=n,j4(n),yM(),Ee=a,xe=o,Zn.transition=s}else t.current=n;if(gh&&(gh=!1,zi=t,Gf=i),s=t.pendingLanes,s===0&&(ts=null),wM(n.stateNode),Cn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hf)throw Hf=!1,t=Gv,Gv=null,t;return Gf&1&&t.tag!==0&&Va(),s=t.pendingLanes,s&1?t===Kv?$u++:($u=0,Kv=t):$u=0,ks(),null}function Va(){if(zi!==null){var t=zk(Gf),e=Zn.transition,n=xe;try{if(Zn.transition=null,xe=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,Gf=0,Ee&6)throw Error(M(331));var i=Ee;for(Ee|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Vu(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,f=c.return;if(tR(c),c===u){Y=null;break}if(h!==null){h.return=f,Y=h;break}Y=f}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Y=m;break e}Y=s.return}}var p=t.current;for(Y=p;Y!==null;){o=Y;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Y=v;else e:for(o=p;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:am(9,a)}}catch(I){Ze(a,a.return,I)}if(a===o){Y=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Y=E;break e}Y=a.return}}if(Ee=i,ks(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Zp,t)}catch{}r=!0}return r}finally{xe=n,Zn.transition=e}}return!1}function fT(t,e,n){e=Za(n,e),e=qA(t,e,1),t=es(t,e,1),e=cn(),t!==null&&(hd(t,1,e),Cn(t,e))}function Ze(t,e,n){if(t.tag===3)fT(t,t,n);else for(;e!==null;){if(e.tag===3){fT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){t=Za(n,t),t=WA(e,t,1),e=es(e,t,1),t=cn(),e!==null&&(hd(e,1,t),Cn(e,t));break}}e=e.return}}function G4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Ft&n)===n&&(vt===4||vt===3&&(Ft&130023424)===Ft&&500>lt()-Iw?oo(t,0):Ew|=n),Cn(t,e)}function dR(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var n=cn();t=ui(t,e),t!==null&&(hd(t,e,n),Cn(t,n))}function K4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dR(t,n)}function Q4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),dR(t,n)}var hR;hR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,M4(t,e,n);bn=!!(t.flags&131072)}else bn=!1,Be&&e.flags&1048576&&mA(e,Ff,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var i=Qa(e,Zt.current);Ma(e,n),i=mw(null,e,r,t,i,n);var s=gw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,Mf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cw(e),i.updater=sm,e.stateNode=i,i._reactInternals=e,Mv(e,r,t,n),e=$v(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&rw(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=X4(r),t=or(r,t),i){case 0:e=Fv(null,e,r,t,n);break e;case 1:e=rT(null,e,r,t,n);break e;case 11:e=tT(null,e,r,t,n);break e;case 14:e=nT(null,e,r,or(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Fv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),rT(t,e,r,i,n);case 3:e:{if(QA(e),t===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_A(t,e),jf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Za(Error(M(423)),e),e=iT(t,e,r,n,i);break e}else if(r!==i){i=Za(Error(M(424)),e),e=iT(t,e,r,n,i);break e}else for(Dn=Zi(e.stateNode.containerInfo.firstChild),Mn=e,Be=!0,ur=null,n=TA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),r===i){e=ci(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return bA(e),t===null&&Nv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Av(r,i)?o=null:s!==null&&Av(r,s)&&(e.flags|=32),KA(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&Nv(e),null;case 13:return YA(t,e,n);case 4:return dw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xa(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),tT(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce($f,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!Rn.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ri(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=er(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),nT(t,e,r,i,n);case 15:return HA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),tf(t,e),e.tag=1,Pn(r)?(t=!0,Mf(e)):t=!1,Ma(e,n),EA(e,r,i),Mv(e,r,i,n),$v(null,e,r,!0,t,n);case 19:return XA(t,e,n);case 22:return GA(t,e,n)}throw Error(M(156,e.tag))};function fR(t,e){return $k(t,e)}function Y4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new Y4(t,e,n,r)}function xw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X4(t){if(typeof t=="function")return xw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W0)return 11;if(t===H0)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pa:return ao(n.children,i,s,e);case q0:o=8,i|=8;break;case ov:return t=Yn(12,n,e,i|2),t.elementType=ov,t.lanes=s,t;case av:return t=Yn(13,n,e,i),t.elementType=av,t.lanes=s,t;case lv:return t=Yn(19,n,e,i),t.elementType=lv,t.lanes=s,t;case Ik:return um(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wk:o=10;break e;case Ek:o=9;break e;case W0:o=11;break e;case H0:o=14;break e;case Li:o=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ao(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function um(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=Ik,t.lanes=n,t.stateNode={isHidden:!1},t}function oy(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function ay(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kw(t,e,n,r,i,s,o,a,l){return t=new J4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cw(s),t}function Z4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pR(t){if(!t)return us;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(Pn(n))return fA(t,n,e)}return e}function mR(t,e,n,r,i,s,o,a,l){return t=kw(n,r,!0,t,i,s,o,a,l),t.context=pR(null),n=t.current,r=cn(),i=ns(n),s=ri(r,i),s.callback=e??null,es(n,s,i),t.current.lanes=i,hd(t,i,r),Cn(t,r),t}function cm(t,e,n,r){var i=e.current,s=cn(),o=ns(i);return n=pR(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=es(i,e,o),t!==null&&(fr(t,i,o,s),Jh(t,i,o)),o}function Qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Aw(t,e){pT(t,e),(t=t.alternate)&&pT(t,e)}function eV(){return null}var gR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rw(t){this._internalRoot=t}dm.prototype.render=Rw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));cm(t,e,null,null)};dm.prototype.unmount=Rw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Io(function(){cm(null,t,null,null)}),e[li]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&Kk(t)}};function Pw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mT(){}function tV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Qf(o);s.call(u)}}var o=mR(e,r,t,0,null,!1,!1,"",mT);return t._reactRootContainer=o,t[li]=o.current,fc(t.nodeType===8?t.parentNode:t),Io(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qf(l);a.call(u)}}var l=kw(t,0,!1,null,null,!1,!1,"",mT);return t._reactRootContainer=l,t[li]=l.current,fc(t.nodeType===8?t.parentNode:t),Io(function(){cm(e,l,n,r)}),l}function fm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qf(o);a.call(l)}}cm(e,o,t,i)}else o=tV(n,e,t,i,r);return Qf(o)}qk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_u(e.pendingLanes);n!==0&&(Q0(e,n|1),Cn(e,lt()),!(Ee&6)&&(el=lt()+500,ks()))}break;case 13:Io(function(){var r=ui(t,1);if(r!==null){var i=cn();fr(r,t,1,i)}}),Aw(t,1)}};Y0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=cn();fr(e,t,134217728,n)}Aw(t,134217728)}};Wk=function(t){if(t.tag===13){var e=ns(t),n=ui(t,e);if(n!==null){var r=cn();fr(n,t,e,r)}Aw(t,e)}};Hk=function(){return xe};Gk=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};vv=function(t,e,n){switch(e){case"input":if(dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rm(r);if(!i)throw Error(M(90));bk(r),dv(r,i)}}}break;case"textarea":xk(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};Nk=Tw;Dk=Io;var nV={usingClientEntryPoint:!1,Events:[pd,va,rm,Ck,Ok,Tw]},su={findFiberByHostInstance:Qs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rV={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vk(t),t===null?null:t.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||eV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Zp=yh.inject(rV),Ur=yh}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nV;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pw(e))throw Error(M(200));return Z4(t,e,null,n)};Bn.createRoot=function(t,e){if(!Pw(t))throw Error(M(299));var n=!1,r="",i=gR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kw(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,fc(t.nodeType===8?t.parentNode:t),new Rw(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Vk(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Io(t)};Bn.hydrate=function(t,e,n){if(!hm(e))throw Error(M(200));return fm(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!Pw(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mR(e,null,t,1,n??null,i,!1,s,o),t[li]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dm(e)};Bn.render=function(t,e,n){if(!hm(e))throw Error(M(200));return fm(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!hm(t))throw Error(M(40));return t._reactRootContainer?(Io(function(){fm(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Bn.unstable_batchedUpdates=Tw;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hm(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return fm(t,e,n,!1,r)};Bn.version="18.2.0-next-9e3b772b8-20220608";function yR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yR)}catch(t){console.error(t)}}yR(),mk.exports=Bn;var vR=mk.exports,gT=vR;iv.createRoot=gT.createRoot,iv.hydrateRoot=gT.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new sV;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oV=function(t){const e=_R(t);return wR.encodeByteArray(e,!0)},Yf=function(t){return oV(t).replace(/\./g,"")},ER=function(t){try{return wR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aV(n)||(t[n]=Xf(t[n],e[n]));return t}function aV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=()=>lV().__FIREBASE_DEFAULTS__,cV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ER(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return uV()||cV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IR=t=>{var e,n;return(n=(e=pm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hV=t=>{const e=IR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TR=()=>{var t;return(t=pm())===null||t===void 0?void 0:t.config},bR=t=>{var e;return(e=pm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yf(JSON.stringify(n)),Yf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Cw(){var t;const e=(t=pm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mV(){return typeof self=="object"&&self.self===self}function xR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gV(){return!Cw()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ic(){try{return typeof indexedDB=="object"}catch{return!1}}function yV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="FirebaseError";class Yt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vV,Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_V(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}}function _V(t,e){return t.replace(wV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function EV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vT(s)&&vT(o)){if(!Jf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AR(t,e){const n=new IV(t,e);return n.subscribe.bind(n)}class IV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ly),i.error===void 0&&(i.error=ly),i.complete===void 0&&(i.complete=ly);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t){return t&&t._delegate?t._delegate:t}class nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xV(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SV(t){return t===Us?void 0:t}function xV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=[];var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const RR={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},AV=ge.INFO,RV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},PV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=AV,this._logHandler=PV,this._userLogHandler=null,Nw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}function CV(t){Nw.forEach(e=>{e.setLogLevel(t)})}function OV(t,e){for(const n of Nw){let r=null;e&&e.level&&(r=RR[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ge[s].toLowerCase(),message:a,args:o,type:i.name})}}}const NV=(t,e)=>e.some(n=>t instanceof n);let _T,wT;function DV(){return _T||(_T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LV(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PR=new WeakMap,Xv=new WeakMap,CR=new WeakMap,uy=new WeakMap,Dw=new WeakMap;function MV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(is(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PR.set(n,t)}).catch(()=>{}),Dw.set(e,t),e}function VV(t){if(Xv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xv.set(t,e)}let Jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FV(t){Jv=t(Jv)}function $V(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return CR.set(r,e.sort?e.sort():[e]),is(r)}:LV().includes(t)?function(...e){return t.apply(cy(this),e),is(PR.get(this))}:function(...e){return is(t.apply(cy(this),e))}}function UV(t){return typeof t=="function"?$V(t):(t instanceof IDBTransaction&&VV(t),NV(t,DV())?new Proxy(t,Jv):t)}function is(t){if(t instanceof IDBRequest)return MV(t);if(uy.has(t))return uy.get(t);const e=UV(t);return e!==t&&(uy.set(t,e),Dw.set(e,t)),e}const cy=t=>Dw.get(t);function jV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(is(o.result),l.oldVersion,l.newVersion,is(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BV=["get","getKey","getAll","getAllKeys","count"],zV=["put","add","delete","clear"],dy=new Map;function ET(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dy.set(e,s),s}FV(t=>({...t,get:(e,n,r)=>ET(e,n)||t.get(e,n,r),has:(e,n)=>!!ET(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",IT="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new mm("@firebase/app"),HV="@firebase/app-compat",GV="@firebase/analytics-compat",KV="@firebase/analytics",QV="@firebase/app-check-compat",YV="@firebase/app-check",XV="@firebase/auth",JV="@firebase/auth-compat",ZV="@firebase/database",eF="@firebase/database-compat",tF="@firebase/functions",nF="@firebase/functions-compat",rF="@firebase/installations",iF="@firebase/installations-compat",sF="@firebase/messaging",oF="@firebase/messaging-compat",aF="@firebase/performance",lF="@firebase/performance-compat",uF="@firebase/remote-config",cF="@firebase/remote-config-compat",dF="@firebase/storage",hF="@firebase/storage-compat",fF="@firebase/firestore",pF="@firebase/firestore-compat",mF="firebase",gF="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]",yF={[Zv]:"fire-core",[HV]:"fire-core-compat",[KV]:"fire-analytics",[GV]:"fire-analytics-compat",[YV]:"fire-app-check",[QV]:"fire-app-check-compat",[XV]:"fire-auth",[JV]:"fire-auth-compat",[ZV]:"fire-rtdb",[eF]:"fire-rtdb-compat",[tF]:"fire-fn",[nF]:"fire-fn-compat",[rF]:"fire-iid",[iF]:"fire-iid-compat",[sF]:"fire-fcm",[oF]:"fire-fcm-compat",[aF]:"fire-perf",[lF]:"fire-perf-compat",[uF]:"fire-rc",[cF]:"fire-rc-compat",[dF]:"fire-gcs",[hF]:"fire-gcs-compat",[fF]:"fire-fst",[pF]:"fire-fst-compat","fire-js":"fire-js",[mF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Map,Tc=new Map;function Zf(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function OR(t,e){t.container.addOrOverwriteComponent(e)}function di(t){const e=t.name;if(Tc.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;Tc.set(e,t);for(const n of ds.values())Zf(n,t);return!0}function gd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vF(t,e,n=cs){gd(t,e).clearInstance(n)}function _F(){Tc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ii=new zo("app","Firebase",wF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EF=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=gF;function yd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=TR()),!n)throw ii.create("no-options");const s=ds.get(i);if(s){if(Jf(n,s.options)&&Jf(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new kV(i);for(const l of Tc.values())o.addComponent(l);const a=new EF(n,r,o);return ds.set(i,a),a}function Lw(t=cs){const e=ds.get(t);if(!e&&t===cs&&TR())return yd();if(!e)throw ii.create("no-app",{appName:t});return e}function NR(){return Array.from(ds.values())}async function DR(t){const e=t.name;ds.has(e)&&(ds.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Vn(t,e,n){var r;let i=(r=yF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}di(new nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function LR(t,e){if(t!==null&&typeof t!="function")throw ii.create("invalid-log-argument");OV(t,e)}function MR(t){CV(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="firebase-heartbeat-database",TF=1,bc="firebase-heartbeat-store";let hy=null;function VR(){return hy||(hy=jV(IF,TF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bc)}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),hy}async function bF(t){try{return await(await VR()).transaction(bc).objectStore(bc).get(FR(t))}catch(e){if(e instanceof Yt)To.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function TT(t,e){try{const r=(await VR()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,FR(t)),await r.done}catch(n){if(n instanceof Yt)To.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function FR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=1024,xF=30*24*60*60*1e3;class kF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=xF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bT(),{heartbeatsToSend:r,unsentEntries:i}=AF(this._heartbeatsCache.heartbeats),s=Yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function bT(){return new Date().toISOString().substring(0,10)}function AF(t,e=SF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ST(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ST(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ic()?yV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ST(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){di(new nr("platform-logger",e=>new qV(e),"PRIVATE")),di(new nr("heartbeat",e=>new kF(e),"PRIVATE")),Vn(Zv,IT,t),Vn(Zv,IT,"esm2017"),Vn("fire-js","")}PF("");const CF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Yt,SDK_VERSION:_i,_DEFAULT_ENTRY_NAME:cs,_addComponent:Zf,_addOrOverwriteComponent:OR,_apps:ds,_clearComponents:_F,_components:Tc,_getProvider:gd,_registerComponent:di,_removeServiceInstance:vF,deleteApp:DR,getApp:Lw,getApps:NR,initializeApp:yd,onLog:LR,registerVersion:Vn,setLogLevel:MR},Symbol.toStringTag,{value:"Module"}));var OF="firebase",NF="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(OF,NF,"app");var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kt.apply(this,arguments)};function Mw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const ou={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Jo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function $R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LF=DF,MF=$R,UR=new zo("auth","Firebase",$R());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new mm("@firebase/auth");function VF(t,...e){ep.logLevel<=ge.WARN&&ep.warn(`Auth (${_i}): ${t}`,...e)}function of(t,...e){ep.logLevel<=ge.ERROR&&ep.error(`Auth (${_i}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,...e){throw Vw(t,...e)}function $t(t,...e){return Vw(t,...e)}function jR(t,e,n){const r=Object.assign(Object.assign({},MF()),{[e]:n});return new zo("auth","Firebase",r).create(e,{appName:t.name})}function Cl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&At(t,"argument-error"),jR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UR.create(t,...e)}function V(t,e,...n){if(!t)throw Vw(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function yr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fw(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fw()||xR()||"connection"in navigator)?navigator.onLine:!0}function $F(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=pV()||Ow()}get(){return FF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new vd(3e4,6e4);function st(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ot(t,e,n,r,i={}){return zR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),BR.fetch()(qR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function zR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UF),e);try{const i=new zF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Iu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jR(t,c,u);At(t,c)}}catch(i){if(i instanceof Yt)throw i;At(t,"network-request-failed",{message:String(i)})}}async function wi(t,e,n,r,i={}){const s=await ot(t,e,n,r,i);return"mfaPendingCredential"in s&&At(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$w(t.config,i):`${t.config.apiScheme}://${i}`}function BF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($t(this.auth,"network-request-failed")),jF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$t(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){return t!==void 0&&t.getResponse!==void 0}function AT(t){return t!==void 0&&t.enterprise!==void 0}class qF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t){return(await ot(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function HF(t,e){return ot(t,"GET","/v2/recaptchaConfig",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){return ot(t,"POST","/v1/accounts:delete",e)}async function KF(t,e){return ot(t,"POST","/v1/accounts:update",e)}async function QF(t,e){return ot(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YF(t,e=!1){const n=X(t),r=await n.getIdToken(e),i=gm(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uu(fy(i.auth_time)),issuedAtTime:Uu(fy(i.iat)),expirationTime:Uu(fy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fy(t){return Number(t)*1e3}function gm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=ER(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XF(t){const e=gm(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yt&&JF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hi(t,QF(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?n3(s.providerUserInfo):[],a=t3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new WR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function e3(t){const e=X(t);await kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n3(t){return t.map(e=>{var{providerId:n}=e,r=Mw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){const n=await zR(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(t,e){return ot(t,"POST","/v2/accounts:revokeToken",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ac;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hi(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YF(this,e)}reload(){return e3(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hi(this,GF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:T,stsTokenManager:x}=n;V(v&&x,e,"internal-error");const S=Ac.fromJSON(this.name,x);V(typeof v=="string",e,"internal-error"),Ai(d,e.name),Ai(h,e.name),V(typeof E=="boolean",e,"internal-error"),V(typeof I=="boolean",e,"internal-error"),Ai(f,e.name),Ai(y,e.name),Ai(_,e.name),Ai(w,e.name),Ai(m,e.name),Ai(p,e.name);const O=new lo({uid:v,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:I,photoURL:y,phoneNumber:f,tenantId:_,stsTokenManager:S,createdAt:m,lastLoginAt:p});return T&&Array.isArray(T)&&(O.providerData=T.map(L=>Object.assign({},L))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ac;i.updateFromServerResponse(n);const s=new lo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function Ln(t){yr(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HR.type="NONE";const tl=HR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,e,n){return`firebase:${t}:${e}:${n}`}class Fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uo(this.userKey,i.apiKey,s),this.fullPersistenceKey=uo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fa(Ln(tl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ln(tl);const o=uo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=lo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YR(e))return"Blackberry";if(XR(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||KR(e))&&!e.includes("edge/"))return"Chrome";if(_d(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GR(t=Xe()){return/firefox\//i.test(t)}function Uw(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KR(t=Xe()){return/crios\//i.test(t)}function QR(t=Xe()){return/iemobile/i.test(t)}function _d(t=Xe()){return/android/i.test(t)}function YR(t=Xe()){return/blackberry/i.test(t)}function XR(t=Xe()){return/webos/i.test(t)}function Ol(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s3(t=Xe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function o3(t=Xe()){var e;return Ol(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a3(){return kR()&&document.documentMode===10}function JR(t=Xe()){return Ol(t)||_d(t)||XR(t)||YR(t)||/windows phone/i.test(t)||QR(t)}function l3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e=[]){let n;switch(t){case"Browser":n=PT(Xe());break;case"Worker":n=`${PT(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_i}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return ot(t,"GET","/v2/passwordPolicy",st(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=6;class h3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:d3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new u3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$F()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?X(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c3(this),n=new h3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nt(t){return X(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$t("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",p3().appendChild(r)})}function eP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const m3="https://www.google.com/recaptcha/enterprise.js?render=",g3="recaptcha-enterprise",y3="NO_RECAPTCHA";class v3{constructor(e){this.type=g3,this.auth=nt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;AT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(y3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}jw(m3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function OT(t,e,n,r=!1){const i=new v3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await OT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await OT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){const n=gd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jf(s,e??{}))return i;At(i,"already-initialized")}return n.initialize({options:e})}function w3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tP(t,e,n){const r=nt(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=nP(e),{host:o,port:a}=E3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||I3()}function nP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E3(t){const e=nP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:NT(o)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){return ot(t,"POST","/v1/accounts:resetPassword",st(t,e))}async function T3(t,e){return ot(t,"POST","/v1/accounts:update",e)}async function b3(t,e){return ot(t,"POST","/v1/accounts:signUp",e)}async function S3(t,e){return ot(t,"POST","/v1/accounts:update",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){return wi(t,"POST","/v1/accounts:signInWithPassword",st(t,e))}async function ym(t,e){return ot(t,"POST","/v1/accounts:sendOobCode",st(t,e))}async function k3(t,e){return ym(t,e)}async function A3(t,e){return ym(t,e)}async function R3(t,e){return ym(t,e)}async function P3(t,e){return ym(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){return wi(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))}async function O3(t,e){return wi(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Nl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rc(e,n,"signInWithPassword",x3);case"emailLink":return C3(e,{email:this._email,oobCode:this._password});default:At(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rc(e,r,"signUpPassword",b3);case"emailLink":return O3(e,{idToken:n,email:this._email,oobCode:this._password});default:At(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function si(t,e){return wi(t,"POST","/v1/accounts:signInWithIdp",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="http://localhost";class qr extends Nl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):At("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return si(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,si(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,si(e,n)}buildRequest(){const e={requestUri:N3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e){return ot(t,"POST","/v1/accounts:sendVerificationCode",st(t,e))}async function L3(t,e){return wi(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,e))}async function M3(t,e){const n=await wi(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,e));if(n.temporaryProof)throw Iu(t,"account-exists-with-different-credential",n);return n}const V3={USER_NOT_FOUND:"user-not-found"};async function F3(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return wi(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,n),V3)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Nl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new co({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new co({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return L3(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return M3(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return F3(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new co({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U3(t){const e=Sa(Eu(t)).link,n=e?Sa(Eu(e)).deep_link_id:null,r=Sa(Eu(t)).deep_link_id;return(r?Sa(Eu(r)).link:null)||r||n||e||t}class vm{constructor(e){var n,r,i,s,o,a;const l=Sa(Eu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=$3((i=l.mode)!==null&&i!==void 0?i:null);V(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=U3(e);try{return new vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.providerId=As.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vm.parseLink(n);return V(r,"argument-error"),Pc._fromEmailAndCode(e,r.code,r.tenantId)}}As.PROVIDER_ID="password";As.EMAIL_PASSWORD_SIGN_IN_METHOD="password";As.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $a extends Dl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),qr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return $a.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return $a.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new $a(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Dl{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Dl{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="http://localhost";class nl extends Nl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return si(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,si(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,si(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new nl(r,s)}static _create(e,n){return new nl(e,n)}buildRequest(){return{requestUri:j3,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="saml.";class tp extends Ei{constructor(e){V(e.startsWith(B3),"argument-error"),super(e)}static credentialFromResult(e){return tp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=nl.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return nl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Dl{constructor(){super("twitter.com")}static credential(e,n){return qr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return wi(t,"POST","/v1/accounts:signUp",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await lo._fromIdTokenResponse(e,r,i),o=DT(r);return new rr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DT(r);return new rr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t){var e;const n=nt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new rr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await iP(n,{returnSecureToken:!0}),i=await rr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new np(e,n,r,i)}}function sP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e){const n=X(t);await _m(!0,n,e);const{providerUserInfo:r}=await KF(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=oP(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Bw(t,e,n=!1){const r=await hi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rr._forOperation(t,"link",r)}async function _m(t,e,n){await kc(e);const r=oP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";V(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await hi(t,sP(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=gm(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),rr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&At(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e,n=!1){const r="signIn",i=await sP(t,r,e),s=await rr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wm(t,e){return lP(nt(t),e)}async function uP(t,e){const n=X(t);return await _m(!1,n,e.providerId),Bw(n,e)}async function cP(t,e){return aP(X(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return wi(t,"POST","/v1/accounts:signInWithCustomToken",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){const n=nt(t),r=await W3(n,{token:e,returnSecureToken:!0}),i=await rr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?zw._fromServerResponse(e,n):"totpInfo"in n?qw._fromServerResponse(e,n):At(e,"internal-error")}}class zw extends wd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new zw(n)}}class qw extends wd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new qw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(t){const e=nt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G3(t,e,n){const r=nt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Em(r,i,n),await Rc(r,i,"getOobCode",A3)}async function K3(t,e,n){await rP(X(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ww(t),r})}async function Q3(t,e){await S3(X(t),{oobCode:e})}async function dP(t,e){const n=X(t),r=await rP(n,{oobCode:e}),i=r.requestType;switch(V(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(r.mfaInfo,n,"internal-error");default:V(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=wd._fromServerResponse(nt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Y3(t,e){const{data:n}=await dP(X(t),e);return n.email}async function hP(t,e,n){const r=nt(t),o=await Rc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ww(t),l}),a=await rr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fP(t,e,n){return wm(X(t),As.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ww(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e,n){const r=nt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){V(a.handleCodeInApp,r,"argument-error"),a&&Em(r,o,a)}s(i,n),await Rc(r,i,"getOobCode",R3)}function J3(t,e){const n=vm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Z3(t,e,n){const r=X(t),i=As.credentialWithLink(e,n||xc());return V(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t,e){return ot(t,"POST","/v1/accounts:createAuthUri",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e){const n=Fw()?xc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await e5(X(t),r);return i||[]}async function n5(t,e){const n=X(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Em(n.auth,i,e);const{email:s}=await k3(n.auth,i);s!==t.email&&await t.reload()}async function r5(t,e,n){const r=X(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Em(r.auth,s,n);const{email:o}=await P3(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return ot(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=X(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await hi(r,i5(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function o5(t,e){return mP(X(t),e,null)}function pP(t,e){return mP(X(t),null,e)}async function mP(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await hi(t,T3(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=gm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ua(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new l5(s,i);case"github.com":return new u5(s,i);case"google.com":return new c5(s,i);case"twitter.com":return new d5(s,i,t.screenName||null);case"custom":case"anonymous":return new Ua(s,null);default:return new Ua(s,r,i)}}class Ua{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class gP extends Ua{constructor(e,n,r,i){super(e,n,r),this.username=i}}class l5 extends Ua{constructor(e,n){super(e,"facebook.com",n)}}class u5 extends gP{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class c5 extends Ua{constructor(e,n){super(e,"google.com",n)}}class d5 extends gP{constructor(e,n,r){super(e,"twitter.com",n,r)}}function h5(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:a5(n)}function f5(t,e,n,r){return X(t).onIdTokenChanged(e,n,r)}function p5(t,e,n){return X(t).beforeAuthStateChanged(e,n)}function Im(t,e,n,r){return X(t).onAuthStateChanged(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Js("enroll",e,n)}static _fromMfaPendingCredential(e){return new Js("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Js._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Js._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=nt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>wd._fromServerResponse(r,a));V(i.mfaPendingCredential,r,"internal-error");const o=Js._fromMfaPendingCredential(i.mfaPendingCredential);return new Hw(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await rr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return V(n.user,r,"internal-error"),rr._forOperation(n.user,n.operationType,u);default:At(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function m5(t,e){var n;const r=X(t),i=e;return V(e.customData.operationType,r,"argument-error"),V((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Hw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t,e){return ot(t,"POST","/v2/accounts/mfaEnrollment:start",st(t,e))}function y5(t,e){return ot(t,"POST","/v2/accounts/mfaEnrollment:finalize",st(t,e))}function v5(t,e){return ot(t,"POST","/v2/accounts/mfaEnrollment:withdraw",st(t,e))}class Gw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>wd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Gw(e)}async getSession(){return Js._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await hi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await hi(this.user,v5(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const py=new WeakMap;function _5(t){const e=X(t);return py.has(e)||py.set(e,Gw._fromUser(e)),py.get(e)}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(){const t=Xe();return Uw(t)||Ol(t)}const E5=1e3,I5=10;class vP extends yP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=w5()&&l3(),this.fallbackToPolling=JR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vP.type="LOCAL";const Tm=vP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends yP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_P.type="SESSION";const hs=_P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await T5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ed("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return window}function S5(t){ft().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof ft().WorkerGlobalScope<"u"&&typeof ft().importScripts=="function"}async function x5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A5(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="firebaseLocalStorageDb",R5=1,ip="firebaseLocalStorage",EP="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sm(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function P5(){const t=indexedDB.deleteDatabase(wP);return new Id(t).toPromise()}function e_(){const t=indexedDB.open(wP,R5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ip,{keyPath:EP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ip)?e(r):(r.close(),await P5(),e(await e_()))})})}async function LT(t,e,n){const r=Sm(t,!0).put({[EP]:e,value:n});return new Id(r).toPromise()}async function C5(t,e){const n=Sm(t,!1).get(e),r=await new Id(n).toPromise();return r===void 0?null:r.value}function MT(t,e){const n=Sm(t,!0).delete(e);return new Id(n).toPromise()}const O5=800,N5=3;class IP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(A5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x5(),!this.activeServiceWorker)return;this.sender=new b5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e_();return await LT(e,rp,"1"),await MT(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sm(i,!1).getAll();return new Id(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IP.type="LOCAL";const rl=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){return ot(t,"POST","/v2/accounts/mfaSignIn:start",st(t,e))}function L5(t,e){return ot(t,"POST","/v2/accounts/mfaSignIn:finalize",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=500,V5=6e4,vh=1e12;class F5{constructor(e){this.auth=e,this.counter=vh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new $5(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||vh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||vh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||vh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class $5{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=U5(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},V5)},M5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function U5(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=eP("rcb"),j5=new vd(3e4,6e4),B5="https://www.google.com/recaptcha/api.js?";class z5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ft().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return V(q5(n),e,"argument-error"),this.shouldResolveImmediately(n)&&kT(ft().grecaptcha)?Promise.resolve(ft().grecaptcha):new Promise((r,i)=>{const s=ft().setTimeout(()=>{i($t(e,"network-request-failed"))},j5.get());ft()[my]=()=>{ft().clearTimeout(s),delete ft()[my];const a=ft().grecaptcha;if(!a||!kT(a)){i($t(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${B5}?${Pl({onload:my,render:"explicit",hl:n})}`;jw(o).catch(()=>{clearTimeout(s),i($t(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ft().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function q5(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class W5{async load(e){return new F5(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="recaptcha",H5={theme:"light",type:"image"};let G5=class{constructor(e,n,r=Object.assign({},H5)){this.parameters=r,this.type=TP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new W5:new z5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ft()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(Fw()&&!Kw(),this.auth,"internal-error"),await K5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await WF(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function K5(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=co._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Q5(t,e,n){const r=nt(t),i=await xm(r,e,X(n));return new Qw(i,s=>wm(r,s))}async function Y5(t,e,n){const r=X(t);await _m(!1,r,"phone");const i=await xm(r.auth,e,X(n));return new Qw(i,s=>uP(r,s))}async function X5(t,e,n){const r=X(t),i=await xm(r.auth,e,X(n));return new Qw(i,s=>cP(r,s))}async function xm(t,e,n){var r;const i=await n.verify();try{V(typeof i=="string",t,"argument-error"),V(n.type===TP,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return V(o.type==="enroll",t,"internal-error"),(await g5(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{V(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return V(a,t,"missing-multi-factor-info"),(await D5(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await D3(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function J5(t,e){await Bw(X(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=class af{constructor(e){this.providerId=af.PROVIDER_ID,this.auth=nt(e)}verifyPhoneNumber(e,n){return xm(this.auth,e,X(n))}static credential(e,n){return co._fromVerification(e,n)}static credentialFromResult(e){const n=e;return af.credentialFromTaggedObject(n)}static credentialFromError(e){return af.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?co._fromTokenResponse(n,r):null}};bo.PROVIDER_ID="phone";bo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return e?Ln(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Nl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return si(e,this._buildIdpRequest())}_linkToIdToken(e,n){return si(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return si(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z5(t){return lP(t.auth,new Yw(t),t.bypassAuthState)}function e$(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),aP(n,new Yw(t),t.bypassAuthState)}async function t$(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),Bw(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z5;case"linkViaPopup":case"linkViaRedirect":return t$;case"reauthViaPopup":case"reauthViaRedirect":return e$;default:At(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=new vd(2e3,1e4);async function r$(t,e,n){const r=nt(t);Cl(t,e,Ei);const i=qo(r,n);return new Zr(r,"signInViaPopup",e,i).executeNotNull()}async function i$(t,e,n){const r=X(t);Cl(r.auth,e,Ei);const i=qo(r.auth,n);return new Zr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function s$(t,e,n){const r=X(t);Cl(r.auth,e,Ei);const i=qo(r.auth,n);return new Zr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Zr extends bP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Ed();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n$.get())};e()}}Zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="pendingRedirect",ju=new Map;class a$ extends bP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await l$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l$(t,e){const n=xP(e),r=SP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Xw(t,e){return SP(t)._set(xP(e),"true")}function u$(){ju.clear()}function Jw(t,e){ju.set(t._key(),e)}function SP(t){return Ln(t._redirectPersistence)}function xP(t){return uo(o$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t,e,n){return d$(t,e,n)}async function d$(t,e,n){const r=nt(t);Cl(t,e,Ei),await r._initializationPromise;const i=qo(r,n);return await Xw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function h$(t,e,n){return f$(t,e,n)}async function f$(t,e,n){const r=X(t);Cl(r.auth,e,Ei),await r.auth._initializationPromise;const i=qo(r.auth,n);await Xw(i,r.auth);const s=await kP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function p$(t,e,n){return m$(t,e,n)}async function m$(t,e,n){const r=X(t);Cl(r.auth,e,Ei),await r.auth._initializationPromise;const i=qo(r.auth,n);await _m(!1,r,e.providerId),await Xw(i,r.auth);const s=await kP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function g$(t,e){return await nt(t)._initializationPromise,km(t,e,!1)}async function km(t,e,n=!1){const r=nt(t),i=qo(r,e),o=await new a$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function kP(t){const e=Ed(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=10*60*1e3;class AP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($t(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y$&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(e))}saveEventToCache(e){this.cachedEventUids.add(VT(e)),this.lastProcessedEventTime=Date.now()}}function VT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e={}){return ot(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w$=/^https?/;async function E$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PP(t);for(const n of e)try{if(I$(n))return}catch{}At(t,"unauthorized-domain")}function I$(t){const e=xc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!w$.test(n))return!1;if(_$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=new vd(3e4,6e4);function FT(){const t=ft().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b$(t){return new Promise((e,n)=>{var r,i,s;function o(){FT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FT(),n($t(t,"network-request-failed"))},timeout:T$.get()})}if(!((i=(r=ft().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ft().gapi)===null||s===void 0)&&s.load)o();else{const a=eP("iframefcb");return ft()[a]=()=>{gapi.load?o():n($t(t,"network-request-failed"))},jw(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lf=null,e})}let lf=null;function S$(t){return lf=lf||b$(t),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new vd(5e3,15e3),k$="__/auth/iframe",A$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C$(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$w(e,A$):`https://${t.config.authDomain}/${k$}`,r={apiKey:e.apiKey,appName:t.name,v:_i},i=P$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pl(r).slice(1)}`}async function O$(t){const e=await S$(t),n=ft().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:C$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$t(t,"network-request-failed"),a=ft().setTimeout(()=>{s(o)},x$.get());function l(){ft().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D$=500,L$=600,M$="_blank",V$="http://localhost";class $T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F$(t,e,n,r=D$,i=L$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},N$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xe().toLowerCase();n&&(a=KR(u)?M$:n),GR(u)&&(e=e||V$,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(o3(u)&&a!=="_self")return $$(e||"",a),new $T(null);const d=window.open(e||"",a,c);V(d,t,"popup-blocked");try{d.focus()}catch{}return new $T(d)}function $$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",j$="emulator/auth/handler",B$=encodeURIComponent("fac");async function t_(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_i,eventId:i};if(e instanceof Ei){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",EV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Dl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${B$}=${encodeURIComponent(l)}`:"";return`${z$(t)}?${Pl(a).slice(1)}${u}`}function z$({config:t}){return t.emulator?$w(t,j$):`https://${t.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="webStorageSupport";class q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=km,this._overrideRedirectResult=Jw}async _openPopup(e,n,r,i){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await t_(e,n,r,xc(),i);return F$(e,o,Ed())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await t_(e,n,r,xc(),i);return S5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O$(e),r=new AP(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gy,{type:gy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gy];o!==void 0&&n(!!o),At(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JR()||Uw()||Ol()}}const CP=q$;class W${constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Dr("unexpected MultiFactorSessionType")}}}class Zw extends W${constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Zw(e)}_finalizeEnroll(e,n,r){return y5(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return L5(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class OP{constructor(){}static assertion(e){return Zw._fromCredential(e)}}OP.FACTOR_ID="phone";var UT="@firebase/auth",jT="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function K$(t){di(new nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(t)},u=new f3(r,i,s,l);return w3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new nr("auth-internal",e=>{const n=nt(e.getProvider("auth").getImmediate());return(r=>new H$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(UT,jT,G$(t)),Vn(UT,jT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=5*60,Y$=bR("authIdTokenMaxAge")||Q$;let BT=null;const X$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y$)return;const i=n==null?void 0:n.token;BT!==i&&(BT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J$(t=Lw()){const e=gd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_3(t,{popupRedirectResolver:CP,persistence:[rl,Tm,hs]}),r=bR("authTokenSyncURL");if(r){const s=X$(r);p5(n,s,()=>s(n.currentUser)),f5(n,o=>s(o))}const i=IR("auth");return i&&tP(n,`http://${i}`),n}K$("Browser");const Z$={apiKey:"AIzaSyAu1pu4r4m_kJLEyeL7Jgc6tWz94Upzk98",authDomain:"book-review-a7be9.firebaseapp.com",projectId:"book-review-a7be9",storageBucket:"book-review-a7be9.appspot.com",messagingSenderId:"905824431279",appId:"1:905824431279:web:f56fdfc06bc60dd733785a",measurementId:"G-L9QXD3H138"},eU=yd(Z$),Fn=J$(eU);/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const zT="popstate";function tU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return n_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sp(i)}return rU(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function e1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nU(){return Math.random().toString(36).substr(2,8)}function qT(t,e){return{usr:t.state,key:t.key,idx:e}}function n_(t,e,n,r){return n===void 0&&(n=null),Cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||nU()})}function sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Cc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=qi.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:m})}function h(w,m){a=qi.Push;let p=n_(_.location,w,m);n&&n(p,w),u=c()+1;let v=qT(p,u),E=_.createHref(p);try{o.pushState(v,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function f(w,m){a=qi.Replace;let p=n_(_.location,w,m);n&&n(p,w),u=c();let v=qT(p,u),E=_.createHref(p);o.replaceState(v,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:sp(w);return gt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zT,d),l=w,()=>{i.removeEventListener(zT,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(w){return o.go(w)}};return _}var WT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WT||(WT={}));function iU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ll(e):e,i=t1(r.pathname||"/",n);if(i==null)return null;let s=NP(t);sU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=pU(s[a],yU(i));return o}function NP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ss([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:hU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DP(s.path))i(s,o,l)}),e}function DP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oU=/^:\w+$/,aU=3,lU=2,uU=1,cU=10,dU=-2,HT=t=>t==="*";function hU(t,e){let n=t.split("/"),r=n.length;return n.some(HT)&&(r+=dU),e&&(r+=lU),n.filter(i=>!HT(i)).reduce((i,s)=>i+(oU.test(s)?aU:s===""?uU:cU),r)}function fU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=mU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ss([i,c.pathname]),pathnameBase:EU(ss([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ss([i,c.pathnameBase]))}return s}function mU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[d];return f&&!y?u[h]=void 0:u[h]=vU(y||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function gU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),e1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yU(t){try{return decodeURI(t)}catch(e){return e1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vU(t,e){try{return decodeURIComponent(t)}catch(n){return e1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function t1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _U(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:wU(n,e):e,search:IU(r),hash:TU(i)}}function wU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Cc({},t),gt(!i.pathname||!i.pathname.includes("?"),yy("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),yy("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),yy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let d=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d.pop();i.pathname=h.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=_U(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),EU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VP=["post","put","patch","delete"];new Set(VP);const SU=["get",...VP];new Set(SU);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}const n1=b.createContext(null),xU=b.createContext(null),Ml=b.createContext(null),Am=b.createContext(null),Rs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),FP=b.createContext(null);function kU(t,e){let{relative:n}=e===void 0?{}:e;Td()||gt(!1);let{basename:r,navigator:i}=b.useContext(Ml),{hash:s,pathname:o,search:a}=UP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Td(){return b.useContext(Am)!=null}function Rm(){return Td()||gt(!1),b.useContext(Am).location}function $P(t){b.useContext(Ml).static||b.useLayoutEffect(t)}function bd(){let{isDataRoute:t}=b.useContext(Rs);return t?jU():AU()}function AU(){Td()||gt(!1);let t=b.useContext(n1),{basename:e,navigator:n}=b.useContext(Ml),{matches:r}=b.useContext(Rs),{pathname:i}=Rm(),s=JSON.stringify(LP(r).map(l=>l.pathnameBase)),o=b.useRef(!1);return $P(()=>{o.current=!0}),b.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=MP(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ss([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function RU(){let{matches:t}=b.useContext(Rs),e=t[t.length-1];return e?e.params:{}}function UP(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=b.useContext(Rs),{pathname:i}=Rm(),s=JSON.stringify(LP(r).map(o=>o.pathnameBase));return b.useMemo(()=>MP(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function PU(t,e){return CU(t,e)}function CU(t,e,n){Td()||gt(!1);let{navigator:r}=b.useContext(Ml),{matches:i}=b.useContext(Rs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Rm(),u;if(e){var c;let _=typeof e=="string"?Ll(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||gt(!1),u=_}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=iU(t,{pathname:h}),y=MU(f&&f.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ss([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:ss([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&y?b.createElement(Am.Provider,{value:{location:op({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qi.Pop}},y):y}function OU(){let t=UU(),e=bU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const NU=b.createElement(OU,null);class DU extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(Rs.Provider,{value:this.props.routeContext},b.createElement(FP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LU(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(n1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Rs.Provider,{value:e},r)}function MU(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||gt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||NU);let h=e.concat(s.slice(0,u+1)),f=()=>{let y;return c?y=d:l.route.Component?y=b.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,b.createElement(LU,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?b.createElement(DU,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var jP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jP||{}),ap=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ap||{});function VU(t){let e=b.useContext(n1);return e||gt(!1),e}function FU(t){let e=b.useContext(xU);return e||gt(!1),e}function $U(t){let e=b.useContext(Rs);return e||gt(!1),e}function BP(t){let e=$U(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function UU(){var t;let e=b.useContext(FP),n=FU(ap.UseRouteError),r=BP(ap.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jU(){let{router:t}=VU(jP.UseNavigateStable),e=BP(ap.UseNavigateStable),n=b.useRef(!1);return $P(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,op({fromRouteId:e},s)))},[t,e])}function Ni(t){gt(!1)}function BU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:s,static:o=!1}=t;Td()&&gt(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ll(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,y=b.useMemo(()=>{let _=t1(u,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return y==null?null:b.createElement(Ml.Provider,{value:l},b.createElement(Am.Provider,{children:n,value:y}))}function zU(t){let{children:e,location:n}=t;return PU(r_(e),n)}new Promise(()=>{});function r_(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,r_(r.props.children,s));return}r.type!==Ni&&gt(!1),!r.props.index||!r.props.children||gt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=r_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function qU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HU(t,e){return t.button===0&&(!e||e==="_self")&&!WU(t)}const GU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KU="startTransition",GT=KL[KU];function QU(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=tU({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&GT?GT(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.createElement(BU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const YU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=qU(e,GU),{basename:f}=b.useContext(Ml),y,_=!1;if(typeof u=="string"&&XU.test(u)&&(y=u,YU))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),I=t1(E.pathname,f);E.origin===v.origin&&I!=null?u=I+E.search+E.hash:_=!0}catch{}let w=kU(u,{relative:i}),m=JU(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function p(v){r&&r(v),v.defaultPrevented||m(v)}return b.createElement("a",i_({},h,{href:y||w,onClick:_||s?r:p,ref:n,target:l}))});var KT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KT||(KT={}));var QT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QT||(QT={}));function JU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=bd(),u=Rm(),c=UP(t,{relative:o});return b.useCallback(d=>{if(HU(d,n)){d.preventDefault();let h=r!==void 0?r:sp(u)===sp(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var De="-ms-",Bu="-moz-",Te="-webkit-",zP="comm",Pm="rule",r1="decl",ZU="@import",qP="@keyframes",ej="@layer",tj=Math.abs,i1=String.fromCharCode,s_=Object.assign;function nj(t,e){return Tt(t,0)^45?(((e<<2^Tt(t,0))<<2^Tt(t,1))<<2^Tt(t,2))<<2^Tt(t,3):0}function WP(t){return t.trim()}function Kr(t,e){return(t=e.exec(t))?t[0]:t}function de(t,e,n){return t.replace(e,n)}function uf(t,e){return t.indexOf(e)}function Tt(t,e){return t.charCodeAt(e)|0}function il(t,e,n){return t.slice(e,n)}function Sr(t){return t.length}function HP(t){return t.length}function Tu(t,e){return e.push(t),t}function rj(t,e){return t.map(e).join("")}function YT(t,e){return t.filter(function(n){return!Kr(n,e)})}var Cm=1,sl=1,GP=0,ir=0,pt=0,Vl="";function Om(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cm,column:sl,length:o,return:"",siblings:a}}function Di(t,e){return s_(Om("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Zo(t){for(;t.root;)t=Di(t.root,{children:[t]});Tu(t,t.siblings)}function ij(){return pt}function sj(){return pt=ir>0?Tt(Vl,--ir):0,sl--,pt===10&&(sl=1,Cm--),pt}function pr(){return pt=ir<GP?Tt(Vl,ir++):0,sl++,pt===10&&(sl=1,Cm++),pt}function ho(){return Tt(Vl,ir)}function cf(){return ir}function Nm(t,e){return il(Vl,t,e)}function o_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oj(t){return Cm=sl=1,GP=Sr(Vl=t),ir=0,[]}function aj(t){return Vl="",t}function vy(t){return WP(Nm(ir-1,a_(t===91?t+2:t===40?t+1:t)))}function lj(t){for(;(pt=ho())&&pt<33;)pr();return o_(t)>2||o_(pt)>3?"":" "}function uj(t,e){for(;--e&&pr()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return Nm(t,cf()+(e<6&&ho()==32&&pr()==32))}function a_(t){for(;pr();)switch(pt){case t:return ir;case 34:case 39:t!==34&&t!==39&&a_(pt);break;case 40:t===41&&a_(t);break;case 92:pr();break}return ir}function cj(t,e){for(;pr()&&t+pt!==47+10;)if(t+pt===42+42&&ho()===47)break;return"/*"+Nm(e,ir-1)+"*"+i1(t===47?t:pr())}function dj(t){for(;!o_(ho());)pr();return Nm(t,ir)}function hj(t){return aj(df("",null,null,null,[""],t=oj(t),0,[0],t))}function df(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,y=0,_=1,w=1,m=1,p=0,v="",E=i,I=s,T=r,x=v;w;)switch(y=p,p=pr()){case 40:if(y!=108&&Tt(x,d-1)==58){uf(x+=de(vy(p),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=vy(p);break;case 9:case 10:case 13:case 32:x+=lj(y);break;case 92:x+=uj(cf()-1,7);continue;case 47:switch(ho()){case 42:case 47:Tu(fj(cj(pr(),cf()),e,n,l),l);break;default:x+="/"}break;case 123*_:a[u++]=Sr(x)*m;case 125*_:case 59:case 0:switch(p){case 0:case 125:w=0;case 59+c:m==-1&&(x=de(x,/\f/g,"")),f>0&&Sr(x)-d&&Tu(f>32?JT(x+";",r,n,d-1,l):JT(de(x," ","")+";",r,n,d-2,l),l);break;case 59:x+=";";default:if(Tu(T=XT(x,e,n,u,c,i,a,v,E=[],I=[],d,s),s),p===123)if(c===0)df(x,e,T,T,E,s,d,a,I);else switch(h===99&&Tt(x,3)===110?100:h){case 100:case 108:case 109:case 115:df(t,T,T,r&&Tu(XT(t,T,T,0,0,i,a,v,i,E=[],d,I),I),i,I,d,a,r?E:I);break;default:df(x,T,T,T,[""],I,0,a,I)}}u=c=f=0,_=m=1,v=x="",d=o;break;case 58:d=1+Sr(x),f=y;default:if(_<1){if(p==123)--_;else if(p==125&&_++==0&&sj()==125)continue}switch(x+=i1(p),p*_){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[u++]=(Sr(x)-1)*m,m=1;break;case 64:ho()===45&&(x+=vy(pr())),h=ho(),c=d=Sr(v=x+=dj(cf())),p++;break;case 45:y===45&&Sr(x)==2&&(_=0)}}return s}function XT(t,e,n,r,i,s,o,a,l,u,c,d){for(var h=i-1,f=i===0?s:[""],y=HP(f),_=0,w=0,m=0;_<r;++_)for(var p=0,v=il(t,h+1,h=tj(w=o[_])),E=t;p<y;++p)(E=WP(w>0?f[p]+" "+v:de(v,/&\f/g,f[p])))&&(l[m++]=E);return Om(t,e,n,i===0?Pm:a,l,u,c,d)}function fj(t,e,n,r){return Om(t,e,n,zP,i1(ij()),il(t,2,-2),0,r)}function JT(t,e,n,r,i){return Om(t,e,n,r1,il(t,0,r),il(t,r+1,-1),r,i)}function KP(t,e,n){switch(nj(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 4789:return Bu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Bu+t+De+t+t;case 5936:switch(Tt(t,e+11)){case 114:return Te+t+De+de(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+De+de(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+De+de(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+De+t+t;case 6165:return Te+t+De+"flex-"+t+t;case 5187:return Te+t+de(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+De+"flex-$1$2")+t;case 5443:return Te+t+De+"flex-item-"+de(t,/flex-|-self/g,"")+(Kr(t,/flex-|baseline/)?"":De+"grid-row-"+de(t,/flex-|-self/g,""))+t;case 4675:return Te+t+De+"flex-line-pack"+de(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+De+de(t,"shrink","negative")+t;case 5292:return Te+t+De+de(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+de(t,"-grow","")+Te+t+De+de(t,"grow","positive")+t;case 4554:return Te+de(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return de(de(de(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return de(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return de(de(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+De+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4200:if(!Kr(t,/flex-|baseline/))return De+"grid-column-align"+il(t,e)+t;break;case 2592:case 3360:return De+de(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Kr(r.props,/grid-\w+-end/)})?~uf(t+(n=n[e].value),"span")?t:De+de(t,"-start","")+t+De+"grid-row-span:"+(~uf(n,"span")?Kr(n,/\d+/):+Kr(n,/\d+/)-+Kr(t,/\d+/))+";":De+de(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Kr(r.props,/grid-\w+-start/)})?t:De+de(de(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return de(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(t)-1-e>6)switch(Tt(t,e+1)){case 109:if(Tt(t,e+4)!==45)break;case 102:return de(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Bu+(Tt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~uf(t,"stretch")?KP(de(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return de(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return De+i+":"+s+u+(o?De+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(Tt(t,e+6)===121)return de(t,":",":"+Te)+t;break;case 6444:switch(Tt(t,Tt(t,14)===45?18:11)){case 120:return de(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(Tt(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+De+"$2box$3")+t;case 100:return de(t,":",":"+De)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return de(t,"scroll-","scroll-snap-")+t}return t}function lp(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function pj(t,e,n,r){switch(t.type){case ej:if(t.children.length)break;case ZU:case r1:return t.return=t.return||t.value;case zP:return"";case qP:return t.return=t.value+"{"+lp(t.children,r)+"}";case Pm:if(!Sr(t.value=t.props.join(",")))return""}return Sr(n=lp(t.children,r))?t.return=t.value+"{"+n+"}":""}function mj(t){var e=HP(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function gj(t){return function(e){e.root||(e=e.return)&&t(e)}}function yj(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case r1:t.return=KP(t.value,t.length,n);return;case qP:return lp([Di(t,{value:de(t.value,"@","@"+Te)})],r);case Pm:if(t.length)return rj(n=t.props,function(i){switch(Kr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Zo(Di(t,{props:[de(i,/:(read-\w+)/,":"+Bu+"$1")]})),Zo(Di(t,{props:[i]})),s_(t,{props:YT(n,r)});break;case"::placeholder":Zo(Di(t,{props:[de(i,/:(plac\w+)/,":"+Te+"input-$1")]})),Zo(Di(t,{props:[de(i,/:(plac\w+)/,":"+Bu+"$1")]})),Zo(Di(t,{props:[de(i,/:(plac\w+)/,De+"input-$1")]})),Zo(Di(t,{props:[i]})),s_(t,{props:YT(n,r)});break}return""})}}var vj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ol=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",s1=typeof window<"u"&&"HTMLElement"in window,_j=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),wj={},Dm=Object.freeze([]),al=Object.freeze({});function QP(t,e,n){return n===void 0&&(n=al),t.theme!==n.theme&&t.theme||e||n.theme}var YP=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ej=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ij=/(^-|-$)/g;function ZT(t){return t.replace(Ej,"-").replace(Ij,"")}var Tj=/(a)(d)/gi,eb=function(t){return String.fromCharCode(t+(t>25?39:97))};function l_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=eb(e%52)+n;return(eb(e%52)+n).replace(Tj,"$1-$2")}var _y,xa=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},XP=function(t){return xa(5381,t)};function JP(t){return l_(XP(t)>>>0)}function bj(t){return t.displayName||t.name||"Component"}function wy(t){return typeof t=="string"&&!0}var ZP=typeof Symbol=="function"&&Symbol.for,eC=ZP?Symbol.for("react.memo"):60115,Sj=ZP?Symbol.for("react.forward_ref"):60112,xj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Aj=((_y={})[Sj]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_y[eC]=tC,_y);function tb(t){return("type"in(e=t)&&e.type.$$typeof)===eC?tC:"$$typeof"in t?Aj[t.$$typeof]:xj;var e}var Rj=Object.defineProperty,Pj=Object.getOwnPropertyNames,nb=Object.getOwnPropertySymbols,Cj=Object.getOwnPropertyDescriptor,Oj=Object.getPrototypeOf,rb=Object.prototype;function nC(t,e,n){if(typeof e!="string"){if(rb){var r=Oj(e);r&&r!==rb&&nC(t,r,n)}var i=Pj(e);nb&&(i=i.concat(nb(e)));for(var s=tb(t),o=tb(e),a=0;a<i.length;++a){var l=i[a];if(!(l in kj||n&&n[l]||o&&l in o||s&&l in s)){var u=Cj(e,l);try{Rj(t,l,u)}catch{}}}}return t}function ll(t){return typeof t=="function"}function o1(t){return typeof t=="object"&&"styledComponentId"in t}function Zs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function u_(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Oc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function c_(t,e,n){if(n===void 0&&(n=!1),!n&&!Oc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=c_(t[r],e[r]);else if(Oc(e))for(var r in e)t[r]=c_(t[r],e[r]);return t}function a1(t,e){Object.defineProperty(t,"toString",{value:e})}function Sd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Nj=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Sd(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},t}(),hf=new Map,up=new Map,ff=1,_h=function(t){if(hf.has(t))return hf.get(t);for(;up.has(ff);)ff++;var e=ff++;return hf.set(t,e),up.set(e,t),e},Dj=function(t,e){ff=e+1,hf.set(t,e),up.set(e,t)},Lj="style[".concat(ol,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),Mj=new RegExp("^".concat(ol,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Vj=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Fj=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Mj);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(Dj(c,u),Vj(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function $j(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var rC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ol,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ol,"active"),r.setAttribute("data-styled-version","6.1.1");var o=$j();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Uj=function(){function t(e){this.element=rC(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Sd(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),jj=function(){function t(e){this.element=rC(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Bj=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),ib=s1,zj={isServer:!s1,useCSSOMInjection:!_j},cp=function(){function t(e,n,r){e===void 0&&(e=al),n===void 0&&(n={});var i=this;this.options=Kt(Kt({},zj),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&s1&&ib&&(ib=!1,function(s){for(var o=document.querySelectorAll(Lj),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(ol)!=="active"&&(Fj(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),a1(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(d){var h=function(m){return up.get(m)}(d);if(h===void 0)return"continue";var f=s.names.get(h),y=o.getGroup(d);if(f===void 0||y.length===0)return"continue";var _="".concat(ol,".g").concat(d,'[id="').concat(h,'"]'),w="";f!==void 0&&f.forEach(function(m){m.length>0&&(w+="".concat(m,","))}),l+="".concat(y).concat(_,'{content:"').concat(w,'"}').concat(`/*!sc*/
`)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return _h(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Kt(Kt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Bj(i):r?new Uj(i):new jj(i)}(this.options),new Nj(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(_h(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(_h(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(_h(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),qj=/&/g,Wj=/^\s*\/\/.*$/gm;function iC(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=iC(n.children,e)),n})}function Hj(t){var e,n,r,i=t===void 0?al:t,s=i.options,o=s===void 0?al:s,a=i.plugins,l=a===void 0?Dm:a,u=function(h,f,y){return y===n||y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):h},c=l.slice();c.push(function(h){h.type===Pm&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(qj,n).replace(r,u))}),o.prefix&&c.push(yj),c.push(pj);var d=function(h,f,y,_){f===void 0&&(f=""),y===void 0&&(y=""),_===void 0&&(_="&"),e=_,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=h.replace(Wj,""),m=hj(y||f?"".concat(y," ").concat(f," { ").concat(w," }"):w);o.namespace&&(m=iC(m,o.namespace));var p=[];return lp(m,mj(c.concat(gj(function(v){return p.push(v)})))),p};return d.hash=l.length?l.reduce(function(h,f){return f.name||Sd(15),xa(h,f.name)},5381).toString():"",d}var Gj=new cp,d_=Hj(),sC=he.createContext({shouldForwardProp:void 0,styleSheet:Gj,stylis:d_});sC.Consumer;he.createContext(void 0);function h_(){return b.useContext(sC)}var Kj=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=d_);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,a1(this,function(){throw Sd(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=d_),this.name+e.hash},t}(),Qj=function(t){return t>="A"&&t<="Z"};function sb(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Qj(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var oC=function(t){return t==null||t===!1||t===""},aC=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!oC(s)&&(Array.isArray(s)&&s.isCss||ll(s)?r.push("".concat(sb(i),":"),s,";"):Oc(s)?r.push.apply(r,Sc(Sc(["".concat(i," {")],aC(s),!1),["}"],!1)):r.push("".concat(sb(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in vj||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function os(t,e,n,r){if(oC(t))return[];if(o1(t))return[".".concat(t.styledComponentId)];if(ll(t)){if(!ll(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return os(i,e,n,r)}var s;return t instanceof Kj?n?(t.inject(n,r),[t.getName(r)]):[t]:Oc(t)?aC(t):Array.isArray(t)?Array.prototype.concat.apply(Dm,t.map(function(o){return os(o,e,n,r)})):[t.toString()]}function lC(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ll(n)&&!o1(n))return!1}return!0}var Yj=XP("6.1.1"),Xj=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&lC(e),this.componentId=n,this.baseHash=xa(Yj,n),this.baseStyle=r,cp.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Zs(i,this.staticRulesId);else{var s=u_(os(this.rules,e,n,r)),o=l_(xa(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Zs(i,o),this.staticRulesId=o}else{for(var l=xa(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d;else if(d){var h=u_(os(d,e,n,r));l=xa(l,h+c),u+=h}}if(u){var f=l_(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(u,".".concat(f),void 0,this.componentId)),i=Zs(i,f)}}return i},t}(),l1=he.createContext(void 0);l1.Consumer;var Ey={};function Jj(t,e,n){var r=o1(t),i=t,s=!wy(t),o=e.attrs,a=o===void 0?Dm:o,l=e.componentId,u=l===void 0?function(E,I){var T=typeof E!="string"?"sc":ZT(E);Ey[T]=(Ey[T]||0)+1;var x="".concat(T,"-").concat(JP("6.1.1"+T+Ey[T]));return I?"".concat(I,"-").concat(x):x}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(E){return wy(E)?"styled.".concat(E):"Styled(".concat(bj(E),")")}(t):c,h=e.displayName&&e.componentId?"".concat(ZT(e.displayName),"-").concat(e.componentId):e.componentId||u,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;y=function(E,I){return _(E,I)&&w(E,I)}}else y=_}var m=new Xj(n,h,r?i.componentStyle:void 0);function p(E,I){return function(T,x,S){var O=T.attrs,L=T.componentStyle,J=T.defaultProps,z=T.foldedComponentIds,W=T.styledComponentId,H=T.target,B=he.useContext(l1),re=h_(),A=T.shouldForwardProp||re.shouldForwardProp,P=function(Pe,gn,Nt){for(var en,se=Kt(Kt({},gn),{className:void 0,theme:Nt}),be=0;be<Pe.length;be+=1){var dt=ll(en=Pe[be])?en(se):en;for(var Bt in dt)se[Bt]=Bt==="className"?Zs(se[Bt],dt[Bt]):Bt==="style"?Kt(Kt({},se[Bt]),dt[Bt]):dt[Bt]}return gn.className&&(se.className=Zs(se.className,gn.className)),se}(O,x,QP(x,B,J)||al),$=P.as||H,G={};for(var ne in P)P[ne]===void 0||ne[0]==="$"||ne==="as"||ne==="theme"||(ne==="forwardedAs"?G.as=P.forwardedAs:A&&!A(ne,$)||(G[ne]=P[ne]));var ce=function(Pe,gn){var Nt=h_(),en=Pe.generateAndInjectStyles(gn,Nt.styleSheet,Nt.stylis);return en}(L,P),at=Zs(z,W);return ce&&(at+=" "+ce),P.className&&(at+=" "+P.className),G[wy($)&&!YP.has($)?"class":"className"]=at,G.ref=S,b.createElement($,G)}(v,E,I)}p.displayName=d;var v=he.forwardRef(p);return v.attrs=f,v.componentStyle=m,v.displayName=d,v.shouldForwardProp=y,v.foldedComponentIds=r?Zs(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=h,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(I){for(var T=[],x=1;x<arguments.length;x++)T[x-1]=arguments[x];for(var S=0,O=T;S<O.length;S++)c_(I,O[S],!0);return I}({},i.defaultProps,E):E}}),a1(v,function(){return".".concat(v.styledComponentId)}),s&&nC(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function ob(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var ab=function(t){return Object.assign(t,{isCss:!0})};function uC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ll(t)||Oc(t)){var r=t;return ab(os(ob(Dm,Sc([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?os(i):ab(os(ob(i,e)))}function f_(t,e,n){if(n===void 0&&(n=al),!e)throw Sd(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,uC.apply(void 0,Sc([i],s,!1)))};return r.attrs=function(i){return f_(t,e,Kt(Kt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return f_(t,e,Kt(Kt({},n),i))},r}var cC=function(t){return f_(Jj,t)},R=cC;YP.forEach(function(t){R[t]=cC(t)});var Zj=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=lC(e),cp.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(u_(os(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&cp.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function e6(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=uC.apply(void 0,Sc([t],e,!1)),i="sc-global-".concat(JP(JSON.stringify(r))),s=new Zj(r,i),o=function(l){var u=h_(),c=he.useContext(l1),d=he.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(d,l,u.styleSheet,c,u.stylis),he.useLayoutEffect(function(){if(!u.styleSheet.server)return a(d,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(d,u.styleSheet)}},[d,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,d,h){if(s.isStatic)s.renderStyles(l,wj,c,h);else{var f=Kt(Kt({},u),{theme:QP(u,d,o.defaultProps)});s.renderStyles(l,f,c,h)}}return he.memo(o)}function dC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dC(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Wi(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dC(t))&&(r&&(r+=" "),r+=e);return r}const zu=t=>typeof t=="number"&&!isNaN(t),So=t=>typeof t=="string",Sn=t=>typeof t=="function",pf=t=>So(t)||Sn(t)?t:null,Iy=t=>b.isValidElement(t)||So(t)||Sn(t)||zu(t);function t6(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Lm(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h}=o;const f=r?`${e}--${l}`:e,y=r?`${n}--${l}`:n,_=b.useRef(0);return b.useLayoutEffect(()=>{const w=d.current,m=f.split(" "),p=v=>{v.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",p),w.removeEventListener("animationcancel",p),_.current===0&&v.type!=="animationcancel"&&w.classList.remove(...m))};w.classList.add(...m),w.addEventListener("animationend",p),w.addEventListener("animationcancel",p)},[]),b.useEffect(()=>{const w=d.current,m=()=>{w.removeEventListener("animationend",m),i?t6(w,c,s):c()};h||(u?m():(_.current=1,w.className+=` ${y}`,w.addEventListener("animationend",m)))},[h]),he.createElement(he.Fragment,null,a)}}function lb(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Wn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},wh=t=>{let{theme:e,type:n,...r}=t;return he.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ty={info:function(t){return he.createElement(wh,{...t},he.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return he.createElement(wh,{...t},he.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return he.createElement(wh,{...t},he.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return he.createElement(wh,{...t},he.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return he.createElement("div",{className:"Toastify__spinner"})}};function n6(t){const[,e]=b.useReducer(f=>f+1,0),[n,r]=b.useState([]),i=b.useRef(null),s=b.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=b.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>s.get(f)}).current;function l(f){let{containerId:y}=f;const{limit:_}=a.props;!_||y&&a.containerId!==y||(a.count-=a.queue.length,a.queue=[])}function u(f){r(y=>f==null?[]:y.filter(_=>_!==f))}function c(){const{toastContent:f,toastProps:y,staleId:_}=a.queue.shift();h(f,y,_)}function d(f,y){let{delay:_,staleId:w,...m}=y;if(!Iy(f)||function(z){return!i.current||a.props.enableMultiContainer&&z.containerId!==a.props.containerId||s.has(z.toastId)&&z.updateId==null}(m))return;const{toastId:p,updateId:v,data:E}=m,{props:I}=a,T=()=>u(p),x=v==null;x&&a.count++;const S={...I,style:I.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(z=>{let[W,H]=z;return H!=null})),toastId:p,updateId:v,data:E,closeToast:T,isIn:!1,className:pf(m.className||I.toastClassName),bodyClassName:pf(m.bodyClassName||I.bodyClassName),progressClassName:pf(m.progressClassName||I.progressClassName),autoClose:!m.isLoading&&(O=m.autoClose,L=I.autoClose,O===!1||zu(O)&&O>0?O:L),deleteToast(){const z=lb(s.get(p),"removed");s.delete(p),Wn.emit(4,z);const W=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),W>0){const H=p==null?a.props.limit:1;if(W===1||H===1)a.displayedToast++,c();else{const B=H>W?W:H;a.displayedToast=B;for(let re=0;re<B;re++)c()}}else e()}};var O,L;S.iconOut=function(z){let{theme:W,type:H,isLoading:B,icon:re}=z,A=null;const P={theme:W,type:H};return re===!1||(Sn(re)?A=re(P):b.isValidElement(re)?A=b.cloneElement(re,P):So(re)||zu(re)?A=re:B?A=Ty.spinner():($=>$ in Ty)(H)&&(A=Ty[H](P))),A}(S),Sn(m.onOpen)&&(S.onOpen=m.onOpen),Sn(m.onClose)&&(S.onClose=m.onClose),S.closeButton=I.closeButton,m.closeButton===!1||Iy(m.closeButton)?S.closeButton=m.closeButton:m.closeButton===!0&&(S.closeButton=!Iy(I.closeButton)||I.closeButton);let J=f;b.isValidElement(f)&&!So(f.type)?J=b.cloneElement(f,{closeToast:T,toastProps:S,data:E}):Sn(f)&&(J=f({closeToast:T,toastProps:S,data:E})),I.limit&&I.limit>0&&a.count>I.limit&&x?a.queue.push({toastContent:J,toastProps:S,staleId:w}):zu(_)?setTimeout(()=>{h(J,S,w)},_):h(J,S,w)}function h(f,y,_){const{toastId:w}=y;_&&s.delete(_);const m={content:f,props:y};s.set(w,m),r(p=>[...p,w].filter(v=>v!==_)),Wn.emit(4,lb(m,m.props.updateId==null?"added":"updated"))}return b.useEffect(()=>(a.containerId=t.containerId,Wn.cancelEmit(3).on(0,d).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{s.clear(),Wn.emit(3,a)}),[]),b.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const y=new Map,_=Array.from(s.values());return t.newestOnTop&&_.reverse(),_.forEach(w=>{const{position:m}=w.props;y.has(m)||y.set(m,[]),y.get(m).push(w)}),Array.from(y,w=>f(w[0],w[1]))},containerRef:i,isToastActive:o}}function ub(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function cb(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function r6(t){const[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=b.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=t;function f(E){if(t.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.addEventListener("touchmove",m),document.addEventListener("touchend",p);const I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=I.getBoundingClientRect(),I.style.transition="",o.x=ub(E.nativeEvent),o.y=cb(E.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(E){if(o.boundingRect){const{top:I,bottom:T,left:x,right:S}=o.boundingRect;E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=x&&o.x<=S&&o.y>=I&&o.y<=T?w():_()}}function _(){n(!0)}function w(){n(!1)}function m(E){const I=s.current;o.canDrag&&I&&(o.didMove=!0,e&&w(),o.x=ub(E),o.y=cb(E),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),I.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",p);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${t.draggableDirection}(0)`,E.style.opacity="1"}}b.useEffect(()=>{a.current=t}),b.useEffect(()=>(s.current&&s.current.addEventListener("d",_,{once:!0}),Sn(t.onOpen)&&t.onOpen(b.isValidElement(t.children)&&t.children.props),()=>{const E=a.current;Sn(E.onClose)&&E.onClose(b.isValidElement(E.children)&&E.children.props)}),[]),b.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",_),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const v={onMouseDown:f,onTouchStart:f,onMouseUp:y,onTouchEnd:y};return l&&u&&(v.onMouseEnter=w,v.onMouseLeave=_),h&&(v.onClick=E=>{d&&d(E),o.canCloseOnClick&&c()}),{playToast:_,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:v}}function hC(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return he.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},he.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},he.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function i6(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=t;const f=s||l&&u===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(y.transform=`scaleX(${u})`);const _=Wi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=Sn(o)?o({rtl:c,type:i,defaultClassName:_}):Wi(_,o);return he.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:y,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const s6=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=r6(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:y,style:_,bodyClassName:w,bodyStyle:m,progressClassName:p,progressStyle:v,updateId:E,role:I,progress:T,rtl:x,toastId:S,deleteToast:O,isIn:L,isLoading:J,iconOut:z,closeOnClick:W,theme:H}=t,B=Wi("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":W}),re=Sn(y)?y({rtl:x,position:f,type:u,defaultClassName:B}):Wi(B,y),A=!!T||!a,P={closeToast:d,type:u,theme:H};let $=null;return s===!1||($=Sn(s)?s(P):b.isValidElement(s)?b.cloneElement(s,P):hC(P)),he.createElement(h,{isIn:L,done:O,position:f,preventExitTransition:n,nodeRef:r},he.createElement("div",{id:S,onClick:l,className:re,...i,style:_,ref:r},he.createElement("div",{...L&&{role:I},className:Sn(w)?w({type:u}):Wi("Toastify__toast-body",w),style:m},z!=null&&he.createElement("div",{className:Wi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!J})},z),he.createElement("div",null,o)),$,he.createElement(i6,{...E&&!A?{key:`pb-${E}`}:{},rtl:x,theme:H,delay:a,isRunning:e,isIn:L,closeToast:d,hide:c,type:u,style:v,className:p,controlledProgress:A,progress:T||0})))},Mm=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},o6=Lm(Mm("bounce",!0));Lm(Mm("slide",!0));Lm(Mm("zoom"));Lm(Mm("flip"));const Nc=b.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=n6(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const d=Wi("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Sn(s)?s({position:c,rtl:a,defaultClassName:d}):Wi(d,pf(s))}return b.useEffect(()=>{e&&(e.current=r.current)},[]),he.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return he.createElement("div",{className:u(c),style:h,key:`container-${c}`},d.map((f,y)=>{let{content:_,props:w}=f;return he.createElement(s6,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":y+1,"--len":d.length},key:`toast-${w.key}`},_)}))}))});Nc.displayName="ToastContainer",Nc.defaultProps={position:"top-right",transition:o6,autoClose:5e3,closeButton:hC,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let by,js=new Map,bu=[],a6=1;function fC(){return""+a6++}function l6(t){return t&&(So(t.toastId)||zu(t.toastId))?t.toastId:fC()}function qu(t,e){return js.size>0?Wn.emit(0,t,e):bu.push({content:t,options:e}),e.toastId}function dp(t,e){return{...e,type:e&&e.type||t,toastId:l6(e)}}function Eh(t){return(e,n)=>qu(e,dp(t,n))}function Ae(t,e){return qu(t,dp("default",e))}Ae.loading=(t,e)=>qu(t,dp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ae.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=So(i)?Ae.loading(i,n):Ae.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,h)=>{if(d==null)return void Ae.dismiss(r);const f={type:c,...a,...n,data:h},y=So(d)?{render:d}:d;return r?Ae.update(r,{...f,...y}):Ae(y.render,{...f,...y}),h},u=Sn(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},Ae.success=Eh("success"),Ae.info=Eh("info"),Ae.error=Eh("error"),Ae.warning=Eh("warning"),Ae.warn=Ae.warning,Ae.dark=(t,e)=>qu(t,dp("default",{theme:"dark",...e})),Ae.dismiss=t=>{js.size>0?Wn.emit(1,t):bu=bu.filter(e=>t!=null&&e.options.toastId!==t)},Ae.clearWaitingQueue=function(t){return t===void 0&&(t={}),Wn.emit(5,t)},Ae.isActive=t=>{let e=!1;return js.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Ae.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=js.get(s||by);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:fC()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,qu(o,s)}},0)},Ae.done=t=>{Ae.update(t,{progress:1})},Ae.onChange=t=>(Wn.on(4,t),()=>{Wn.off(4,t)}),Ae.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ae.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Wn.on(2,t=>{by=t.containerId||t,js.set(by,t),bu.forEach(e=>{Wn.emit(0,e.content,e.options)}),bu=[]}).on(3,t=>{js.delete(t.containerId||t),js.size===0&&Wn.off(0).off(1).off(5)});const u6="/assets/deco-2047a9ee.png";var pC={},mC={},Vm={},gC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(gC);var c6="Expected a function",db=0/0,d6="[object Symbol]",h6=/^\s+|\s+$/g,f6=/^[-+]0x[0-9a-f]+$/i,p6=/^0b[01]+$/i,m6=/^0o[0-7]+$/i,g6=parseInt,y6=typeof eh=="object"&&eh&&eh.Object===Object&&eh,v6=typeof self=="object"&&self&&self.Object===Object&&self,_6=y6||v6||Function("return this")(),w6=Object.prototype,E6=w6.toString,I6=Math.max,T6=Math.min,Sy=function(){return _6.Date.now()};function b6(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(c6);e=hb(e)||0,p_(n)&&(c=!!n.leading,d="maxWait"in n,s=d?I6(hb(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(T){var x=r,S=i;return r=i=void 0,u=T,o=t.apply(S,x),o}function y(T){return u=T,a=setTimeout(m,e),c?f(T):o}function _(T){var x=T-l,S=T-u,O=e-x;return d?T6(O,s-S):O}function w(T){var x=T-l,S=T-u;return l===void 0||x>=e||x<0||d&&S>=s}function m(){var T=Sy();if(w(T))return p(T);a=setTimeout(m,_(T))}function p(T){return a=void 0,h&&r?f(T):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:p(Sy())}function I(){var T=Sy(),x=w(T);if(r=arguments,i=this,l=T,x){if(a===void 0)return y(l);if(d)return a=setTimeout(m,e),f(l)}return a===void 0&&(a=setTimeout(m,e)),o}return I.cancel=v,I.flush=E,I}function p_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function S6(t){return!!t&&typeof t=="object"}function x6(t){return typeof t=="symbol"||S6(t)&&E6.call(t)==d6}function hb(t){if(typeof t=="number")return t;if(x6(t))return db;if(p_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=p_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(h6,"");var n=p6.test(t);return n||m6.test(t)?g6(t.slice(2),n?2:8):f6.test(t)?db:+t}var k6=b6,yC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yC);var Fm=yC.exports,q={};Object.defineProperty(q,"__esModule",{value:!0});q.checkSpecKeys=q.checkNavigable=q.changeSlide=q.canUseDOM=q.canGoNext=void 0;q.clamp=vC;q.swipeStart=q.swipeMove=q.swipeEnd=q.slidesOnRight=q.slidesOnLeft=q.slideHandler=q.siblingDirection=q.safePreventDefault=q.lazyStartIndex=q.lazySlidesOnRight=q.lazySlidesOnLeft=q.lazyEndIndex=q.keyHandler=q.initializedState=q.getWidth=q.getTrackLeft=q.getTrackCSS=q.getTrackAnimateCSS=q.getTotalSlides=q.getSwipeDirection=q.getSlideCount=q.getRequiredLazySlides=q.getPreClones=q.getPostClones=q.getOnDemandLazySlides=q.getNavigableIndexes=q.getHeight=q.extractObject=void 0;var A6=R6(b);function R6(t){return t&&t.__esModule?t:{default:t}}function fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(n),!0).forEach(function(r){P6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vC(t,e,n){return Math.max(e,Math.min(t,n))}var fo=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};q.safePreventDefault=fo;var u1=function(e){for(var n=[],r=c1(e),i=d1(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};q.getOnDemandLazySlides=u1;var C6=function(e){for(var n=[],r=c1(e),i=d1(e),s=r;s<i;s++)n.push(s);return n};q.getRequiredLazySlides=C6;var c1=function(e){return e.currentSlide-_C(e)};q.lazyStartIndex=c1;var d1=function(e){return e.currentSlide+wC(e)};q.lazyEndIndex=d1;var _C=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};q.lazySlidesOnLeft=_C;var wC=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};q.lazySlidesOnRight=wC;var hp=function(e){return e&&e.offsetWidth||0};q.getWidth=hp;var h1=function(e){return e&&e.offsetHeight||0};q.getHeight=h1;var f1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};q.getSwipeDirection=f1;var p1=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};q.canGoNext=p1;var O6=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};q.extractObject=O6;var N6=function(e){var n=A6.default.Children.count(e.children),r=e.listRef,i=Math.ceil(hp(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(hp(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&h1(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],f=u1(je(je({},e),{},{currentSlide:d,lazyLoadedList:h}));h=h.concat(f);var y={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:u,listHeight:c,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};q.initializedState=N6;var D6=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,f=e.useCSS,y=e.lazyLoadedList;if(n&&r)return{};var _=o,w,m,p,v={},E={},I=s?o:vC(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),l&&y.indexOf(_)<0&&(y=y.concat(_)),v={animating:!0,currentSlide:_,lazyLoadedList:y,targetSlide:_},E={animating:!1,targetSlide:_}}else w=_,_<0?(w=_+a,s?a%d!==0&&(w=a-a%d):w=0):!p1(e)&&_>u?_=w=u:c&&_>=a?(_=s?a:a-1,w=s?0:a-1):_>=a&&(w=_-a,s?a%d!==0&&(w=0):w=a-h),!s&&_+h>=a&&(w=a-h),m=Lc(je(je({},e),{},{slideIndex:_})),p=Lc(je(je({},e),{},{slideIndex:w})),s||(m===p&&(_=w),m=p),l&&(y=y.concat(u1(je(je({},e),{},{currentSlide:_})))),f?(v={animating:!0,currentSlide:w,trackStyle:m1(je(je({},e),{},{left:m})),lazyLoadedList:y,targetSlide:I},E={animating:!1,currentSlide:w,trackStyle:Dc(je(je({},e),{},{left:p})),swipeLeft:null,targetSlide:I}):v={currentSlide:w,trackStyle:Dc(je(je({},e),{},{left:p})),lazyLoadedList:y,targetSlide:I};return{state:v,nextState:E}};q.slideHandler=D6;var L6=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,d=e.currentSlide,h=e.targetSlide,f=e.lazyLoad,y=e.infinite;if(o=c%l!==0,r=o?0:(c-d)%l,n.message==="previous")s=r===0?l:u-r,a=d-s,f&&!y&&(i=d-s,a=i===-1?c-1:i),y||(a=h-l);else if(n.message==="next")s=r===0?l:r,a=d+s,f&&!y&&(a=(d+l)%c+r),y||(a=h+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,y){var _=bC(je(je({},e),{},{targetSlide:a}));a>n.currentSlide&&_==="left"?a=a-c:a<n.currentSlide&&_==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};q.changeSlide=L6;var M6=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};q.keyHandler=M6;var V6=function(e,n,r){return e.target.tagName==="IMG"&&fo(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};q.swipeStart=V6;var F6=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,h=n.onEdge,f=n.swiped,y=n.swiping,_=n.slideCount,w=n.slidesToScroll,m=n.infinite,p=n.touchObject,v=n.swipeEvent,E=n.listHeight,I=n.listWidth;if(!r){if(i)return fo(e);s&&o&&a&&fo(e);var T,x={},S=Lc(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var O=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!y&&O>10)return{scrolling:!0};a&&(p.swipeLength=O);var L=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(L=p.curY>p.startY?1:-1);var J=Math.ceil(_/w),z=f1(n.touchObject,a),W=p.swipeLength;return m||(u===0&&(z==="right"||z==="down")||u+1>=J&&(z==="left"||z==="up")||!p1(n)&&(z==="left"||z==="up"))&&(W=p.swipeLength*c,d===!1&&h&&(h(z),x.edgeDragged=!0)),!f&&v&&(v(z),x.swiped=!0),s?T=S+W*(E/I)*L:l?T=S-W*L:T=S+W*L,a&&(T=S+W*L),x=je(je({},x),{},{touchObject:p,swipeLeft:T,trackStyle:Dc(je(je({},n),{},{left:T}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(x.swiping=!0,fo(e)),x}};q.swipeMove=F6;var $6=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,d=n.scrolling,h=n.onSwipe,f=n.targetSlide,y=n.currentSlide,_=n.infinite;if(!r)return i&&fo(e),{};var w=l?u/a:o/a,m=f1(s,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return p;if(s.swipeLength>w){fo(e),h&&h(m);var v,E,I=_?y:f;switch(m){case"left":case"up":E=I+g_(n),v=c?m_(n,E):E,p.currentDirection=0;break;case"right":case"down":E=I-g_(n),v=c?m_(n,E):E,p.currentDirection=1;break;default:v=I}p.triggerSlideHandler=v}else{var T=Lc(n);p.trackStyle=m1(je(je({},n),{},{left:T}))}return p};q.swipeEnd=$6;var EC=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};q.getNavigableIndexes=EC;var m_=function(e,n){var r=EC(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};q.checkNavigable=m_;var g_=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+h1(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+hp(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};q.getSlideCount=g_;var $m=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};q.checkSpecKeys=$m;var Dc=function(e){$m(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=TC(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=je(je({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};q.getTrackCSS=Dc;var m1=function(e){$m(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Dc(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};q.getTrackAnimateCSS=m1;var Lc=function(e){if(e.unslick)return 0;$m(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,d=e.variableWidth,h=e.slideHeight,f=e.fade,y=e.vertical,_=0,w,m,p=0;if(f||e.slideCount===1)return 0;var v=0;if(i?(v=-Wu(e),o%l!==0&&n+l>o&&(v=-(n>o?a-(n-o):o%l)),s&&(v+=parseInt(a/2))):(o%l!==0&&n+l>o&&(v=a-o%l),s&&(v=parseInt(a/2))),_=v*u,p=v*h,y?w=n*h*-1+p:w=n*u*-1+_,d===!0){var E,I=r&&r.node;if(E=n+Wu(e),m=I&&I.childNodes[E],w=m?m.offsetLeft*-1:0,s===!0){E=i?n+Wu(e):n,m=I&&I.children[E],w=0;for(var T=0;T<E;T++)w-=I&&I.children[T]&&I.children[T].offsetWidth;w-=parseInt(e.centerPadding),w+=m&&(c-m.offsetWidth)/2}}return w};q.getTrackLeft=Lc;var Wu=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};q.getPreClones=Wu;var IC=function(e){return e.unslick||!e.infinite?0:e.slideCount};q.getPostClones=IC;var TC=function(e){return e.slideCount===1?1:Wu(e)+e.slideCount+IC(e)};q.getTotalSlides=TC;var bC=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+SC(e)?"left":"right":e.targetSlide<e.currentSlide-xC(e)?"right":"left"};q.siblingDirection=bC;var SC=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};q.slidesOnRight=SC;var xC=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};q.slidesOnLeft=xC;var U6=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};q.canUseDOM=U6;var Um={};function y_(t){"@babel/helpers - typeof";return y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(t)}Object.defineProperty(Um,"__esModule",{value:!0});Um.Track=void 0;var Vi=kC(b),xy=kC(Fm),ky=q;function kC(t){return t&&t.__esModule?t:{default:t}}function v_(){return v_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function j6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B6(t,e,n){return e&&pb(t.prototype,e),n&&pb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},__(t,e)}function q6(t){var e=H6();return function(){var r=fp(t),i;if(e){var s=fp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return W6(this,i)}}function W6(t,e){if(e&&(y_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_(t)}function w_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ay=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},G6=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Ry=function(e,n){return e.key||n},K6=function(e){var n,r=[],i=[],s=[],o=Vi.default.Children.count(e.children),a=(0,ky.lazyStartIndex)(e),l=(0,ky.lazyEndIndex)(e);return Vi.default.Children.forEach(e.children,function(u,c){var d,h={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=u:d=Vi.default.createElement("div",null);var f=G6(vn(vn({},e),{},{index:c})),y=d.props.className||"",_=Ay(vn(vn({},e),{},{index:c}));if(r.push(Vi.default.cloneElement(d,{key:"original"+Ry(d,c),"data-index":c,className:(0,xy.default)(_,y),tabIndex:"-1","aria-hidden":!_["slick-active"],style:vn(vn({outline:"none"},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var w=o-c;w<=(0,ky.getPreClones)(e)&&o!==e.slidesToShow&&(n=-w,n>=a&&(d=u),_=Ay(vn(vn({},e),{},{index:n})),i.push(Vi.default.cloneElement(d,{key:"precloned"+Ry(d,n),"data-index":n,tabIndex:"-1",className:(0,xy.default)(_,y),"aria-hidden":!_["slick-active"],style:vn(vn({},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}}))),o!==e.slidesToShow&&(n=o+c,n<l&&(d=u),_=Ay(vn(vn({},e),{},{index:n})),s.push(Vi.default.cloneElement(d,{key:"postcloned"+Ry(d,n),"data-index":n,tabIndex:"-1",className:(0,xy.default)(_,y),"aria-hidden":!_["slick-active"],style:vn(vn({},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},Q6=function(t){z6(n,t);var e=q6(n);function n(){var r;j6(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),E_(w_(r),"node",null),E_(w_(r),"handleRef",function(a){r.node=a}),r}return B6(n,[{key:"render",value:function(){var i=K6(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Vi.default.createElement("div",v_({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(Vi.default.PureComponent);Um.Track=Q6;var jm={};function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}Object.defineProperty(jm,"__esModule",{value:!0});jm.Dots=void 0;var Ih=AC(b),Y6=AC(Fm),gb=q;function AC(t){return t&&t.__esModule?t:{default:t}}function yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yb(Object(n),!0).forEach(function(r){J6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eB(t,e,n){return e&&vb(t.prototype,e),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},T_(t,e)}function nB(t){var e=sB();return function(){var r=pp(t),i;if(e){var s=pp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rB(this,i)}}function rB(t,e){if(e&&(I_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iB(t)}function iB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}var oB=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},aB=function(t){tB(n,t);var e=nB(n);function n(){return Z6(this,n),e.apply(this,arguments)}return eB(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,h=i.currentSlide,f=oB({slideCount:d,slidesToScroll:u,slidesToShow:c,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},_=[],w=0;w<f;w++){var m=(w+1)*u-1,p=l?m:(0,gb.clamp)(m,0,d-1),v=p-(u-1),E=l?v:(0,gb.clamp)(v,0,d-1),I=(0,Y6.default)({"slick-active":l?h>=E&&h<=p:h===E}),T={message:"dots",index:w,slidesToScroll:u,currentSlide:h},x=this.clickHandler.bind(this,T);_=_.concat(Ih.default.createElement("li",{key:w,className:I},Ih.default.cloneElement(this.props.customPaging(w),{onClick:x})))}return Ih.default.cloneElement(this.props.appendDots(_),X6({className:this.props.dotsClass},y))}}]),n}(Ih.default.PureComponent);jm.Dots=aB;var ul={};function b_(t){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(t)}Object.defineProperty(ul,"__esModule",{value:!0});ul.PrevArrow=ul.NextArrow=void 0;var ja=PC(b),RC=PC(Fm),lB=q;function PC(t){return t&&t.__esModule?t:{default:t}}function mp(){return mp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function _b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(n),!0).forEach(function(r){uB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OC(t,e,n){return e&&wb(t.prototype,e),n&&wb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},S_(t,e)}function DC(t){var e=hB();return function(){var r=yp(t),i;if(e){var s=yp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cB(this,i)}}function cB(t,e){if(e&&(b_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dB(t)}function dB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}var fB=function(t){NC(n,t);var e=DC(n);function n(){return CC(this,n),e.apply(this,arguments)}return OC(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,RC.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=ja.default.cloneElement(this.props.prevArrow,gp(gp({},o),a)):l=ja.default.createElement("button",mp({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(ja.default.PureComponent);ul.PrevArrow=fB;var pB=function(t){NC(n,t);var e=DC(n);function n(){return CC(this,n),e.apply(this,arguments)}return OC(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,lB.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,RC.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=ja.default.cloneElement(this.props.nextArrow,gp(gp({},o),a)):l=ja.default.createElement("button",mp({key:"1",type:"button"},o)," ","Next"),l}}]),n}(ja.default.PureComponent);ul.NextArrow=pB;var LC=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),x_=typeof window<"u"&&typeof document<"u"&&window.document===document,vp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mB=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),gB=2;function yB(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){mB(s)}function a(){var l=Date.now();if(n){if(l-i<gB)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var vB=20,_B=["top","right","bottom","left","width","height","size","weight"],wB=typeof MutationObserver<"u",EB=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=yB(this.refresh.bind(this),vB)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!x_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),wB?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!x_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=_B.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),MC=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},cl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||vp},VC=Bm(0,0,0,0);function _p(t){return parseFloat(t)||0}function Eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+_p(s)},0)}function IB(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=_p(o)}return n}function TB(t){var e=t.getBBox();return Bm(0,0,e.width,e.height)}function bB(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return VC;var r=cl(t).getComputedStyle(t),i=IB(r),s=i.left+i.right,o=i.top+i.bottom,a=_p(r.width),l=_p(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=Eb(r,"left","right")+s),Math.round(l+o)!==n&&(l-=Eb(r,"top","bottom")+o)),!xB(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Bm(i.left,i.top,a,l)}var SB=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof cl(t).SVGGraphicsElement}:function(t){return t instanceof cl(t).SVGElement&&typeof t.getBBox=="function"}}();function xB(t){return t===cl(t).document.documentElement}function kB(t){return x_?SB(t)?TB(t):bB(t):VC}function AB(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return MC(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Bm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var RB=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Bm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=kB(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),PB=function(){function t(e,n){var r=AB(n);MC(this,{target:e,contentRect:r})}return t}(),CB=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new LC,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new RB(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new PB(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),FC=typeof WeakMap<"u"?new WeakMap:new LC,$C=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=EB.getInstance(),r=new CB(e,n,this);FC.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){$C.prototype[t]=function(){var e;return(e=FC.get(this))[t].apply(e,arguments)}});var OB=function(){return typeof vp.ResizeObserver<"u"?vp.ResizeObserver:$C}();const NB=Object.freeze(Object.defineProperty({__proto__:null,default:OB},Symbol.toStringTag,{value:"Module"})),DB=ik(NB);Object.defineProperty(Vm,"__esModule",{value:!0});Vm.InnerSlider=void 0;var tn=xd(b),LB=xd(gC),MB=xd(k6),VB=xd(Fm),He=q,FB=Um,$B=jm,Ib=ul,UB=xd(DB);function xd(t){return t&&t.__esModule?t:{default:t}}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Ep(){return Ep=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function jB(t,e){if(t==null)return{};var n=BB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qB(t,e,n){return e&&bb(t.prototype,e),n&&bb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},k_(t,e)}function HB(t){var e=KB();return function(){var r=Ip(t),i;if(e){var s=Ip(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return GB(this,i)}}function GB(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pe(t)}function pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QB=function(t){WB(n,t);var e=HB(n);function n(r){var i;zB(this,n),i=e.call(this,r),me(pe(i),"listRefHandler",function(o){return i.list=o}),me(pe(i),"trackRefHandler",function(o){return i.track=o}),me(pe(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,He.getHeight)(o)+"px"}}),me(pe(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,He.getOnDemandLazySlides)(ie(ie({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ie({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new UB.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),me(pe(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),me(pe(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,He.getOnDemandLazySlides)(ie(ie({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=ie(ie({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=tn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:tn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),me(pe(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,MB.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),me(pe(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=ie(ie({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),me(pe(i),"updateState",function(o,a,l){var u=(0,He.initializedState)(o);o=ie(ie(ie({},o),u),{},{slideIndex:u.currentSlide});var c=(0,He.getTrackLeft)(o);o=ie(ie({},o),{},{left:c});var d=(0,He.getTrackCSS)(o);(a||tn.default.Children.count(i.props.children)!==tn.default.Children.count(o.children))&&(u.trackStyle=d),i.setState(u,l)}),me(pe(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,He.getPreClones)(ie(ie(ie({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,He.getPostClones)(ie(ie(ie({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(x){l.push(x.props.style.width),o+=x.props.style.width});for(var d=0;d<u;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var h=0;h<c;h++)o+=l[h];for(var f=0;f<i.state.currentSlide;f++)a+=l[f];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var _="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(_,") / 2 ) ")}return{trackStyle:y}}var w=tn.default.Children.count(i.props.children),m=ie(ie(ie({},i.props),i.state),{},{slideCount:w}),p=(0,He.getPreClones)(m)+(0,He.getPostClones)(m)+w,v=100/i.props.slidesToShow*p,E=100/p,I=-E*((0,He.getPreClones)(m)+i.state.currentSlide)*v/100;i.props.centerMode&&(I+=(100-E*v/100)/2);var T={width:v+"%",left:I+"%"};return{slideWidth:E+"%",trackStyle:T}}),me(pe(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var d=u.onclick;u.onclick=function(){d(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),me(pe(i),"progressiveLazyLoad",function(){for(var o=[],a=ie(ie({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,He.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,He.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),me(pe(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,d=l.onLazyLoad,h=l.speed,f=l.afterChange,y=i.state.currentSlide,_=(0,He.slideHandler)(ie(ie(ie({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),w=_.state,m=_.nextState;if(w){c&&c(y,w.currentSlide);var p=w.lazyLoadedList.filter(function(v){return i.state.lazyLoadedList.indexOf(v)<0});d&&p.length>0&&d(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),f&&f(y),delete i.animationEndCallback),i.setState(w,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),m&&(i.animationEndCallback=setTimeout(function(){var v=m.animating,E=jB(m,["animating"]);i.setState(E,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:v})},10)),f&&f(w.currentSlide),delete i.animationEndCallback})},h))})}}),me(pe(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ie(ie({},i.props),i.state),u=(0,He.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),me(pe(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),me(pe(i),"keyHandler",function(o){var a=(0,He.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),me(pe(i),"selectHandler",function(o){i.changeSlide(o)}),me(pe(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),me(pe(i),"enableBodyScroll",function(){window.ontouchmove=null}),me(pe(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,He.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),me(pe(i),"swipeMove",function(o){var a=(0,He.swipeMove)(o,ie(ie(ie({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),me(pe(i),"swipeEnd",function(o){var a=(0,He.swipeEnd)(o,ie(ie(ie({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),me(pe(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),me(pe(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),me(pe(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),me(pe(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),me(pe(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,He.canGoNext)(ie(ie({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),me(pe(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),me(pe(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),me(pe(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),me(pe(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),me(pe(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),me(pe(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),me(pe(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),me(pe(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),me(pe(i),"render",function(){var o=(0,VB.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ie(ie({},i.props),i.state),l=(0,He.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=ie(ie({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,He.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=i.props.pauseOnDotsHover;d=ie(ie({},d),{},{clickHandler:i.changeSlide,onMouseEnter:h?i.onDotsLeave:null,onMouseOver:h?i.onDotsOver:null,onMouseLeave:h?i.onDotsLeave:null}),c=tn.default.createElement($B.Dots,d)}var f,y,_=(0,He.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=i.changeSlide,i.props.arrows&&(f=tn.default.createElement(Ib.PrevArrow,_),y=tn.default.createElement(Ib.NextArrow,_));var w=null;i.props.vertical&&(w={height:i.state.listHeight});var m=null;i.props.vertical===!1?i.props.centerMode===!0&&(m={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(m={padding:i.props.centerPadding+" 0px"});var p=ie(ie({},w),m),v=i.props.touchMove,E={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:v?i.swipeStart:null,onMouseMove:i.state.dragging&&v?i.swipeMove:null,onMouseUp:v?i.swipeEnd:null,onMouseLeave:i.state.dragging&&v?i.swipeEnd:null,onTouchStart:v?i.swipeStart:null,onTouchMove:i.state.dragging&&v?i.swipeMove:null,onTouchEnd:v?i.touchEnd:null,onTouchCancel:i.state.dragging&&v?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},I={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(E={className:"slick-list"},I={className:o}),tn.default.createElement("div",I,i.props.unslick?"":f,tn.default.createElement("div",Ep({ref:i.listRefHandler},E),tn.default.createElement(FB.Track,Ep({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=ie(ie({},LB.default),{},{currentSlide:i.props.initialSlide,slideCount:tn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ie(ie({},i.state),s),i}return qB(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(wp(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||tn.default.Children.count(this.props.children)!==tn.default.Children.count(i.children)}}]),n}(tn.default.Component);Vm.InnerSlider=QB;var YB=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},XB=YB,JB=XB,ZB=function(t){var e=/[height|width]$/;return e.test(t)},Sb=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=JB(r),ZB(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},ez=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=Sb(n),r<t.length-1&&(e+=", ")}),e):Sb(t)},tz=ez,UC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(b);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(UC);var Py,xb;function nz(){if(xb)return Py;xb=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Py=t,Py}var Cy,kb;function jC(){if(kb)return Cy;kb=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Cy={isFunction:n,isArray:e,each:t},Cy}var Oy,Ab;function rz(){if(Ab)return Oy;Ab=1;var t=nz(),e=jC().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Oy=n,Oy}var Ny,Rb;function iz(){if(Rb)return Ny;Rb=1;var t=rz(),e=jC(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),u[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Ny=s,Ny}var Dy,Pb;function sz(){if(Pb)return Dy;Pb=1;var t=iz();return Dy=new t,Dy}(function(t){function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(b),r=Vm,i=a(tz),s=a(UC),o=q;function a(S){return S&&S.__esModule?S:{default:S}}function l(){return l=Object.assign||function(S){for(var O=1;O<arguments.length;O++){var L=arguments[O];for(var J in L)Object.prototype.hasOwnProperty.call(L,J)&&(S[J]=L[J])}return S},l.apply(this,arguments)}function u(S,O){var L=Object.keys(S);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(S);O&&(J=J.filter(function(z){return Object.getOwnPropertyDescriptor(S,z).enumerable})),L.push.apply(L,J)}return L}function c(S){for(var O=1;O<arguments.length;O++){var L=arguments[O]!=null?arguments[O]:{};O%2?u(Object(L),!0).forEach(function(J){I(S,J,L[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(L)):u(Object(L)).forEach(function(J){Object.defineProperty(S,J,Object.getOwnPropertyDescriptor(L,J))})}return S}function d(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function h(S,O){for(var L=0;L<O.length;L++){var J=O[L];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(S,J.key,J)}}function f(S,O,L){return O&&h(S.prototype,O),L&&h(S,L),Object.defineProperty(S,"prototype",{writable:!1}),S}function y(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),O&&_(S,O)}function _(S,O){return _=Object.setPrototypeOf||function(J,z){return J.__proto__=z,J},_(S,O)}function w(S){var O=v();return function(){var J=E(S),z;if(O){var W=E(this).constructor;z=Reflect.construct(J,arguments,W)}else z=J.apply(this,arguments);return m(this,z)}}function m(S,O){if(O&&(e(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(S)}function p(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(S){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},E(S)}function I(S,O,L){return O in S?Object.defineProperty(S,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):S[O]=L,S}var T=(0,o.canUseDOM)()&&sz(),x=function(S){y(L,S);var O=w(L);function L(J){var z;return d(this,L),z=O.call(this,J),I(p(z),"innerSliderRefHandler",function(W){return z.innerSlider=W}),I(p(z),"slickPrev",function(){return z.innerSlider.slickPrev()}),I(p(z),"slickNext",function(){return z.innerSlider.slickNext()}),I(p(z),"slickGoTo",function(W){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return z.innerSlider.slickGoTo(W,H)}),I(p(z),"slickPause",function(){return z.innerSlider.pause("paused")}),I(p(z),"slickPlay",function(){return z.innerSlider.autoPlay("play")}),z.state={breakpoint:null},z._responsiveMediaHandlers=[],z}return f(L,[{key:"media",value:function(z,W){T.register(z,W),this._responsiveMediaHandlers.push({query:z,handler:W})}},{key:"componentDidMount",value:function(){var z=this;if(this.props.responsive){var W=this.props.responsive.map(function(B){return B.breakpoint});W.sort(function(B,re){return B-re}),W.forEach(function(B,re){var A;re===0?A=(0,i.default)({minWidth:0,maxWidth:B}):A=(0,i.default)({minWidth:W[re-1]+1,maxWidth:B}),(0,o.canUseDOM)()&&z.media(A,function(){z.setState({breakpoint:B})})});var H=(0,i.default)({minWidth:W.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(H,function(){z.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(z){T.unregister(z.query,z.handler)})}},{key:"render",value:function(){var z=this,W,H;this.state.breakpoint?(H=this.props.responsive.filter(function(Pe){return Pe.breakpoint===z.state.breakpoint}),W=H[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),H[0].settings)):W=c(c({},s.default),this.props),W.centerMode&&(W.slidesToScroll>1,W.slidesToScroll=1),W.fade&&(W.slidesToShow>1,W.slidesToScroll>1,W.slidesToShow=1,W.slidesToScroll=1);var B=n.default.Children.toArray(this.props.children);B=B.filter(function(Pe){return typeof Pe=="string"?!!Pe.trim():!!Pe}),W.variableWidth&&(W.rows>1||W.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),W.variableWidth=!1);for(var re=[],A=null,P=0;P<B.length;P+=W.rows*W.slidesPerRow){for(var $=[],G=P;G<P+W.rows*W.slidesPerRow;G+=W.slidesPerRow){for(var ne=[],ce=G;ce<G+W.slidesPerRow&&(W.variableWidth&&B[ce].props.style&&(A=B[ce].props.style.width),!(ce>=B.length));ce+=1)ne.push(n.default.cloneElement(B[ce],{key:100*P+10*G+ce,tabIndex:-1,style:{width:"".concat(100/W.slidesPerRow,"%"),display:"inline-block"}}));$.push(n.default.createElement("div",{key:10*P+G},ne))}W.variableWidth?re.push(n.default.createElement("div",{key:P,style:{width:A}},$)):re.push(n.default.createElement("div",{key:P},$))}if(W==="unslick"){var at="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:at},B)}else re.length<=W.slidesToShow&&(W.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},W),re)}}]),L}(n.default.Component);t.default=x})(mC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(mC);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(pC);const oz=Xp(pC);const az="/assets/book1-ec327f53.jpg",lz="/assets/book2-f7abfe10.jpg",uz="/assets/book3-e4709dab.jpg",cz="/assets/book4-1d15885c.jpg",dz="/assets/book5-6f22b0d2.jpg",hz="/assets/book6-d30fdf7f.jpg";function fz(){const t={dots:!0,infinite:!0,speed:30,slidesToShow:1,slidesToScroll:1,autoplay:!0,fade:!0,arrows:!1,pauseOnFocus:!0,pauseOnHover:!0,centerMode:!0};return g.jsx(pz,{children:g.jsx(mz,{children:g.jsxs(oz,{...t,children:[g.jsx(ea,{children:g.jsx(ta,{src:az})}),g.jsx(ea,{children:g.jsx(ta,{src:lz})}),g.jsx(ea,{children:g.jsx(ta,{src:uz})}),g.jsx(ea,{children:g.jsx(ta,{src:cz})}),g.jsx(ea,{children:g.jsx(ta,{src:dz})}),g.jsx(ea,{children:g.jsx(ta,{src:hz})})]})})})}const pz=R.div`
  width: 100%;
  margin-bottom: 100px;
  align-items: center;
  justify-self: center;
  display: flex;
`,mz=R.div`
  margin: auto;
  margin-top: 50px;

  width: 1400px;
  @media (max-width: 1380px) {
    width: 80%;
  }
`,ea=R.div`
  margin-left: auto;
  width: 100%;
  height: 600px;
  overflow: hidden;
  @media (max-width: 1120px) {
    height: 300px;
  }
`,ta=R.img`
  max-width: 100%;
  height: 100%;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
`,gz="/assets/cover-a9f367e4.jpg",yz="/assets/side-f444f4c8.jpg",vz="/assets/back-b5ebd160.jpg";function _z(){return g.jsx(wz,{children:g.jsxs(Ez,{children:[g.jsx(Iz,{src:yz}),g.jsx(Tz,{src:vz}),g.jsx(bz,{src:gz,alt:"Book"})]})})}const wz=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,Ez=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,Iz=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,Tz=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,bz=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`,Sz="/assets/cover1-62730251.jpg",xz="/assets/side1-cb6d900a.jpg",kz="/assets/back1-01a8b9e1.jpg";function Az(){return g.jsx(Rz,{children:g.jsxs(Pz,{children:[g.jsx(Cz,{src:xz}),g.jsx(Oz,{src:kz}),g.jsx(Nz,{src:Sz,alt:"Book"})]})})}const Rz=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,Pz=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,Cz=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,Oz=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,Nz=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`,Dz="/assets/cover2-c4c52d76.jpg",Lz="/assets/side2-af7d9bc7.jpg",Mz="/assets/back2-a0b0061e.jpg";function Vz(){return g.jsx(Fz,{children:g.jsxs($z,{children:[g.jsx(Uz,{src:Lz}),g.jsx(jz,{src:Mz}),g.jsx(Bz,{src:Dz,alt:"Book"})]})})}const Fz=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,$z=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,Uz=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,jz=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,Bz=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`,zz="/assets/cover3-8f2913ff.jpg",qz="/assets/side3-08f0bfd7.jpg",Wz="/assets/back3-7061c352.jpg";function Hz(){return g.jsx(Gz,{children:g.jsxs(Kz,{children:[g.jsx(Qz,{src:qz}),g.jsx(Yz,{src:Wz}),g.jsx(Xz,{src:zz,alt:"Book"})]})})}const Gz=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,Kz=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,Qz=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,Yz=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,Xz=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`,Jz="/assets/cover4-16c55e4f.jpg",Zz="/assets/side4-cb8560da.jpg",e9="/assets/back4-b1f44cfd.jpg";function t9(){return g.jsx(n9,{children:g.jsxs(r9,{children:[g.jsx(i9,{src:Zz}),g.jsx(s9,{src:e9}),g.jsx(o9,{src:Jz,alt:"Book"})]})})}const n9=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,r9=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,i9=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,s9=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,o9=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`,a9="/assets/cover5-ddbde329.jpg",l9="/assets/side5-f7252691.jpg",u9="/assets/back5-ddea1cac.jpg";function c9(){return g.jsx(d9,{children:g.jsxs(h9,{children:[g.jsx(f9,{src:l9}),g.jsx(p9,{src:u9}),g.jsx(m9,{src:a9,alt:"Book"})]})})}const d9=R.section`
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  perspective: 1000px;
`,h9=R.div`
  position: relative;
  width: 200px;
  height: 300px;
  box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
  transition: transform 0.5s;

  &:hover {
    transform: rotateY(35deg);
    box-shadow: 0px 20px 20px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: rotateY(180deg);
  }
`,f9=R.img`
  position: absolute;
  width: 60px;
  height: 100%;
  transform-origin: left;
  background-position: center;
  transform: rotateY(90deg);
`,p9=R.img`
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: center;
  background-position: center;
  transform: rotateY(180deg) translateZ(60px);
`,m9=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`;function g9(){return g.jsx(y9,{children:g.jsxs(v9,{children:[g.jsx(_z,{}),g.jsx(Az,{}),g.jsx(Vz,{}),g.jsx(Hz,{}),g.jsx(t9,{}),g.jsx(c9,{})]})})}const y9=R.section`
  display: flex;
  justify-content: center;
  padding: 10px;
  margin: 100px;
`,v9=R.div`
  display: flex;
  gap: 20px;
  padding: 10px;
  @media screen and (max-width: 700px) {
    flex-direction: column;
    align-items: center;
  }
  @media screen and (max-width: 1300px) {
    & > *:nth-child(n + 6) {
      display: none;
    }
  }

  @media screen and (max-width: 1200px) {
    & > *:nth-child(n + 5) {
      display: none;
    }
  }
  @media screen and (max-width: 1000px) {
    & > *:nth-child(n + 4) {
      display: none;
    }
  }
`;var _9={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function w9(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return _9[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Th(t){var e=w9(t);return"".concat(e.value).concat(e.unit)}var E9=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Tp=globalThis&&globalThis.__assign||function(){return Tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tp.apply(this,arguments)},I9=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},T9=E9("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function b9(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?35:u,d=t.width,h=d===void 0?4:d,f=t.radius,y=f===void 0?2:f,_=t.margin,w=_===void 0?2:_,m=I9(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),p=Tp({display:"inherit"},l),v=function(E){return{backgroundColor:i,width:Th(h),height:Th(c),margin:Th(w),borderRadius:Th(y),display:"inline-block",animation:"".concat(T9," ").concat(1/o,"s ").concat(E*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?b.createElement("span",Tp({style:p},m),b.createElement("span",{style:v(1)}),b.createElement("span",{style:v(2)}),b.createElement("span",{style:v(3)}),b.createElement("span",{style:v(4)}),b.createElement("span",{style:v(5)})):null}function zm({loading:t}){return g.jsx(S9,{loading:t,children:g.jsx(b9,{color:"#F43630",loading:t,cssOverride:x9,"aria-label":"Loading Spinner","data-testid":"loader"})})}const S9=R.div`
  display: ${({loading:t})=>t?"flex":"none"};
  align-items: center;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.8);
  z-index: 9999;
`,x9={display:"block",margin:"0 auto",borderColor:"red"};function k9(){const[t,e]=b.useState(!0);return b.useEffect(()=>{e(!0);const n=setTimeout(()=>{e(!1)},100);return()=>clearTimeout(n)},[]),g.jsxs("div",{children:[g.jsx(zm,{loading:t}),g.jsx(fz,{}),g.jsx(g9,{})]})}const A9="/assets/github-1138210f.svg",R9="/assets/blog-1e121120.svg";function P9(){return g.jsx(C9,{children:g.jsxs(O9,{children:[g.jsxs(N9,{children:[g.jsx(D9,{children:g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(Cr,{to:"/",children:"메인 페이지"})}),g.jsx("li",{children:"|"}),g.jsx("li",{children:g.jsx(Cr,{to:"/List",children:"책 목록"})}),g.jsx("li",{children:"|"}),g.jsx("li",{children:g.jsx(Cr,{to:"/Board",children:"커뮤니티"})}),g.jsx("li",{children:"|"}),g.jsx("li",{children:g.jsx(Cr,{to:"/Mypage",children:"마이페이지"})})]})}),g.jsxs(L9,{children:[g.jsxs("div",{className:"first-row",children:[g.jsx(Cb,{src:A9}),g.jsx("span",{children:g.jsx("a",{href:"https://github.com/KittelLee",children:"이진욱"})}),g.jsx("span",{children:g.jsx("a",{href:"https://github.com/heriondb",children:"강수진"})}),g.jsx("span",{children:g.jsx("a",{href:"https://github.com/withsjb",children:"손진빈"})})]}),g.jsxs("div",{className:"second-row",children:[g.jsx(Cb,{src:R9}),g.jsx("span",{children:g.jsx("a",{href:"https://projectlog.tistory.com/",children:"이진욱"})}),g.jsx("span",{children:g.jsx("a",{href:"https://pozip.tistory.com/",children:"강수진"})}),g.jsx("span",{children:g.jsx("a",{href:"#",children:"손진빈"})})]})]})]}),g.jsxs(M9,{children:[g.jsx("h3",{children:"BOOK-REVIEW"}),g.jsx("p",{children:"개발자: 이진욱 강수진 손진빈"}),g.jsxs("p",{children:["레포지토리 주소:",g.jsx("a",{href:"https://github.com/KittelLee/book-review",children:"github.com/KittelLee/book-review"})]}),g.jsx("p",{children:"개발기간: 2023.12.6 ~ 2023.12.20"}),g.jsx("p",{children:"COPYRIGHT © 2023 ALL RIGHTS RESERVED"})]})]})})}const C9=R.div`
  display: flex;
  justify-content: center;
  width: 100%;
  background-color: rgb(251, 251, 251);
`,O9=R.div`
  display: flex;
  width: 70%;
  padding: 12px;
  @media screen and (max-width: 600px) {
    flex-direction: column;
    align-items: center;
  }
`,N9=R.div`
  width: 70%;
  @media screen and (max-width: 600px) {
    width: 100%;
  }
`,D9=R.div`
  ul li {
    display: inline;
    margin-left: 10px;
  }
  ul li a {
    text-decoration: none;
    color: black;
  }
  ul li a:hover {
    text-decoration: underline;
  }
  @media screen and (max-width: 600px) {
    ul li {
      font-size: 0.9rem;
    }
    ul li a {
      font-size: 0.9rem;
    }
  }
`,L9=R.div`
  display: flex;
  flex-direction: column;
  margin-left: 50px;
  @media screen and (max-width: 600px) {
    text-align: center;
    margin-left: 0;
  }
  a {
    text-decoration: none;
    color: inherit;
    &:hover {
      color: #f43530;
      font-weight: 500;
    }
  }
  span {
    padding: 0.2rem;
  }
  .first-row,
  .second-row {
    font-weight: 500;
    font-size: 1.1em;
  }
`,Cb=R.img`
  width: 2rem;
  height: 2rem;
`,M9=R.div`
  width: 30%;
  p {
    line-height: 0.9;
    font-family: Arial;
    font-size: 0.8rem;
  }
  a {
    text-decoration: none;
    color: black;
  }
  a:hover {
    color: red;
  }
  @media screen and (max-width: 600px) {
    margin-top: 20px;
    width: 100%;
    h3,
    p,
    a {
      text-align: center;
    }
    p {
      line-height: 0.5;
    }
    a {
      font-size: 0.72rem;
    }
  }
`;function Ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(n),!0).forEach(function(r){_t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function V9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F9(t,e,n){return e&&Nb(t.prototype,e),n&&Nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1(t,e){return U9(t)||B9(t,e)||BC(t,e)||q9()}function kd(t){return $9(t)||j9(t)||BC(t)||z9()}function $9(t){if(Array.isArray(t))return A_(t)}function U9(t){if(Array.isArray(t))return t}function j9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function BC(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Db=function(){},y1={},zC={},qC=null,WC={mark:Db,measure:Db};try{typeof window<"u"&&(y1=window),typeof document<"u"&&(zC=document),typeof MutationObserver<"u"&&(qC=MutationObserver),typeof performance<"u"&&(WC=performance)}catch{}var W9=y1.navigator||{},Lb=W9.userAgent,Mb=Lb===void 0?"":Lb,fs=y1,$e=zC,Vb=qC,bh=WC;fs.document;var Ii=!!$e.documentElement&&!!$e.head&&typeof $e.addEventListener=="function"&&typeof $e.createElement=="function",HC=~Mb.indexOf("MSIE")||~Mb.indexOf("Trident/"),Sh,xh,kh,Ah,Rh,fi="___FONT_AWESOME___",R_=16,GC="fa",KC="svg-inline--fa",xo="data-fa-i2svg",P_="data-fa-pseudo-element",H9="data-fa-pseudo-element-pending",v1="data-prefix",_1="data-icon",Fb="fontawesome-i2svg",G9="async",K9=["HTML","HEAD","STYLE","SCRIPT"],QC=function(){try{return!0}catch{return!1}}(),Le="classic",tt="sharp",w1=[Le,tt];function Ad(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Le]}})}var Mc=Ad((Sh={},_t(Sh,Le,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),_t(Sh,tt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Sh)),Vc=Ad((xh={},_t(xh,Le,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_t(xh,tt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),xh)),Fc=Ad((kh={},_t(kh,Le,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_t(kh,tt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),kh)),Q9=Ad((Ah={},_t(Ah,Le,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_t(Ah,tt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Ah)),Y9=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,YC="fa-layers-text",X9=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,J9=Ad((Rh={},_t(Rh,Le,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_t(Rh,tt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Rh)),XC=[1,2,3,4,5,6,7,8,9,10],Z9=XC.concat([11,12,13,14,15,16,17,18,19,20]),e8=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],eo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$c=new Set;Object.keys(Vc[Le]).map($c.add.bind($c));Object.keys(Vc[tt]).map($c.add.bind($c));var t8=[].concat(w1,kd($c),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",eo.GROUP,eo.SWAP_OPACITY,eo.PRIMARY,eo.SECONDARY]).concat(XC.map(function(t){return"".concat(t,"x")})).concat(Z9.map(function(t){return"w-".concat(t)})),Hu=fs.FontAwesomeConfig||{};function n8(t){var e=$e.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function r8(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if($e&&typeof $e.querySelector=="function"){var i8=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];i8.forEach(function(t){var e=g1(t,2),n=e[0],r=e[1],i=r8(n8(n));i!=null&&(Hu[r]=i)})}var JC={styleDefault:"solid",familyDefault:"classic",cssPrefix:GC,replacementClass:KC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Hu.familyPrefix&&(Hu.cssPrefix=Hu.familyPrefix);var dl=Q(Q({},JC),Hu);dl.autoReplaceSvg||(dl.observeMutations=!1);var Z={};Object.keys(JC).forEach(function(t){Object.defineProperty(Z,t,{enumerable:!0,set:function(n){dl[t]=n,Gu.forEach(function(r){return r(Z)})},get:function(){return dl[t]}})});Object.defineProperty(Z,"familyPrefix",{enumerable:!0,set:function(e){dl.cssPrefix=e,Gu.forEach(function(n){return n(Z)})},get:function(){return dl.cssPrefix}});fs.FontAwesomeConfig=Z;var Gu=[];function s8(t){return Gu.push(t),function(){Gu.splice(Gu.indexOf(t),1)}}var Ri=R_,Lr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function o8(t){if(!(!t||!Ii)){var e=$e.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=$e.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return $e.head.insertBefore(e,r),t}}var a8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Uc(){for(var t=12,e="";t-- >0;)e+=a8[Math.random()*62|0];return e}function Fl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function E1(t){return t.classList?Fl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function ZC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l8(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(ZC(t[n]),'" ')},"").trim()}function qm(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function I1(t){return t.size!==Lr.size||t.x!==Lr.x||t.y!==Lr.y||t.rotate!==Lr.rotate||t.flipX||t.flipY}function u8(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function c8(t){var e=t.transform,n=t.width,r=n===void 0?R_:n,i=t.height,s=i===void 0?R_:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&HC?l+="translate(".concat(e.x/Ri-r/2,"em, ").concat(e.y/Ri-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Ri,"em), calc(-50% + ").concat(e.y/Ri,"em)) "):l+="translate(".concat(e.x/Ri,"em, ").concat(e.y/Ri,"em) "),l+="scale(".concat(e.size/Ri*(e.flipX?-1:1),", ").concat(e.size/Ri*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var d8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function e2(){var t=GC,e=KC,n=Z.cssPrefix,r=Z.replacementClass,i=d8;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var $b=!1;function Ly(){Z.autoAddCss&&!$b&&(o8(e2()),$b=!0)}var h8={mixout:function(){return{dom:{css:e2,insertCss:Ly}}},hooks:function(){return{beforeDOMElementCreation:function(){Ly()},beforeI2svg:function(){Ly()}}}},pi=fs||{};pi[fi]||(pi[fi]={});pi[fi].styles||(pi[fi].styles={});pi[fi].hooks||(pi[fi].hooks={});pi[fi].shims||(pi[fi].shims=[]);var cr=pi[fi],t2=[],f8=function t(){$e.removeEventListener("DOMContentLoaded",t),Sp=1,t2.map(function(e){return e()})},Sp=!1;Ii&&(Sp=($e.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($e.readyState),Sp||$e.addEventListener("DOMContentLoaded",f8));function p8(t){Ii&&(Sp?setTimeout(t,0):t2.push(t))}function Rd(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?ZC(t):"<".concat(e," ").concat(l8(r),">").concat(s.map(Rd).join(""),"</").concat(e,">")}function Ub(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var m8=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},My=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?m8(n,i):n,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function g8(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function C_(t){var e=g8(t);return e.length===1?e[0].toString(16):null}function y8(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function jb(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function O_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=jb(e);typeof cr.hooks.addPack=="function"&&!i?cr.hooks.addPack(t,jb(e)):cr.styles[t]=Q(Q({},cr.styles[t]||{}),s),t==="fas"&&O_("fa",e)}var Ph,Ch,Oh,ka=cr.styles,v8=cr.shims,_8=(Ph={},_t(Ph,Le,Object.values(Fc[Le])),_t(Ph,tt,Object.values(Fc[tt])),Ph),T1=null,n2={},r2={},i2={},s2={},o2={},w8=(Ch={},_t(Ch,Le,Object.keys(Mc[Le])),_t(Ch,tt,Object.keys(Mc[tt])),Ch);function E8(t){return~t8.indexOf(t)}function I8(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!E8(i)?i:null}var a2=function(){var e=function(s){return My(ka,function(o,a,l){return o[l]=My(a,s,{}),o},{})};n2=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),r2=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),o2=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in ka||Z.autoFetchSvg,r=My(v8,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});i2=r.names,s2=r.unicodes,T1=Wm(Z.styleDefault,{family:Z.familyDefault})};s8(function(t){T1=Wm(t.styleDefault,{family:Z.familyDefault})});a2();function b1(t,e){return(n2[t]||{})[e]}function T8(t,e){return(r2[t]||{})[e]}function to(t,e){return(o2[t]||{})[e]}function l2(t){return i2[t]||{prefix:null,iconName:null}}function b8(t){var e=s2[t],n=b1("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ps(){return T1}var S1=function(){return{prefix:null,iconName:null,rest:[]}};function Wm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Le:n,i=Mc[r][t],s=Vc[r][t]||Vc[r][i],o=t in cr.styles?t:null;return s||o||null}var Bb=(Oh={},_t(Oh,Le,Object.keys(Fc[Le])),_t(Oh,tt,Object.keys(Fc[tt])),Oh);function Hm(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},_t(e,Le,"".concat(Z.cssPrefix,"-").concat(Le)),_t(e,tt,"".concat(Z.cssPrefix,"-").concat(tt)),e),o=null,a=Le;(t.includes(s[Le])||t.some(function(u){return Bb[Le].includes(u)}))&&(a=Le),(t.includes(s[tt])||t.some(function(u){return Bb[tt].includes(u)}))&&(a=tt);var l=t.reduce(function(u,c){var d=I8(Z.cssPrefix,c);if(ka[c]?(c=_8[a].includes(c)?Q9[a][c]:c,o=c,u.prefix=c):w8[a].indexOf(c)>-1?(o=c,u.prefix=Wm(c,{family:a})):d?u.iconName=d:c!==Z.replacementClass&&c!==s[Le]&&c!==s[tt]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var h=o==="fa"?l2(u.iconName):{},f=to(u.prefix,u.iconName);h.prefix&&(o=null),u.iconName=h.iconName||f||u.iconName,u.prefix=h.prefix||u.prefix,u.prefix==="far"&&!ka.far&&ka.fas&&!Z.autoFetchSvg&&(u.prefix="fas")}return u},S1());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===tt&&(ka.fass||Z.autoFetchSvg)&&(l.prefix="fass",l.iconName=to(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=ps()||"fas"),l}var S8=function(){function t(){V9(this,t),this.definitions={}}return F9(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Q(Q({},n.definitions[a]||{}),o[a]),O_(a,o[a]);var l=Fc[Le][a];l&&O_(l,o[a]),a2()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(d){typeof d=="string"&&(n[a][d]=u)}),n[a][l]=u}),n}}]),t}(),zb=[],Aa={},Ba={},x8=Object.keys(Ba);function k8(t,e){var n=e.mixoutsTo;return zb=t,Aa={},Object.keys(Ba).forEach(function(r){x8.indexOf(r)===-1&&delete Ba[r]}),zb.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),bp(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Aa[o]||(Aa[o]=[]),Aa[o].push(s[o])})}r.provides&&r.provides(Ba)}),n}function N_(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=Aa[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function ko(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Aa[t]||[];i.forEach(function(s){s.apply(null,n)})}function mi(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ba[t]?Ba[t].apply(null,e):void 0}function D_(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ps();if(e)return e=to(n,e)||e,Ub(u2.definitions,n,e)||Ub(cr.styles,n,e)}var u2=new S8,A8=function(){Z.autoReplaceSvg=!1,Z.observeMutations=!1,ko("noAuto")},R8={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ii?(ko("beforeI2svg",e),mi("pseudoElements2svg",e),mi("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Z.autoReplaceSvg===!1&&(Z.autoReplaceSvg=!0),Z.observeMutations=!0,p8(function(){C8({autoReplaceSvgRoot:n}),ko("watch",e)})}},P8={icon:function(e){if(e===null)return null;if(bp(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:to(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Wm(e[0]);return{prefix:r,iconName:to(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Z.cssPrefix,"-"))>-1||e.match(Y9))){var i=Hm(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ps(),iconName:to(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=ps();return{prefix:s,iconName:to(s,e)||e}}}},qn={noAuto:A8,config:Z,dom:R8,parse:P8,library:u2,findIconDefinition:D_,toHtml:Rd},C8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?$e:n;(Object.keys(cr.styles).length>0||Z.autoFetchSvg)&&Ii&&Z.autoReplaceSvg&&qn.dom.i2svg({node:r})};function Gm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Rd(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Ii){var r=$e.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function O8(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(I1(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=qm(Q(Q({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function N8(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(Z.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Q(Q({},i),{},{id:o}),children:r}]}]}function x1(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,c=t.titleId,d=t.extra,h=t.watchable,f=h===void 0?!1:h,y=r.found?r:n,_=y.width,w=y.height,m=i==="fak",p=[Z.replacementClass,s?"".concat(Z.cssPrefix,"-").concat(s):""].filter(function(O){return d.classes.indexOf(O)===-1}).filter(function(O){return O!==""||!!O}).concat(d.classes).join(" "),v={children:[],attributes:Q(Q({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:p,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(w)})},E=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(_/w*16*.0625,"em")}:{};f&&(v.attributes[xo]=""),l&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(c||Uc())},children:[l]}),delete v.attributes.title);var I=Q(Q({},v),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:Q(Q({},E),d.styles)}),T=r.found&&n.found?mi("generateAbstractMask",I)||{children:[],attributes:{}}:mi("generateAbstractIcon",I)||{children:[],attributes:{}},x=T.children,S=T.attributes;return I.children=x,I.attributes=S,a?N8(I):O8(I)}function qb(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=Q(Q(Q({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[xo]="");var c=Q({},o.styles);I1(i)&&(c.transform=c8({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var d=qm(c);d.length>0&&(u.style=d);var h=[];return h.push({tag:"span",attributes:u,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function D8(t){var e=t.content,n=t.title,r=t.extra,i=Q(Q(Q({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=qm(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Vy=cr.styles;function L_(t){var e=t[0],n=t[1],r=t.slice(4),i=g1(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Z.cssPrefix,"-").concat(eo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(eo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(eo.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var L8={found:!1,width:512,height:512};function M8(t,e){!QC&&!Z.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function M_(t,e){var n=e;return e==="fa"&&Z.styleDefault!==null&&(e=ps()),new Promise(function(r,i){if(mi("missingIconAbstract"),n==="fa"){var s=l2(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Vy[e]&&Vy[e][t]){var o=Vy[e][t];return r(L_(o))}M8(t,e),r(Q(Q({},L8),{},{icon:Z.showMissingIcons&&t?mi("missingIconAbstract")||{}:{}}))})}var Wb=function(){},V_=Z.measurePerformance&&bh&&bh.mark&&bh.measure?bh:{mark:Wb,measure:Wb},Su='FA "6.5.1"',V8=function(e){return V_.mark("".concat(Su," ").concat(e," begins")),function(){return c2(e)}},c2=function(e){V_.mark("".concat(Su," ").concat(e," ends")),V_.measure("".concat(Su," ").concat(e),"".concat(Su," ").concat(e," begins"),"".concat(Su," ").concat(e," ends"))},k1={begin:V8,end:c2},mf=function(){};function Hb(t){var e=t.getAttribute?t.getAttribute(xo):null;return typeof e=="string"}function F8(t){var e=t.getAttribute?t.getAttribute(v1):null,n=t.getAttribute?t.getAttribute(_1):null;return e&&n}function $8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Z.replacementClass)}function U8(){if(Z.autoReplaceSvg===!0)return gf.replace;var t=gf[Z.autoReplaceSvg];return t||gf.replace}function j8(t){return $e.createElementNS("http://www.w3.org/2000/svg",t)}function B8(t){return $e.createElement(t)}function d2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?j8:B8:n;if(typeof t=="string")return $e.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(d2(o,{ceFn:r}))}),i}function z8(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var gf={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(d2(i),n)}),n.getAttribute(xo)===null&&Z.keepOriginalSource){var r=$e.createComment(z8(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~E1(n).indexOf(Z.replacementClass))return gf.replace(e);var i=new RegExp("".concat(Z.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===Z.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Rd(a)}).join(`
`);n.setAttribute(xo,""),n.innerHTML=o}};function Gb(t){t()}function h2(t,e){var n=typeof e=="function"?e:mf;if(t.length===0)n();else{var r=Gb;Z.mutateApproach===G9&&(r=fs.requestAnimationFrame||Gb),r(function(){var i=U8(),s=k1.begin("mutate");t.map(i),s(),n()})}}var A1=!1;function f2(){A1=!0}function F_(){A1=!1}var xp=null;function Kb(t){if(Vb&&Z.observeMutations){var e=t.treeCallback,n=e===void 0?mf:e,r=t.nodeCallback,i=r===void 0?mf:r,s=t.pseudoElementsCallback,o=s===void 0?mf:s,a=t.observeMutationsRoot,l=a===void 0?$e:a;xp=new Vb(function(u){if(!A1){var c=ps();Fl(u).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!Hb(d.addedNodes[0])&&(Z.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&Z.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&Hb(d.target)&&~e8.indexOf(d.attributeName))if(d.attributeName==="class"&&F8(d.target)){var h=Hm(E1(d.target)),f=h.prefix,y=h.iconName;d.target.setAttribute(v1,f||c),y&&d.target.setAttribute(_1,y)}else $8(d.target)&&i(d.target)})}}),Ii&&xp.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function q8(){xp&&xp.disconnect()}function W8(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function H8(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Hm(E1(t));return i.prefix||(i.prefix=ps()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=T8(i.prefix,t.innerText)||b1(i.prefix,C_(t.innerText))),!i.iconName&&Z.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function G8(t){var e=Fl(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Z.autoA11y&&(n?e["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(r||Uc()):(e["aria-hidden"]="true",e.focusable="false")),e}function K8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Lr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Qb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=H8(t),r=n.iconName,i=n.prefix,s=n.rest,o=G8(t),a=N_("parseNodeAttributes",{},t),l=e.styleParser?W8(t):[];return Q({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Lr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Q8=cr.styles;function p2(t){var e=Z.autoReplaceSvg==="nest"?Qb(t,{styleParser:!1}):Qb(t);return~e.extra.classes.indexOf(YC)?mi("generateLayersText",t,e):mi("generateSvgReplacementMutation",t,e)}var ms=new Set;w1.map(function(t){ms.add("fa-".concat(t))});Object.keys(Mc[Le]).map(ms.add.bind(ms));Object.keys(Mc[tt]).map(ms.add.bind(ms));ms=kd(ms);function Yb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ii)return Promise.resolve();var n=$e.documentElement.classList,r=function(d){return n.add("".concat(Fb,"-").concat(d))},i=function(d){return n.remove("".concat(Fb,"-").concat(d))},s=Z.autoFetchSvg?ms:w1.map(function(c){return"fa-".concat(c)}).concat(Object.keys(Q8));s.includes("fa")||s.push("fa");var o=[".".concat(YC,":not([").concat(xo,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(xo,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Fl(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=k1.begin("onTree"),u=a.reduce(function(c,d){try{var h=p2(d);h&&c.push(h)}catch(f){QC||f.name==="MissingIcon"&&console.error(f)}return c},[]);return new Promise(function(c,d){Promise.all(u).then(function(h){h2(h,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(h){l(),d(h)})})}function Y8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;p2(t).then(function(n){n&&h2([n],e)})}function X8(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:D_(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:D_(i||{})),t(r,Q(Q({},n),{},{mask:i}))}}var J8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Lr:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,d=n.title,h=d===void 0?null:d,f=n.titleId,y=f===void 0?null:f,_=n.classes,w=_===void 0?[]:_,m=n.attributes,p=m===void 0?{}:m,v=n.styles,E=v===void 0?{}:v;if(e){var I=e.prefix,T=e.iconName,x=e.icon;return Gm(Q({type:"icon"},e),function(){return ko("beforeDOMElementCreation",{iconDefinition:e,params:n}),Z.autoA11y&&(h?p["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(y||Uc()):(p["aria-hidden"]="true",p.focusable="false")),x1({icons:{main:L_(x),mask:l?L_(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:I,iconName:T,transform:Q(Q({},Lr),i),symbol:o,title:h,maskId:c,titleId:y,extra:{attributes:p,styles:E,classes:w}})})}},Z8={mixout:function(){return{icon:X8(J8)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Yb,n.nodeCallback=Y8,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?$e:r,s=n.callback,o=s===void 0?function(){}:s;return Yb(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,c=r.mask,d=r.maskId,h=r.extra;return new Promise(function(f,y){Promise.all([M_(i,a),c.iconName?M_(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(_){var w=g1(_,2),m=w[0],p=w[1];f([n,x1({icons:{main:m,mask:p},prefix:a,iconName:i,transform:l,symbol:u,maskId:d,title:s,titleId:o,extra:h,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=qm(a);l.length>0&&(i.style=l);var u;return I1(o)&&(u=mi("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},e7={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return Gm({type:"layer"},function(){ko("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Z.cssPrefix,"-layers")].concat(kd(s)).join(" ")},children:o}]})}}}},t7={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,c=r.styles,d=c===void 0?{}:c;return Gm({type:"counter",content:n},function(){return ko("beforeDOMElementCreation",{content:n,params:r}),D8({content:n.toString(),title:s,extra:{attributes:u,styles:d,classes:["".concat(Z.cssPrefix,"-layers-counter")].concat(kd(a))}})})}}}},n7={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Lr:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,c=r.attributes,d=c===void 0?{}:c,h=r.styles,f=h===void 0?{}:h;return Gm({type:"text",content:n},function(){return ko("beforeDOMElementCreation",{content:n,params:r}),qb({content:n,transform:Q(Q({},Lr),s),title:a,extra:{attributes:d,styles:f,classes:["".concat(Z.cssPrefix,"-layers-text")].concat(kd(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(HC){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();a=c.width/u,l=c.height/u}return Z.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,qb({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},r7=new RegExp('"',"ug"),Xb=[1105920,1112319];function i7(t){var e=t.replace(r7,""),n=y8(e,0),r=n>=Xb[0]&&n<=Xb[1],i=e.length===2?e[0]===e[1]:!1;return{value:C_(i?e[0]:e),isSecondary:r||i}}function Jb(t,e){var n="".concat(H9).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Fl(t.children),o=s.filter(function(x){return x.getAttribute(P_)===e})[0],a=fs.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(X9),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&c!=="none"&&c!==""){var d=a.getPropertyValue("content"),h=~["Sharp"].indexOf(l[2])?tt:Le,f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Vc[h][l[2].toLowerCase()]:J9[h][u],y=i7(d),_=y.value,w=y.isSecondary,m=l[0].startsWith("FontAwesome"),p=b1(f,_),v=p;if(m){var E=b8(_);E.iconName&&E.prefix&&(p=E.iconName,f=E.prefix)}if(p&&!w&&(!o||o.getAttribute(v1)!==f||o.getAttribute(_1)!==v)){t.setAttribute(n,v),o&&t.removeChild(o);var I=K8(),T=I.extra;T.attributes[P_]=e,M_(p,f).then(function(x){var S=x1(Q(Q({},I),{},{icons:{main:x,mask:S1()},prefix:f,iconName:v,extra:T,watchable:!0})),O=$e.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=S.map(function(L){return Rd(L)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function s7(t){return Promise.all([Jb(t,"::before"),Jb(t,"::after")])}function o7(t){return t.parentNode!==document.head&&!~K9.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(P_)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Zb(t){if(Ii)return new Promise(function(e,n){var r=Fl(t.querySelectorAll("*")).filter(o7).map(s7),i=k1.begin("searchPseudoElements");f2(),Promise.all(r).then(function(){i(),F_(),e()}).catch(function(){i(),F_(),n()})})}var a7={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Zb,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?$e:r;Z.searchPseudoElements&&Zb(i)}}},eS=!1,l7={mixout:function(){return{dom:{unwatch:function(){f2(),eS=!0}}}},hooks:function(){return{bootstrap:function(){Kb(N_("mutationObserverCallbacks",{}))},noAuto:function(){q8()},watch:function(n){var r=n.observeMutationsRoot;eS?F_():Kb(N_("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},tS=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},u7={mixout:function(){return{parse:{transform:function(n){return tS(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=tS(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(u," ").concat(c)},h={transform:"translate(".concat(o/2*-1," -256)")},f={outer:a,inner:d,path:h};return{tag:"g",attributes:Q({},f.outer),children:[{tag:"g",attributes:Q({},f.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Q(Q({},r.icon.attributes),f.path)}]}]}}}},Fy={x:0,y:0,width:"100%",height:"100%"};function nS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function c7(t){return t.tag==="g"?t.children:[t]}var d7={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Hm(i.split(" ").map(function(o){return o.trim()})):S1();return s.prefix||(s.prefix=ps()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,d=o.width,h=o.icon,f=u8({transform:l,containerWidth:d,iconWidth:u}),y={tag:"rect",attributes:Q(Q({},Fy),{},{fill:"white"})},_=c.children?{children:c.children.map(nS)}:{},w={tag:"g",attributes:Q({},f.inner),children:[nS(Q({tag:c.tag,attributes:Q(Q({},c.attributes),f.path)},_))]},m={tag:"g",attributes:Q({},f.outer),children:[w]},p="mask-".concat(a||Uc()),v="clip-".concat(a||Uc()),E={tag:"mask",attributes:Q(Q({},Fy),{},{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,m]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:c7(h)},E]};return r.push(I,{tag:"rect",attributes:Q({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(p,")")},Fy)}),{children:r,attributes:i}}}},h7={provides:function(e){var n=!1;fs.matchMedia&&(n=fs.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Q(Q({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Q(Q({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Q(Q({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Q(Q({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Q(Q({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Q(Q({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Q(Q({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Q(Q({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Q(Q({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},f7={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},p7=[h8,Z8,e7,t7,n7,a7,l7,u7,d7,h7,f7];k8(p7,{mixoutsTo:qn});qn.noAuto;qn.config;qn.library;qn.dom;var $_=qn.parse;qn.findIconDefinition;qn.toHtml;var m7=qn.icon;qn.layer;qn.text;qn.counter;var m2={exports:{}},g7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y7=g7,v7=y7;function g2(){}function y2(){}y2.resetWarningCache=g2;var _7=function(){function t(r,i,s,o,a,l){if(l!==v7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y2,resetWarningCache:g2};return n.PropTypes=n,n};m2.exports=_7();var R1=m2.exports;const fe=Xp(R1);function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){Ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function Ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E7(t,e){if(t==null)return{};var n=w7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U_(t){return I7(t)||T7(t)||b7(t)||S7()}function I7(t){if(Array.isArray(t))return j_(t)}function T7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b7(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,c=t.spinReverse,d=t.pulse,h=t.fixedWidth,f=t.inverse,y=t.border,_=t.listItem,w=t.flip,m=t.size,p=t.rotation,v=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":y,"fa-li":_,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},Ra(e,"fa-".concat(m),typeof m<"u"&&m!==null),Ra(e,"fa-rotate-".concat(p),typeof p<"u"&&p!==null&&p!==0),Ra(e,"fa-pull-".concat(v),typeof v<"u"&&v!==null),Ra(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(I){return E[I]?I:null}).filter(function(I){return I})}function k7(t){return t=t-0,t===t}function v2(t){return k7(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var A7=["style"];function R7(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P7(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=v2(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[R7(i)]=s:e[i]=s,e},{})}function _2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return _2(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=P7(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[v2(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=E7(n,A7);return i.attrs.style=Hi(Hi({},i.attrs.style),o),t.apply(void 0,[e.tag,Hi(Hi({},i.attrs),a)].concat(U_(r)))}var w2=!1;try{w2=!0}catch{}function C7(){if(!w2&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function iS(t){if(t&&kp(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if($_.icon)return $_.icon(t);if(t===null)return null;if(t&&kp(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function $y(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ra({},t,e):{}}var ln=he.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,u=iS(n),c=$y("classes",[].concat(U_(x7(t)),U_(s.split(" ")))),d=$y("transform",typeof t.transform=="string"?$_.transform(t.transform):t.transform),h=$y("mask",iS(r)),f=m7(u,Hi(Hi(Hi(Hi({},c),d),h),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!f)return C7("Could not find icon",u),null;var y=f.abstract,_={ref:e};return Object.keys(t).forEach(function(w){ln.defaultProps.hasOwnProperty(w)||(_[w]=t[w])}),O7(y[0],_)});ln.displayName="FontAwesomeIcon";ln.propTypes={beat:fe.bool,border:fe.bool,beatFade:fe.bool,bounce:fe.bool,className:fe.string,fade:fe.bool,flash:fe.bool,mask:fe.oneOfType([fe.object,fe.array,fe.string]),maskId:fe.string,fixedWidth:fe.bool,inverse:fe.bool,flip:fe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:fe.oneOfType([fe.object,fe.array,fe.string]),listItem:fe.bool,pull:fe.oneOf(["right","left"]),pulse:fe.bool,rotation:fe.oneOf([0,90,180,270]),shake:fe.bool,size:fe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:fe.bool,spinPulse:fe.bool,spinReverse:fe.bool,symbol:fe.oneOfType([fe.bool,fe.string]),title:fe.string,titleId:fe.string,transform:fe.oneOfType([fe.string,fe.object]),swapOpacity:fe.bool};ln.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var O7=_2.bind(null,he.createElement),N7={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"]},D7={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]},L7={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},M7={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},V7={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},F7={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},$7={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},U7={prefix:"fas",iconName:"eraser",icon:[576,512,[],"f12d","M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7H288h9.4H512c17.7 0 32-14.3 32-32s-14.3-32-32-32H387.9L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416H288l-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z"]},j7={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},sS={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]};function B7(){return g.jsx(z7,{children:g.jsxs(q7,{children:[g.jsxs(Cr,{to:"/",className:"sub-list",children:[g.jsx(ln,{icon:$7,id:"icon-color1"}),g.jsx("span",{children:"Home"})]}),g.jsxs(Cr,{to:"/List",className:"sub-list",children:[g.jsx(ln,{icon:j7,id:"icon-color2"}),g.jsx("span",{children:"BookList"})]}),g.jsxs(Cr,{to:"/Board",className:"sub-list",children:[g.jsx(ln,{icon:N7,id:"icon-color3"}),g.jsx("span",{children:"Board"})]}),g.jsxs(Cr,{to:"/MyPage",className:"sub-list",children:[g.jsx(ln,{icon:L7,id:"icon-color4"}),g.jsx("span",{children:"MyPage"})]}),g.jsxs(Cr,{to:"/Login",className:"sub-list",children:[g.jsx(ln,{icon:D7,id:"icon-color5"}),g.jsx("span",{children:"Login"})]})]})})}const z7=R.div`
  display: flex;
  justify-content: center;
  width: 100%;
  background-color: rgb(251, 251, 251);
  position: sticky;
  top: 0;
  z-index: 9999;
`,q7=R.div`
  position: relative;
  margin: 10px;
  .sub-list {
    text-decoration: none;
    color: black;
    position: relative;
    z-index: 1;
    margin: 0 20px;
    font-size: 36px;
    @media screen and (max-width: 600px) {
      font-size: 20px;
    }

    span {
      display: none;
    }
    #icon-color1 {
      color: red;
    }
    #icon-color2 {
      color: orange;
    }
    #icon-color3 {
      color: green;
    }
    #icon-color4 {
      color: blue;
    }
    #icon-color5 {
      color: purple;
    }
  }
`;var W7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,P1=P1||{},oe=W7||self;function Km(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function H7(t){return Object.prototype.hasOwnProperty.call(t,Uy)&&t[Uy]||(t[Uy]=++G7)}var Uy="closure_uid_"+(1e9*Math.random()>>>0),G7=0;function K7(t,e,n){return t.call.apply(t.bind,arguments)}function Q7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=K7:Xt=Q7,Xt.apply(null,arguments)}function Nh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ps(){this.s=this.s,this.o=this.o}var Y7=0;Ps.prototype.s=!1;Ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Y7!=0)&&H7(this)};Ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function C1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function oS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Km(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var X7=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function jc(t){return/^[\s\xa0]*$/.test(t)}function Qm(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Or(t){return Qm().indexOf(t)!=-1}function O1(t){return O1[" "](t),t}O1[" "]=function(){};function J7(t,e){var n=qq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Z7=Or("Opera"),hl=Or("Trident")||Or("MSIE"),I2=Or("Edge"),B_=I2||hl,T2=Or("Gecko")&&!(Qm().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),eq=Qm().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge");function b2(){var t=oe.document;return t?t.documentMode:void 0}var z_;e:{var jy="",By=function(){var t=Qm();if(T2)return/rv:([^\);]+)(\)|;)/.exec(t);if(I2)return/Edge\/([\d\.]+)/.exec(t);if(hl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eq)return/WebKit\/(\S+)/.exec(t);if(Z7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(By&&(jy=By?By[1]:""),hl){var zy=b2();if(zy!=null&&zy>parseFloat(jy)){z_=String(zy);break e}}z_=jy}var q_;if(oe.document&&hl){var aS=b2();q_=aS||parseInt(z_,10)||void 0}else q_=void 0;var tq=q_;function Bc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(T2){e:{try{O1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.$.h.call(this)}}Pt(Bc,Jt);var nq={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cd="closure_listenable_"+(1e6*Math.random()|0),rq=0;function iq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++rq,this.fa=this.ia=!1}function Ym(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function N1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function S2(t){const e={};for(const n in t)e[n]=t[n];return e}const lS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<lS.length;s++)n=lS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xm(t){this.src=t,this.g={},this.h=0}Xm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=H_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new iq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function W_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=E2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ym(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function H_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var D1="closure_lm_"+(1e6*Math.random()|0),qy={};function k2(t,e,n,r,i){if(r&&r.once)return R2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)k2(t,e[s],n,r,i);return null}return n=V1(n),t&&t[Cd]?t.O(e,n,Pd(r)?!!r.capture:!!r,i):A2(t,e,n,!1,r,i)}function A2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pd(i)?!!i.capture:!!i,a=M1(t);if(a||(t[D1]=a=new Xm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=oq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)X7||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(C2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oq(){function t(n){return e.call(t.src,t.listener,n)}const e=aq;return t}function R2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)R2(t,e[s],n,r,i);return null}return n=V1(n),t&&t[Cd]?t.P(e,n,Pd(r)?!!r.capture:!!r,i):A2(t,e,n,!0,r,i)}function P2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)P2(t,e[s],n,r,i);else r=Pd(r)?!!r.capture:!!r,n=V1(n),t&&t[Cd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=H_(s,n,r,i),-1<n&&(Ym(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=M1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H_(e,n,r,i)),(n=-1<t?e[t]:null)&&L1(n))}function L1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cd])W_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(C2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=M1(e))?(W_(n,t),n.h==0&&(n.src=null,e[D1]=null)):Ym(t)}}}function C2(t){return t in qy?qy[t]:qy[t]="on"+t}function aq(t,e){if(t.fa)t=!0;else{e=new Bc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&L1(t),t=n.call(r,e)}return t}function M1(t){return t=t[D1],t instanceof Xm?t:null}var Wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function V1(t){return typeof t=="function"?t:(t[Wy]||(t[Wy]=function(e){return t.handleEvent(e)}),t[Wy])}function Rt(){Ps.call(this),this.i=new Xm(this),this.S=this,this.J=null}Pt(Rt,Ps);Rt.prototype[Cd]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){P2(this,t,e,n,r)};function Ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;e=new Jt(r,t),x2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dh(o,r,!0,e)&&i}if(o=e.g=t,i=Dh(o,r,!0,e)&&i,i=Dh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Dh(o,r,!1,e)&&i}Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ym(n[r]);delete t.g[e],t.h--}}this.J=null};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&W_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var F1=oe.JSON.stringify;class lq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function uq(){var t=$1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cq{constructor(){this.h=this.g=null}add(e,n){const r=O2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var O2=new lq(()=>new dq,t=>t.reset());class dq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fq(t){oe.setTimeout(()=>{throw t},0)}let zc,qc=!1,$1=new cq,N2=()=>{const t=oe.Promise.resolve(void 0);zc=()=>{t.then(pq)}};var pq=()=>{for(var t;t=uq();){try{t.h.call(t.g)}catch(n){fq(n)}var e=O2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qc=!1};function Jm(t,e){Rt.call(this),this.h=t||1,this.g=e||oe,this.j=Xt(this.qb,this),this.l=Date.now()}Pt(Jm,Rt);j=Jm.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(U1(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function U1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Jm.$.N.call(this),U1(this),delete this.g};function j1(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function D2(t){t.g=j1(()=>{t.g=null,t.i&&(t.i=!1,D2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mq extends Ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D2(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(t){Ps.call(this),this.h=t,this.g={}}Pt(Wc,Ps);var uS=[];function L2(t,e,n,r){Array.isArray(n)||(n&&(uS[0]=n.toString()),n=uS);for(var i=0;i<n.length;i++){var s=k2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function M2(t){N1(t.g,function(e,n){this.g.hasOwnProperty(n)&&L1(e)},t),t.g={}}Wc.prototype.N=function(){Wc.$.N.call(this),M2(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zm(){this.g=!0}Zm.prototype.Ea=function(){this.g=!1};function gq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function yq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_q(t,n)+(r?" "+r:"")})}function vq(t,e){t.info(function(){return"TIMEOUT: "+e})}Zm.prototype.info=function(){};function _q(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return F1(n)}catch{return e}}var Wo={},cS=null;function eg(){return cS=cS||new Rt}Wo.Ta="serverreachability";function V2(t){Jt.call(this,Wo.Ta,t)}Pt(V2,Jt);function Hc(t){const e=eg();Ut(e,new V2(e))}Wo.STAT_EVENT="statevent";function F2(t,e){Jt.call(this,Wo.STAT_EVENT,t),this.stat=e}Pt(F2,Jt);function un(t){const e=eg();Ut(e,new F2(e,t))}Wo.Ua="timingevent";function $2(t,e){Jt.call(this,Wo.Ua,t),this.size=e}Pt($2,Jt);function Od(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var tg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B1(){}B1.prototype.h=null;function dS(t){return t.h||(t.h=t.i())}function j2(){}var Nd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function z1(){Jt.call(this,"d")}Pt(z1,Jt);function q1(){Jt.call(this,"c")}Pt(q1,Jt);var G_;function ng(){}Pt(ng,B1);ng.prototype.g=function(){return new XMLHttpRequest};ng.prototype.i=function(){return{}};G_=new ng;function Dd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wc(this),this.P=wq,t=B_?125:void 0,this.V=new Jm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new B2}function B2(){this.i=null,this.g="",this.h=!1}var wq=45e3,z2={},K_={};j=Dd.prototype;j.setTimeout=function(t){this.P=t};function Q_(t,e,n){t.L=1,t.A=ig(gi(e)),t.u=n,t.S=!0,q2(t,null)}function q2(t,e){t.G=Date.now(),Ld(t),t.B=gi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),J2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new B2,t.g=_O(t.l,n?e:null,!t.u),0<t.O&&(t.M=new mq(Xt(t.Pa,t,t.g),t.O)),L2(t.U,t.g,"readystatechange",t.nb),e=t.I?S2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Hc(),gq(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;const e=this.M;e&&Mr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=Mr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||B_||this.g&&(this.h.h||this.g.ja()||mS(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Hc(3):Hc(2)),rg(this);var n=this.g.da();this.ca=n;t:if(W2(this)){var r=mS(this.g);t="";var i=r.length,s=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Ku(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,yq(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jc(a)){var u=a;break t}}u=null}if(n=u)Pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y_(this,n);else{this.i=!1,this.s=3,un(12),no(this),Ku(this);break e}}this.S?(H2(this,c,o),B_&&this.i&&c==3&&(L2(this.U,this.V,"tick",this.mb),this.V.start())):(Pa(this.j,this.m,o,null),Y_(this,o)),c==4&&no(this),this.i&&!this.J&&(c==4?mO(this.l,this):(this.i=!1,Ld(this)))}else jq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),no(this),Ku(this)}}}catch{}finally{}};function W2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function H2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Eq(t,n),i==K_){e==4&&(t.s=4,un(14),r=!1),Pa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==z2){t.s=4,un(15),Pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pa(t.j,t.m,i,null),Y_(t,i);W2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Y1(e),e.M=!0,un(11))):(Pa(t.j,t.m,n,"[Invalid Chunked Response]"),no(t),Ku(t))}j.mb=function(){if(this.g){var t=Mr(this.g),e=this.g.ja();this.o<e.length&&(rg(this),H2(this,t,e),this.i&&t!=4&&Ld(this))}};function Eq(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?K_:(n=Number(e.substring(n,r)),isNaN(n)?z2:(r+=1,r+n>e.length?K_:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,no(this)};function Ld(t){t.Y=Date.now()+t.P,G2(t,t.P)}function G2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Od(Xt(t.lb,t),e)}function rg(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(vq(this.j,this.B),this.L!=2&&(Hc(),un(17)),no(this),this.s=2,Ku(this)):G2(this,this.Y-t)};function Ku(t){t.l.H==0||t.J||mO(t.l,t)}function no(t){rg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,U1(t.V),M2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Y_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||X_(n.i,t))){if(!t.K&&X_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Pp(n),lg(n);else break e;Q1(n),un(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Od(Xt(n.ib,n),6e3));if(1>=tO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ro(n,11)}else if((t.K||n.g==t)&&Pp(n),!jc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W1(s,s.h),s.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Me(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=vO(r,r.J?r.pa:null,r.Y),o.K){nO(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(rg(a),Ld(a)),r.g=o}else fO(r);0<n.j.length&&ug(n)}else u[0]!="stop"&&u[0]!="close"||ro(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ro(n,7):K1(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Hc(4)}catch{}}function Iq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Km(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Tq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Km(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function K2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Km(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Tq(t),r=Iq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Q2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function po(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof po){this.h=t.h,Ap(this,t.j),this.s=t.s,this.g=t.g,Rp(this,t.m),this.l=t.l;var e=t.i,n=new Gc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hS(this,n),this.o=t.o}else t&&(e=String(t).match(Q2))?(this.h=!1,Ap(this,e[1]||"",!0),this.s=xu(e[2]||""),this.g=xu(e[3]||"",!0),Rp(this,e[4]),this.l=xu(e[5]||"",!0),hS(this,e[6]||"",!0),this.o=xu(e[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ku(e,fS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ku(e,fS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ku(n,n.charAt(0)=="/"?kq:xq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ku(n,Rq)),t.join("")};function gi(t){return new po(t)}function Ap(t,e,n){t.j=n?xu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hS(t,e,n){e instanceof Gc?(t.i=e,Pq(t.i,t.h)):(n||(e=ku(e,Aq)),t.i=new Gc(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function ig(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ku(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Sq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fS=/[#\/\?@]/g,xq=/[#\?:]/g,kq=/[#\?]/g,Aq=/[#\?@]/g,Rq=/#/g;function Gc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cs(t){t.g||(t.g=new Map,t.h=0,t.i&&bq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Gc.prototype;j.add=function(t,e){Cs(this),this.i=null,t=$l(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Y2(t,e){Cs(t),e=$l(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function X2(t,e){return Cs(t),e=$l(t,e),t.g.has(e)}j.forEach=function(t,e){Cs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){Cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){Cs(this);let e=[];if(typeof t=="string")X2(this,t)&&(e=e.concat(this.g.get($l(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Cs(this),this.i=null,t=$l(this,t),X2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function J2(t,e,n){Y2(t,e),0<n.length&&(t.i=null,t.g.set($l(t,e),C1(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function $l(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Pq(t,e){e&&!t.j&&(Cs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Y2(this,r),J2(this,i,n))},t)),t.j=e}var Cq=class{constructor(t,e){this.g=t,this.map=e}};function Z2(t){this.l=t||Oq,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Oq=10;function eO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tO(t){return t.h?1:t.g?t.g.size:0}function X_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W1(t,e){t.g?t.g.add(e):t.h=e}function nO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Z2.prototype.cancel=function(){if(this.i=rO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return C1(t.i)}var Nq=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function Dq(){this.g=new Nq}function Lq(t,e,n){const r=n||"";try{K2(t,function(i,s){let o=i;Pd(i)&&(o=F1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mq(t,e){const n=new Zm;if(oe.Image){const r=new Image;r.onload=Nh(Lh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nh(Lh,n,r,"TestLoadImage: error",!1,e),r.onabort=Nh(Lh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nh(Lh,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sg(t){this.l=t.ec||null,this.j=t.ob||!1}Pt(sg,B1);sg.prototype.g=function(){return new og(this.l,this.j)};sg.prototype.i=function(t){return function(){return t}}({});function og(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=H1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(og,Rt);var H1=0;j=og.prototype;j.open=function(t,e){if(this.readyState!=H1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kc(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Md(this)),this.readyState=H1};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Md(this):Kc(this),this.readyState==3&&iO(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,Md(this))};j.Ya=function(t){this.g&&(this.response=t,Md(this))};j.ka=function(){this.g&&Md(this)};function Md(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kc(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(og.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Vq=oe.JSON.parse;function rt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sO,this.L=this.M=!1}Pt(rt,Rt);var sO="",Fq=/^https?$/i,$q=["POST","PUT"];j=rt.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G_.g(),this.C=this.u?dS(this.u):dS(G_),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){pS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=E2($q,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lO(this),0<this.B&&((this.L=Uq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=j1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){pS(this,s)}};function Uq(t){return hl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof P1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function pS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oO(t),ag(t)}function oO(t){t.F||(t.F=!0,Ut(t,"complete"),Ut(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),ag(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ag(this,!0)),rt.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?aO(this):this.kb())};j.kb=function(){aO(this)};function aO(t){if(t.h&&typeof P1<"u"&&(!t.C[1]||Mr(t)!=4||t.da()!=2)){if(t.v&&Mr(t)==4)j1(t.La,0,t);else if(Ut(t,"readystatechange"),Mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Q2)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!Fq.test(i?i.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var s=2<Mr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",oO(t)}}finally{ag(t)}}}}function ag(t,e){if(t.g){lO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function lO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Mr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Vq(e)}};function mS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case sO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jq(t){const e={};t=(t.g&&2<=Mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(jc(t[r]))continue;var n=hq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}sq(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uO(t){let e="";return N1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function G1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function au(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cO(t){this.Ga=0,this.j=[],this.l=new Zm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=au("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=au("baseRetryDelayMs",5e3,t),this.hb=au("retryDelaySeedMs",1e4,t),this.eb=au("forwardChannelMaxRetries",2,t),this.xa=au("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Z2(t&&t.concurrentRequestLimit),this.Ja=new Dq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=cO.prototype;j.ra=8;j.H=1;function K1(t){if(dO(t),t.H==3){var e=t.W++,n=gi(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),Vd(t,n),e=new Dd(t,t.l,e),e.L=2,e.A=ig(gi(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=_O(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ld(e)}yO(t)}function lg(t){t.g&&(Y1(t),t.g.cancel(),t.g=null)}function dO(t){lg(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Pp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function ug(t){if(!eO(t.i)&&!t.m){t.m=!0;var e=t.Na;zc||N2(),qc||(zc(),qc=!0),$1.add(e,t),t.C=0}}function Bq(t,e){return tO(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Od(Xt(t.Na,t,e),gO(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Dd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=S2(s),x2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hO(this,i,e),n=gi(this.I),Me(n,"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),Vd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uO(s)))+"&"+e:this.o&&G1(n,this.o,s)),W1(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),i.aa=!0,Q_(i,n,null)):Q_(i,n,e),this.H=2}}else this.H==3&&(t?gS(this,t):this.j.length==0||eO(this.i)||gS(this))};function gS(t,e){var n;e?n=e.m:n=t.W++;const r=gi(t.I);Me(r,"SID",t.K),Me(r,"RID",n),Me(r,"AID",t.V),Vd(t,r),t.o&&t.s&&G1(r,t.o,t.s),n=new Dd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W1(t.i,n),Q_(n,r,e)}function Vd(t,e){t.na&&N1(t.na,function(n,r){Me(e,r,n)}),t.h&&K2({},function(n,r){Me(e,r,n)})}function hO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Lq(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zc||N2(),qc||(zc(),qc=!0),$1.add(e,t),t.A=0}}function Q1(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Od(Xt(t.Ma,t),gO(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,pO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Od(Xt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,un(10),lg(this),pO(this))};function Y1(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function pO(t){t.g=new Dd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gi(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),Vd(t,e),t.o&&t.s&&G1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ig(gi(e)),n.u=null,n.S=!0,q2(n,t)}j.ib=function(){this.v!=null&&(this.v=null,lg(this),Q1(this),un(19))};function Pp(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function mO(t,e){var n=null;if(t.g==e){Pp(t),Y1(t),t.g=null;var r=2}else if(X_(t.i,e))n=e.F,nO(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=eg(),Ut(r,new $2(r,n)),ug(t)}else fO(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Bq(t,e)||r==2&&Q1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ro(t,5);break;case 4:ro(t,10);break;case 3:ro(t,6);break;default:ro(t,2)}}}function gO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ro(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new po("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Ap(n,"https"),ig(n)),Mq(n.toString(),r)}else un(2);t.H=0,t.h&&t.h.za(e),yO(t),dO(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),un(2)):(this.l.info("Failed to ping google.com"),un(1))};function yO(t){if(t.H=0,t.ma=[],t.h){const e=rO(t.i);(e.length!=0||t.j.length!=0)&&(oS(t.ma,e),oS(t.ma,t.j),t.i.i.length=0,C1(t.j),t.j.length=0),t.h.ya()}}function vO(t,e,n){var r=n instanceof po?gi(n):new po(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rp(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new po(null);r&&Ap(s,r),e&&(s.g=e),i&&Rp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Me(r,n,e),Me(r,"VER",t.ra),Vd(t,r),r}function _O(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rt(new sg({ob:n})):new rt(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function wO(){}j=wO.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Cp(){if(hl&&!(10<=Number(tq)))throw Error("Environmental error: no available transport.")}Cp.prototype.g=function(t,e){return new Un(t,e)};function Un(t,e){Rt.call(this),this.g=new cO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ul(this)}Pt(Un,Rt);Un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vO(t,null,t.Y),ug(t)};Un.prototype.close=function(){K1(this.g)};Un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=F1(t),t=n);e.j.push(new Cq(e.fb++,t)),e.H==3&&ug(e)};Un.prototype.N=function(){this.g.h=null,delete this.j,K1(this.g),delete this.g,Un.$.N.call(this)};function EO(t){z1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(EO,z1);function IO(){q1.call(this),this.status=1}Pt(IO,q1);function Ul(t){this.g=t}Pt(Ul,wO);Ul.prototype.Ba=function(){Ut(this.g,"a")};Ul.prototype.Aa=function(t){Ut(this.g,new EO(t))};Ul.prototype.za=function(t){Ut(this.g,new IO)};Ul.prototype.ya=function(){Ut(this.g,"b")};function zq(){this.blockSize=-1}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(vr,zq);vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}vr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Hy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Hy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Hy(this,r),i=0;break}}this.h=i,this.i+=e};vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var qq={};function X1(t){return-128<=t&&128>t?J7(t,function(e){return new ke([e|0],0>e?-1:0)}):new ke([t|0],0>t?-1:0)}function Vr(t){if(isNaN(t)||!isFinite(t))return za;if(0>t)return Mt(Vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=J_;return new ke(e,0)}function TO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Mt(TO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vr(Math.pow(e,8)),r=za,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Vr(Math.pow(e,s)),r=r.R(s).add(Vr(o))):(r=r.R(n),r=r.add(Vr(o)))}return r}var J_=4294967296,za=X1(0),Z_=X1(1),yS=X1(16777216);j=ke.prototype;j.ea=function(){if(Qn(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:J_+r)*e,e*=J_}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ei(this))return"0";if(Qn(this))return"-"+Mt(this).toString(t);for(var e=Vr(Math.pow(t,6)),n=this,r="";;){var i=Np(n,e).g;n=Op(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ei(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ei(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qn(t){return t.h==-1}j.X=function(t){return t=Op(this,t),Qn(t)?-1:ei(t)?0:1};function Mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(Z_)}j.abs=function(){return Qn(this)?Mt(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function Op(t,e){return t.add(Mt(e))}j.R=function(t){if(ei(this)||ei(t))return za;if(Qn(this))return Qn(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Qn(t))return Mt(this.R(Mt(t)));if(0>this.X(yS)&&0>t.X(yS))return Vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Mh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Mh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Mh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Mh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)};function Mh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lu(t,e){this.g=t,this.h=e}function Np(t,e){if(ei(e))throw Error("division by zero");if(ei(t))return new lu(za,za);if(Qn(t))return e=Np(Mt(t),e),new lu(Mt(e.g),Mt(e.h));if(Qn(e))return e=Np(t,Mt(e)),new lu(Mt(e.g),e.h);if(30<t.g.length){if(Qn(t)||Qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Z_,r=e;0>=r.X(t);)n=vS(n),r=vS(r);var i=na(n,1),s=na(r,1);for(r=na(r,2),n=na(n,2);!ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=na(r,1),n=na(n,1)}return e=Op(t,i.R(e)),new lu(i,e)}for(i=za;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Vr(n),o=s.R(e);Qn(o)||0<o.X(t);)n-=r,s=Vr(n),o=s.R(e);ei(s)&&(s=Z_),i=i.add(s),t=Op(t,o)}return new lu(i,t)}j.gb=function(t){return Np(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)};function vS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function na(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ke(i,t.h)}Cp.prototype.createWebChannel=Cp.prototype.g;Un.prototype.send=Un.prototype.u;Un.prototype.open=Un.prototype.m;Un.prototype.close=Un.prototype.close;tg.NO_ERROR=0;tg.TIMEOUT=8;tg.HTTP_ERROR=6;U2.COMPLETE="complete";j2.EventType=Nd;Nd.OPEN="a";Nd.CLOSE="b";Nd.ERROR="c";Nd.MESSAGE="d";Rt.prototype.listen=Rt.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;vr.prototype.digest=vr.prototype.l;vr.prototype.reset=vr.prototype.reset;vr.prototype.update=vr.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=Vr;ke.fromString=TO;var Wq=function(){return new Cp},Hq=function(){return eg()},Gy=tg,Gq=U2,Kq=Wo,_S={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vh=j2,Qq=rt,Yq=vr,qa=ke;const wS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new mm("@firebase/firestore");function la(){return gs.logLevel}function Xq(t){gs.setLogLevel(t)}function D(t,...e){if(gs.logLevel<=ge.DEBUG){const n=e.map(J1);gs.debug(`Firestore (${jl}): ${t}`,...n)}}function ut(t,...e){if(gs.logLevel<=ge.ERROR){const n=e.map(J1);gs.error(`Firestore (${jl}): ${t}`,...n)}}function _r(t,...e){if(gs.logLevel<=ge.WARN){const n=e.map(J1);gs.warn(`Firestore (${jl}): ${t}`,...n)}}function J1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function ee(t,e){t||K()}function Jq(t,e){t||K()}function U(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class eW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tW{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new bO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new bt(e)}}class nW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new iW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function xO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new We(0,0))}static max(){return new te(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Qc{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const aW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Qc{construct(e,n,r){return new ze(e,n,r)}static isValidIdentifier(e){return aW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new N(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(we.fromString(e))}static fromName(e){return new F(we.fromString(e).popFirst(5))}static empty(){return new F(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new we(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function e0(t){return t.fields.find(e=>e.kind===2)}function Bs(t){return t.fields.filter(e=>e.kind!==2)}Dp.UNKNOWN_ID=-1;class yf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Yc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Yc(0,jn.min())}}function kO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new jn(i,F.empty(),e)}function AO(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(te.min(),F.empty(),-1)}static max(){return new jn(te.max(),F.empty(),-1)}}function Z1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==RO)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new xt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Qu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=eE(r.target.error);this.V.reject(new Qu(e,i))}}static open(e,n,r,i){try{return new cg(n,e.transaction(i,r))}catch(s){throw new Qu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uW(n)}}class dr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,dr.S(Xe())===12.2&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ic())return!1;if(dr.C())return!0;const e=Xe(),n=dr.S(e),r=0<n&&n<10,i=dr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Qu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new N(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new N(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Qu(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=cg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),k.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class lW{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return qs(this.k.delete())}}class Qu extends N{constructor(e,n){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ns(t){return t.name==="IndexedDbTransactionError"}class uW{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qs(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),qs(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new k((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new k((r,i)=>{n.onerror=s=>{const o=eE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new lW(a),u=n(a.primaryKey,a.value,l);if(u instanceof k){const c=u.catch(d=>(l.done(),k.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>k.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qs(t){return new k((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=eE(r.target.error);n(i)}})}let ES=!1;function eE(t){const e=dr.S(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ES||(ES=!0,setTimeout(()=>{throw r},0)),r}}return t}class cW{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{D("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){Ns(n)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Os(n)}await this.ee(6e4)})}}class dW{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return k.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return D("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(D("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=AO(s);Z1(o,r)>0&&(r=o)}),new jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xn._e=-1;function Fd(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function CO(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IS(e)),e=hW(t.get(n),e);return IS(e)}function hW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function IS(t){return t+""}function Fr(t){const e=t.length;if(ee(e>=2),e===2)return ee(t.charAt(0)===""&&t.charAt(1)===""),we.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&K(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:K()}s=o+2}return new we(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e){return[t,dn(e)]}function OO(t,e,n){return[t,dn(e),n]}const fW={},pW=["prefixPath","collectionGroup","readTime","documentId"],mW=["prefixPath","collectionGroup","documentId"],gW=["collectionGroup","readTime","prefixPath","documentId"],yW=["canonicalId","targetId"],vW=["targetId","path"],_W=["path","targetId"],wW=["collectionId","parent"],EW=["indexId","uid"],IW=["uid","sequenceNumber"],TW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bW=["indexId","uid","orderedDocumentKey"],SW=["userId","collectionPath","documentId"],xW=["userId","collectionPath","largestBatchId"],kW=["userId","collectionGroup","largestBatchId"],NO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AW=[...NO,"documentOverlays"],DO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LO=DO,RW=[...LO,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends PO{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=U(t);return dr.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fh(this.root,e,this.comparator,!0)}}class Fh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SS(this.data.getIterator())}getIteratorFrom(e){return new SS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class SS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ra(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Re(ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VO("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const CW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(ee(!!t),typeof t=="string"){let e=0;const n=CW.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tE(t){const e=t.mapValue.fields.__previous_value__;return dg(e)?tE(e):e}function Jc(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_f={nullValue:"NULL_VALUE"};function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:FO(t)?9007199254740991:10:K()}function Wr(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ys(i.timestampValue),a=ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vs(i.bytesValue).isEqual(vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Xc(o)===Xc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bS(o)!==bS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return K()}}function Zc(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function ws(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xS(t.timestampValue,e.timestampValue);case 4:return xS(Jc(t),Jc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vs(s),l=vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=le(a[u],l[u]);if(c!==0)return c}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(et(s.latitude),et(o.latitude));return a!==0?a:le(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ws(a[u],l[u]);if(c)return c}return le(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gi.mapValue&&o===Gi.mapValue)return 0;if(s===Gi.mapValue)return 1;if(o===Gi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=le(l[d],c[d]);if(h!==0)return h;const f=ws(a[l[d]],u[c[d]]);if(f!==0)return f}return le(l.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function xS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=ys(t),r=ys(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function pl(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=n0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${n0(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Ro(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r0(t){return!!t&&"integerValue"in t}function ed(t){return!!t&&"arrayValue"in t}function kS(t){return!!t&&"nullValue"in t}function AS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function Yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function NW(t){return"nullValue"in t?_f:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ro(_s.empty(),F.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:K()}function DW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ro(_s.empty(),F.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Gi:K()}function RS(t,e){const n=ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PS(t,e){const n=ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(n)}setAll(e){let n=ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(Yu(this.value))}}function $O(t){const e=[];return Ho(t.fields,(n,r)=>{const i=new ze([n]);if(wf(r)){const s=$O(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,te.min(),te.min(),te.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,te.min(),te.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,te.min(),te.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.position=e,this.inclusive=n}}function CS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function LW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class ye extends UO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MW(e,n,r):n==="array-contains"?new $W(e,r):n==="in"?new HO(e,r):n==="not-in"?new UW(e,r):n==="array-contains-any"?new jW(e,r):new ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VW(e,r):new FW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ws(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Se extends UO{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Se(e,n)}matches(e){return ml(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ml(t){return t.op==="and"}function i0(t){return t.op==="or"}function nE(t){return jO(t)&&ml(t)}function jO(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}function s0(t){if(t instanceof ye)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(nE(t))return t.filters.map(e=>s0(e)).join(",");{const e=t.filters.map(n=>s0(n)).join(",");return`${t.op}(${e})`}}function BO(t,e){return t instanceof ye?function(r,i){return i instanceof ye&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BO(o,i.filters[a]),!0):!1}(t,e):void K()}function zO(t,e){const n=t.filters.concat(e);return Se.create(n,t.op)}function qO(t){return t instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`}(t):t instanceof Se?function(n){return n.op.toString()+" {"+n.getFilters().map(qO).join(" ,")+"}"}(t):"Filter"}class MW extends ye{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class VW extends ye{constructor(e,n){super(e,"in",n),this.keys=WO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FW extends ye{constructor(e,n){super(e,"not-in",n),this.keys=WO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class $W extends ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ed(n)&&Zc(n.arrayValue,this.value)}}class HO extends ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class UW extends ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zc(this.value.arrayValue,n)}}class jW extends ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function o0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BW(t,e,n,r,i,s,o)}function Po(t){const e=U(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pl(r)).join(",")),e.ce=n}return e.ce}function $d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OS(t.startAt,e.startAt)&&OS(t.endAt,e.endAt)}function Lp(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Mp(t,e){return t.filters.filter(n=>n instanceof ye&&n.field.isEqual(e))}function NS(t,e,n){let r=_f,i=!0;for(const s of Mp(t,e)){let o=_f,a=!0;switch(s.op){case"<":case"<=":o=NW(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=_f}RS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];RS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function DS(t,e,n){let r=Gi,i=!0;for(const s of Mp(t,e)){let o=Gi,a=!0;switch(s.op){case">=":case">":o=DW(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Gi}PS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function GO(t,e,n,r,i,s,o,a){return new Ti(t,e,n,r,i,s,o,a)}function Bl(t){return new Ti(t)}function LS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rE(t){return t.collectionGroup!==null}function Wa(t){const e=U(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Re(ze.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new td(s,r))}),n.has(ze.keyField().canonicalString())||e.le.push(new td(ze.keyField(),r))}return e.le}function hn(t){const e=U(t);return e.he||(e.he=zW(e,Wa(t))),e.he}function zW(t,e){if(t.limitType==="F")return o0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new td(i.field,s)});const n=t.endAt?new Es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Es(t.startAt.position,t.startAt.inclusive):null;return o0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a0(t,e){const n=t.filters.concat([e]);return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vp(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return $d(hn(t),hn(e))&&t.limitType===e.limitType}function KO(t){return`${Po(hn(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qO(i)).join(", ")}]`),Fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pl(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=CS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wa(r),i)||r.endAt&&!function(o,a,l){const u=CS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wa(r),i))}(t,e)}function QO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YO(t){return(e,n)=>{let r=!1;for(const i of Wa(t)){const s=qW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qW(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ws(l,u):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return MO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new Oe(F.comparator);function An(){return WW}const XO=new Oe(F.comparator);function Au(...t){let e=XO;for(const n of t)e=e.insert(n.key,n);return e}function JO(t){let e=XO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return Xu()}function ZO(){return Xu()}function Xu(){return new Ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const HW=new Oe(F.comparator),GW=new Re(F.comparator);function ue(...t){let e=GW;for(const n of t)e=e.add(n);return e}const KW=new Re(le);function iE(){return KW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function tN(t){return{integerValue:""+t}}function nN(t,e){return CO(e)?tN(e):eN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this._=void 0}}function QW(t,e,n){return t instanceof gl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dg(s)&&(s=tE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Co?iN(t,e):t instanceof Oo?sN(t,e):function(i,s){const o=rN(i,s),a=MS(o)+MS(i.Ie);return r0(o)&&r0(i.Ie)?tN(a):eN(i.serializer,a)}(t,e)}function YW(t,e,n){return t instanceof Co?iN(t,e):t instanceof Oo?sN(t,e):n}function rN(t,e){return t instanceof yl?function(r){return r0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class gl extends hg{}class Co extends hg{constructor(e){super(),this.elements=e}}function iN(t,e){const n=oN(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends hg{constructor(e){super(),this.elements=e}}function sN(t,e){let n=oN(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class yl extends hg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function MS(t){return et(t.integerValue||t.doubleValue)}function oN(t){return ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.field=e,this.transform=n}}function XW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof Oo&&i instanceof Oo?fl(r.elements,i.elements,Wr):r instanceof yl&&i instanceof yl?Wr(r.Ie,i.Ie):r instanceof gl&&i instanceof gl}(t.transform,e.transform)}class JW{constructor(e,n){this.version=e,this.transformResults=n}}class qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qe}static exists(e){return new qe(void 0,e)}static updateTime(e){return new qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fg{}function aN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ql(t.key,qe.none()):new zl(t.key,t.data,qe.none());{const n=t.data,r=Vt.empty();let i=new Re(ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bi(t.key,r,new kn(i.toArray()),qe.none())}}function ZW(t,e,n){t instanceof zl?function(i,s,o){const a=i.value.clone(),l=FS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(i,s,o){if(!Ef(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=FS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(lN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ju(t,e,n,r){return t instanceof zl?function(s,o,a,l){if(!Ef(s.precondition,o))return a;const u=s.value.clone(),c=$S(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(s,o,a,l){if(!Ef(s.precondition,o))return a;const u=$S(s.fieldTransforms,l,o),c=o.data;return c.setAll(lN(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Ef(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rN(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function VS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(s,o)=>XW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends fg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bi extends fg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FS(t,e,n){const r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,YW(o,a,n[i]))}return r}function $S(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QW(s,o,e))}return r}class ql extends fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sE extends fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=aN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>VS(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>VS(n,r))}}class aE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=function(){return HW}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,_e;function uN(t){switch(t){default:return K();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function cN(t){if(t===void 0)return ut("GRPC error has no .code"),C.UNKNOWN;switch(t){case ht.OK:return C.OK;case ht.CANCELLED:return C.CANCELLED;case ht.UNKNOWN:return C.UNKNOWN;case ht.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case ht.INTERNAL:return C.INTERNAL;case ht.UNAVAILABLE:return C.UNAVAILABLE;case ht.UNAUTHENTICATED:return C.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case ht.NOT_FOUND:return C.NOT_FOUND;case ht.ALREADY_EXISTS:return C.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return C.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case ht.ABORTED:return C.ABORTED;case ht.OUT_OF_RANGE:return C.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return C.UNIMPLEMENTED;case ht.DATA_LOSS:return C.DATA_LOSS;default:return K()}}(_e=ht||(ht={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=new qa([4294967295,4294967295],0);function US(t){const e=dN().encode(t),n=new Yq;return n.update(e),new Uint8Array(n.digest())}function jS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([n,r],0),new qa([i,s],0)]}class uE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(qa.fromNumber(r)));return i.compare(nH)===1&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=US(e),[r,i]=jS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=US(e),[r,i]=jS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zd(te.min(),i,new Oe(le),An(),ue())}}class qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class hN{constructor(e,n){this.targetId=e,this.fe=n}}class fN{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BS{constructor(){this.ge=0,this.pe=qS(),this.ye=wt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new qd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=qS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ee(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class rH{constructor(e){this.Le=e,this.ke=new Map,this.qe=An(),this.Qe=zS(),this.Ke=new Oe(le)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Lp(s))if(r===0){const o=new F(s.path);this.We(n,o,Ve.newNoDocument(o,te.min()))}else ee(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vs(r).toUint8Array()}catch(l){if(l instanceof VO)return _r("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uE(o,i,s)}catch(l){return _r(l instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Lp(a.target)){const l=new F(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ve.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new zd(e,n,this.Ke,this.qe,r);return this.qe=An(),this.Qe=zS(),this.Ke=new Oe(le),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new BS,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Re(le),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new BS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zS(){return new Oe(F.comparator)}function qS(){return new Oe(F.comparator)}const iH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),oH=(()=>({and:"AND",or:"OR"}))();class aH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||Fd(e)?e:{value:e}}function vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lH(t,e){return vl(t,e.toTimestamp())}function ct(t){return ee(!!t),te.fromTimestamp(function(n){const r=ys(n);return new We(r.seconds,r.nanos)}(t))}function cE(t,e){return function(r){return new we(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function mN(t){const e=we.fromString(t);return ee(bN(e)),e}function nd(t,e){return cE(t.databaseId,e.path)}function Br(t,e){const n=mN(e);if(n.get(1)!==t.databaseId.projectId)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(yN(n))}function u0(t,e){return cE(t.databaseId,e)}function gN(t){const e=mN(t);return e.length===4?we.emptyPath():yN(e)}function rd(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yN(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WS(t,e,n){return{name:nd(t,e),fields:n.value.mapValue.fields}}function vN(t,e,n){const r=Br(t,e.name),i=ct(e.updateTime),s=e.createTime?ct(e.createTime):te.min(),o=new Vt({mapValue:{fields:e.fields}}),a=Ve.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uH(t,e){return"found"in e?function(r,i){ee(!!i.found),i.found.name,i.found.updateTime;const s=Br(r,i.found.name),o=ct(i.found.updateTime),a=i.found.createTime?ct(i.found.createTime):te.min(),l=new Vt({mapValue:{fields:i.found.fields}});return Ve.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ee(!!i.missing),ee(!!i.readTime);const s=Br(r,i.missing),o=ct(i.readTime);return Ve.newNoDocument(s,o)}(t,e):K()}function cH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ee(c===void 0||typeof c=="string"),wt.fromBase64String(c||"")):(ee(c===void 0||c instanceof Uint8Array),wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?C.UNKNOWN:cN(u.code);return new N(c,u.message||"")}(o);n=new fN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Br(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):te.min(),a=new Vt({mapValue:{fields:r.document.fields}}),l=Ve.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new If(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Br(t,r.document),s=r.readTime?ct(r.readTime):te.min(),o=Ve.newNoDocument(i,s),a=r.removedTargetIds||[];n=new If([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Br(t,r.document),s=r.removedTargetIds||[];n=new If([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tH(i,s),a=r.targetId;n=new hN(a,o)}}return n}function id(t,e){let n;if(e instanceof zl)n={update:WS(t,e.key,e.value)};else if(e instanceof ql)n={delete:nd(t,e.key)};else if(e instanceof bi)n={update:WS(t,e.key,e.data),updateMask:gH(e.fieldMask)};else{if(!(e instanceof sE))return K();n={verify:nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof gl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function c0(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?qe.updateTime(ct(s.updateTime)):s.exists!==void 0?qe.exists(s.exists):qe.none()}(e.currentDocument):qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),l=new gl;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new Co(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Oo(c)}else"increment"in a?l=new yl(o,a.increment):K();const u=ze.fromServerFormat(a.fieldPath);return new Bd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Br(t,e.update.name),s=new Vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new kn(u.map(c=>ze.fromServerFormat(c)))}(e.updateMask);return new bi(i,s,o,n,r)}return new zl(i,s,n,r)}if(e.delete){const i=Br(t,e.delete);return new ql(i,n)}if(e.verify){const i=Br(t,e.verify);return new sE(i,n)}return K()}function dH(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ct(i.updateTime):ct(s);return o.isEqual(te.min())&&(o=ct(s)),new JW(o,i.transformResults||[])}(n,e))):[]}function _N(t,e){return{documents:[u0(t,e.path)]}}function wN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=u0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=u0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return TN(Se.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:ca(d.field),direction:fH(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=l0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EN(t){let e=gN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=IN(d);return h instanceof Se&&nE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new td(da(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Fd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Es(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Es(f,h)}(n.endAt)),GO(e,i,o,s,a,"F",l,u)}function hH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=da(n.unaryFilter.field);return ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=da(n.unaryFilter.field);return ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=da(n.unaryFilter.field);return ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return ye.create(da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Se.create(n.compositeFilter.filters.map(r=>IN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function fH(t){return iH[t]}function pH(t){return sH[t]}function mH(t){return oH[t]}function ca(t){return{fieldPath:t.canonicalString()}}function da(t){return ze.fromServerFormat(t.fieldPath)}function TN(t){return t instanceof ye?function(n){if(n.op==="=="){if(AS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(kS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(kS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:pH(n.op),value:n.value}}}(t):t instanceof Se?function(n){const r=n.getFilters().map(i=>TN(i));return r.length===1?r[0]:{compositeFilter:{op:mH(n.op),filters:r}}}(t):K()}function gH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s=te.min(),o=te.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.ut=e}}function yH(t,e){let n;if(e.document)n=vN(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=F.fromSegments(e.noDocument.path),i=Do(e.noDocument.readTime);n=Ve.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return K();{const r=F.fromSegments(e.unknownDocument.path),i=Do(e.unknownDocument.version);n=Ve.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new We(i[0],i[1]);return te.fromTimestamp(s)}(e.readTime)),n}function HS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:nd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:vl(s,o.version.toTimestamp()),createTime:vl(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:No(e.version)};else{if(!e.isUnknownDocument())return K();r.unknownDocument={path:n.path.toArray(),version:No(e.version)}}return r}function Fp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function No(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Do(t){const e=new We(t.seconds,t.nanoseconds);return te.fromTimestamp(e)}function Ws(t,e){const n=(e.baseMutations||[]).map(s=>c0(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>c0(t.ut,s)),i=We.fromMillis(e.localWriteTimeMs);return new oE(e.batchId,i,n,r)}function Pu(t){const e=Do(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Do(t.lastLimboFreeSnapshotVersion):te.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ee(s.documents.length===1),hn(Bl(gN(s.documents[0])))}(t.query):function(s){return hn(EN(s))}(t.query),new ti(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wt.fromBase64String(t.resumeToken))}function xN(t,e){const n=No(e.snapshotVersion),r=No(e.lastLimboFreeSnapshotVersion);let i;i=Lp(e.target)?_N(t.ut,e.target):wN(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Po(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dE(t){const e=EN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vp(e,e.limit,"L"):e}function Ky(t,e){return new lE(e.largestBatchId,c0(t.ut,e.overlayMutation))}function GS(t,e){const n=e.path.lastSegment();return[t,dn(e.path.popLast()),n]}function KS(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:No(r.readTime),documentKey:dn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{getBundleMetadata(e,n){return QS(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Do(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return QS(e).put(function(i){return{bundleId:i.id,createTime:No(ct(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return YS(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:dE(s.bundledQuery),readTime:Do(s.readTime)}}(r)})}saveNamedQuery(e,n){return YS(e).put(function(i){return{name:i.name,readTime:No(ct(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function QS(t){return Ct(t,"bundles")}function YS(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new pg(e,r)}getOverlay(e,n){return uu(e).get(GS(this.userId,n)).next(r=>r?Ky(this.serializer,r):null)}getOverlays(e,n){const r=$r();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new lE(n,o);i.push(this.lt(e,a))}),k.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(dn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(uu(e).H("collectionPathOverlayIndex",a))}),k.waitFor(s)}getOverlaysForCollection(e,n,r){const i=$r(),s=dn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uu(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Ky(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=$r();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uu(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Ky(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return uu(e).put(function(i,s,o){const[a,l,u]=GS(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:id(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function uu(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Xc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(vs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?FO(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):K()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),F.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Hs.St=new Hs;function _H(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function XS(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=_H(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class wH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=XS(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=XS(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class EH{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class IH{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class cu{constructor(){this.Wt=new wH,this.Gt=new EH(this.Wt),this.zt=new IH(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gs(this.indexId,this.documentKey,this.arrayValue,r)}}function Pi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=JS(t.arrayValue,e.arrayValue),n!==0?n:(n=JS(t.directionalValue,e.directionalValue),n!==0?n:F.comparator(t.documentKey,e.documentKey)))}function JS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.Jt=new Re((n,r)=>ze.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ee(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=e0(e);if(n!==void 0&&!this.tn(n))return!1;const r=Bs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Re(ze.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new yf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new yf(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new yf(r.field,r.dir==="asc"?0:1)));return new Dp(Dp.UNKNOWN_ID,this.collectionId,n,Yc.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){var e,n;if(ee(t instanceof ye||t instanceof Se),t instanceof ye){if(t instanceof HO){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ye.create(t.field,"==",s)))||[];return Se.create(i,"or")}return t}const r=t.filters.map(i=>kN(i));return Se.create(r,t.op)}function TH(t){if(t.getFilters().length===0)return[];const e=f0(kN(t));return ee(AN(e)),d0(e)||h0(e)?[e]:e.getFilters()}function d0(t){return t instanceof ye}function h0(t){return t instanceof Se&&nE(t)}function AN(t){return d0(t)||h0(t)||function(n){if(n instanceof Se&&i0(n)){for(const r of n.getFilters())if(!d0(r)&&!h0(r))return!1;return!0}return!1}(t)}function f0(t){if(ee(t instanceof ye||t instanceof Se),t instanceof ye)return t;if(t.filters.length===1)return f0(t.filters[0]);const e=t.filters.map(r=>f0(r));let n=Se.create(e,t.op);return n=$p(n),AN(n)?n:(ee(n instanceof Se),ee(ml(n)),ee(n.filters.length>1),n.filters.reduce((r,i)=>hE(r,i)))}function hE(t,e){let n;return ee(t instanceof ye||t instanceof Se),ee(e instanceof ye||e instanceof Se),n=t instanceof ye?e instanceof ye?function(i,s){return Se.create([i,s],"and")}(t,e):ex(t,e):e instanceof ye?ex(e,t):function(i,s){if(ee(i.filters.length>0&&s.filters.length>0),ml(i)&&ml(s))return zO(i,s.getFilters());const o=i0(i)?i:s,a=i0(i)?s:i,l=o.filters.map(u=>hE(u,a));return Se.create(l,"or")}(t,e),$p(n)}function ex(t,e){if(ml(e))return zO(e,t.getFilters());{const n=e.filters.map(r=>hE(t,r));return Se.create(n,"or")}}function $p(t){if(ee(t instanceof ye||t instanceof Se),t instanceof ye)return t;const e=t.getFilters();if(e.length===1)return $p(e[0]);if(jO(t))return t;const n=e.map(i=>$p(i)),r=[];return n.forEach(i=>{i instanceof ye?r.push(i):i instanceof Se&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Se.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.on=new fE}addToCollectionParentIndex(e,n){return this.on.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(jn.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class fE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Uint8Array(0);class SH{constructor(e,n){this.user=e,this.databaseId=n,this._n=new fE,this.an=new Ds(r=>Po(r),(r,i)=>$d(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:dn(i)};return tx(e).put(s)}return k.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[xO(n),""],!1,!0);return tx(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Fr(o.parent))}return r})}addFieldIndex(e,n){const r=du(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=sa(e);return s.next(a=>{o.put(KS(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=du(e),i=sa(e),s=ia(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=du(e),r=ia(e),i=sa(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return k.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new ZS(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ia(e);let i=!0;const s=new Map;return k.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue();const a=[];return k.forEach(s,(l,u)=>{D("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${Po(n)}`);const c=function(v,E){const I=e0(E);if(I===void 0)return null;for(const T of Mp(v,I.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),d=function(v,E){const I=new Map;for(const T of Bs(E))for(const x of Mp(v,T.fieldPath))switch(x.op){case"==":case"in":I.set(T.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return I.set(T.fieldPath.canonicalString(),x.value),Array.from(I.values())}return null}(u,l),h=function(v,E){const I=[];let T=!0;for(const x of Bs(E)){const S=x.kind===0?NS(v,x.fieldPath,v.startAt):DS(v,x.fieldPath,v.startAt);I.push(S.value),T&&(T=S.inclusive)}return new Es(I,T)}(u,l),f=function(v,E){const I=[];let T=!0;for(const x of Bs(E)){const S=x.kind===0?DS(v,x.fieldPath,v.endAt):NS(v,x.fieldPath,v.endAt);I.push(S.value),T&&(T=S.inclusive)}return new Es(I,T)}(u,l),y=this.ln(l,u,h),_=this.ln(l,u,f),w=this.hn(l,u,d),m=this.Pn(l.indexId,c,y,h.inclusive,_,f.inclusive,w);return k.forEach(m,p=>r.j(p,n.limit).next(v=>{v.forEach(E=>{const I=F.fromSegments(E.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return k.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=TH(Se.create(e.filters,"and")).map(r=>o0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):$h,f=this.Tn(e,h,r[d%u],i),y=this.En(e,h,s[d%u],o),_=a.map(w=>this.Tn(e,h,w,!0));c.push(...this.createRange(f,y,_))}return c}Tn(e,n,r,i){const s=new Gs(e,F.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Gs(e,F.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new ZS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return k.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Re(ze.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new cu;for(const i of Bs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);Hs.St.ht(s,o)}return r.Ut()}In(e){const n=new cu;return Hs.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new cu;return Hs.St.ht(Ro(this.databaseId,n),r.jt(function(s){const o=Bs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new cu);let s=0;for(const o of Bs(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&ed(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Hs.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new cu;l.seed(a.Ut()),Hs.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof ye&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=du(e),i=sa(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return k.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Yc(d.sequenceNumber,new jn(Do(d.readTime),new F(Fr(d.documentKey)),d.largestBatchId)):Yc.empty(),f=c.fields.map(([y,_])=>new yf(ze.fromServerFormat(y),_));return new Dp(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:le(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=du(e),s=sa(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>k.forEach(a,l=>s.put(KS(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return k.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?k.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),k.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?k.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return ia(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return ia(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=ia(e);let s=new Re(Pi);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Gs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Re(Pi);const i=this.dn(n,e);if(i==null)return r;const s=e0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(ed(o))for(const a of o.arrayValue.values||[])r=r.add(new Gs(n.indexId,e.key,this.In(a),i))}else r=r.add(new Gs(n.indexId,e.key,$h,i));return r}yn(e,n,r,i,s){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),y=u.getIterator();let _=ra(f),w=ra(y);for(;_||w;){let m=!1,p=!1;if(_&&w){const v=c(_,w);v<0?p=!0:v>0&&(m=!0)}else _!=null?p=!0:m=!0;m?(d(w),w=ra(y)):p?(h(_),_=ra(f)):(_=ra(f),w=ra(y))}}(i,s,Pi,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),k.waitFor(o)}fn(e){let n=1;return sa(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Pi(o,a)).filter((o,a,l)=>!a||Pi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Pi(o,e),l=Pi(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$h,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$h,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Pi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nx)}getMinOffset(e,n){return k.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||K())).next(nx)}}function tx(t){return Ct(t,"collectionParents")}function ia(t){return Ct(t,"indexEntries")}function du(t){return Ct(t,"indexConfiguration")}function sa(t){return Ct(t,"indexState")}function nx(t){ee(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Z1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ee(a===1)}));const u=[];for(const c of n.mutations){const d=OO(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return k.waitFor(s).next(()=>u)}function Up(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw K();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class mg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ee(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new mg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=ha(e),o=Ci(e);return o.add({}).next(a=>{ee(typeof a=="number");const l=new oE(a,n,r,i),u=function(f,y,_){const w=_.baseMutations.map(p=>id(f.ut,p)),m=_.mutations.map(p=>id(f.ut,p));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:w,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new Re((h,f)=>le(h.canonicalString(),f.canonicalString()));for(const h of i){const f=OO(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,fW))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),k.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ci(e).get(n).next(r=>r?(ee(r.userId===this.userId),Ws(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?k.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ci(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ee(a.batchId>=r),s=Ws(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ci(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(e).W("userMutationsIndex",n).next(r=>r.map(i=>Ws(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return ha(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Fr(c);if(u===this.userId&&n.path.isEqual(h))return Ci(e).get(d).next(f=>{if(!f)throw K();ee(f.userId===this.userId),s.push(Ws(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(le);const i=[];return n.forEach(s=>{const o=vf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ha(e).Y({range:a},(u,c,d)=>{const[h,f,y]=u,_=Fr(f);h===this.userId&&s.path.isEqual(_)?r=r.add(y):d.done()});i.push(l)}),k.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=vf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Re(le);return ha(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,y=Fr(h);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ci(e).get(s).next(o=>{if(o===null)throw K();ee(o.userId===this.userId),r.push(Ws(this.serializer,o))}))}),k.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return RN(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),k.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return k.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return ha(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Fr(s[1]);i.push(l)}else a.done()}).next(()=>{ee(i.length===0)})})}containsKey(e,n){return PN(e,this.userId,n)}Mn(e){return CN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function PN(t,e,n){const r=vf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ha(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Ci(t){return Ct(t,"mutations")}function ha(t){return Ct(t,"documentMutations")}function CN(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Lo(0)}static Nn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Lo(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>te.fromTimestamp(new We(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>oa(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return oa(e).Y((o,a)=>{const l=Pu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>k.waitFor(s)).next(()=>i)}forEachTarget(e,n){return oa(e).Y((r,i)=>{const s=Pu(i);n(s)})}Bn(e){return ix(e).get("targetGlobalKey").next(n=>(ee(n!==null),n))}Ln(e,n){return ix(e).put("targetGlobalKey",n)}kn(e,n){return oa(e).put(xN(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Po(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return oa(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Pu(a);$d(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ui(e);return n.forEach(o=>{const a=dn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),k.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ui(e);return k.forEach(n,s=>{const o=dn(s.path);return k.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ui(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ui(e);let s=ue();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Fr(o[1]),c=new F(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=dn(n.path),i=IDBKeyRange.bound([r],[xO(r)],!1,!0);let s=0;return Ui(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return oa(e).get(n).next(r=>r?Pu(r):null)}}function oa(t){return Ct(t,"targets")}function ix(t){return Ct(t,"targetGlobal")}function Ui(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class kH{constructor(e){this.Qn=e,this.buffer=new Re(sx),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ns(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Os(n)}await this.Gn(3e5)})}}class RH{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(xn._e);const r=new kH(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(rx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rx):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),la()<=ge.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function PH(t,e){return new RH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.db=e,this.garbageCollector=PH(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Uh(e,r)}removeReference(e,n,r){return Uh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Uh(e,n)}Xn(e,n){return function(i,s){let o=!1;return CN(i).Z(a=>PN(i,a,s).next(l=>(l&&(o=!0),k.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,te.min()),Ui(e).delete(function(d){return[0,dn(d.path)]}(o))))});i.push(l)}}).next(()=>k.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Uh(e,n)}Zn(e,n){const r=Ui(e);let i,s=xn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==xn._e&&n(new F(Fr(i)),s),s=u,i=l):s=xn._e}).next(()=>{s!==xn._e&&n(new F(Fr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uh(t,e){return Ui(t).put(function(r,i){return{targetId:0,path:dn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new Ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Vs(e).put(r)}removeEntry(e,n,r){return Vs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Fp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Ve.newInvalidDocument(n);return Vs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:Ve.newInvalidDocument(n)};return Vs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r={document:this.tr(n,s),size:Up(s)}}).next(()=>r)}getEntries(e,n){let r=An();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=An(),i=new Oe(F.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Up(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return k.resolve();let i=new Re(lx);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(hu(i.first()),hu(i.last())),o=i.getIterator();let a=o.getNext();return Vs(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=F.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&lx(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(hu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Fp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vs(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=An();for(const d of u){const h=this.tr(F.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(jd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=An();const o=ax(n,r),a=ax(n,jn.max());return Vs(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(F.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new NH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ox(e).get("remoteDocumentGlobalKey").next(n=>(ee(!!n),n))}er(e,n){return ox(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=yH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(te.min())))return r}return Ve.newInvalidDocument(e)}}function NN(t){return new OH(t)}class NH extends ON{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Ds(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Re((s,o)=>le(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=HS(this._r.serializer,o);i=i.add(s.path.popLast());const u=Up(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=HS(this._r.serializer,o.convertToNoDocument(te.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),k.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function ox(t){return Ct(t,"remoteDocumentGlobal")}function Vs(t){return Ct(t,"remoteDocumentsV14")}function hu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ax(t,e){const n=e.documentKey.path.toArray();return[t,Fp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lx(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=le(n[s],r[s]),i)return i;return i=le(n.length,r.length),i||(i=le(n[n.length-2],r[r.length-2]),i||le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ju(r.mutation,i,kn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Au();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=An();const o=Xu(),a=function(){return Xu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ju(c.mutation,u,c.mutation.getFieldMask(),We.now())):o.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new DH(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xu();let i=new Oe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||kn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=ZO();c.forEach(h=>{if(!s.has(h)){const f=aN(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return F.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve($r());let a=-1,l=s;return o.next(u=>k.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?k.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(c=>({batchId:a,changes:JO(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,l=>{const u=function(d,h){return new Ti(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ve.newInvalidDocument(c)))});let a=Au();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ju(c.mutation,u,kn.empty(),We.now()),jd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ct(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:dE(i.bundledQuery),readTime:ct(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.overlays=new Oe(F.comparator),this.lr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),s=n.length+1,o=new F(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=$r(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$r(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lE(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.hr=new Re(Et.Pr),this.Ir=new Re(Et.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Et(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new F(new we([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new F(new we([])),r=new Et(n,e),i=new Et(n,e+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return F.comparator(e.key,n.key)||le(e.gr,n.gr)}static Tr(e,n){return le(e.gr,n.gr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Re(Et.Pr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(le);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Et(new F(s),0);let a=new Re(le);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),k.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ee(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return k.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Et(n,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.Cr=e,this.docs=function(){return new Oe(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=An();const o=n.path,a=new F(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Z1(AO(c),r)<=0||(i.has(c.key)||jd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}vr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $H(this)}getSize(e){return k.resolve(this.size)}}class $H extends ON{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.persistence=e,this.Fr=new Ds(n=>Po(n),$d),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Mr=0,this.Or=new pE,this.targetCount=0,this.Nr=Lo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),k.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.kn(n),k.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.Br={},this.overlays={},this.Lr=new xn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new UH(this),this.indexManager=new bH,this.remoteDocumentCache=function(i){return new FH(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new SN(n),this.Kr=new LH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new VH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new jH(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class jH extends PO{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Gr=new pE,this.zr=null}static jr(e){return new gg(e)}get Hr(){if(this.zr)return this.zr;throw K()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=F.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.serializer=e}N(e,n,r,i){const s=new cg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TS,{unique:!0}),l.createObjectStore("documentMutations")}(e),ux(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=k.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),ux(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:te.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TS,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return k.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:SW});u.createIndex("collectionPathOverlayIndex",xW,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",kW,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:pW});u.createIndex("documentKeyIndex",mW),u.createIndex("collectionGroupIndex",gW)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:EW}).createIndex("sequenceNumberIndex",IW,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:TW}).createIndex("documentKeyIndex",bW,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Up(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>k.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>k.forEach(a,l=>{ee(l.userId===s.userId);const u=Ws(this.serializer,l);return RN(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new we(o),u=function(d){return[0,dn(d)]}(l);s.push(n.get(u).next(c=>c?k.resolve():(d=>n.put({targetId:0,path:dn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>k.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:wW});const r=n.store("collectionParents"),i=new fE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:dn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new we(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Fr(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Pu(i),o=xN(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new F(we.fromString(d.document.name).popFirst(5)):d.noDocument?F.fromSegments(d.noDocument.path):d.unknownDocument?F.fromSegments(d.unknownDocument.path):K()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>k.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=NN(this.serializer),s=new LN(gg.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ue();Ws(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),k.forEach(a,(l,u)=>{const c=new bt(u),d=pg.ct(this.serializer,c),h=s.getIndexManager(c),f=mg.ct(c,this.serializer,h,s.referenceDelegate);return new DN(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new t0(n,xn._e),l).next()})})}}function ux(t){t.createObjectStore("targetDocuments",{keyPath:vW}).createIndex("documentTargetsIndex",_W,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yW,{unique:!0}),t.createObjectStore("targetGlobal")}const Qy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mE{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!mE.D())throw new N(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CH(this,i),this.Ii=n+"main",this.serializer=new SN(l),this.Ti=new dr(this.Ii,this.ai,new BH(this.serializer)),this.qr=new xH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NN(this.serializer),this.Kr=new vH,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(C.FAILED_PRECONDITION,Qy);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new xn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ns(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return fu(e).get("owner").next(n=>k.resolve(this.wi(n)))}Si(e){return jh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return k.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?k.resolve(!0):fu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new N(C.FAILED_PRECONDITION,Qy);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new t0(e,xn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return mg.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SH(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return pg.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?RW:l===14?LO:l===13?DO:l===12?AW:l===11?NO:void K()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new t0(a,this.Lr?this.Lr.next():xn._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new N(C.FAILED_PRECONDITION,RO);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return fu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new N(C.FAILED_PRECONDITION,Qy)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fu(e).put("owner",n)}static D(){return dr.D()}pi(e){const n=fu(e);return n.get("owner").next(r=>this.wi(r)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):k.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;gV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ut("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fu(t){return Ct(t,"owner")}function jh(t){return Ct(t,"clientMetadata")}function gE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zH;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(la()<=ge.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(la()<=ge.DEBUG&&D("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(la()<=ge.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):k.resolve())}zi(e,n){if(LS(n))return k.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vp(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Vp(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return LS(n)||i.isEqual(te.min())?k.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?k.resolve(null):(la()<=ge.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.Xi(e,o,n,kO(i,-1)).next(a=>a))})}Yi(e,n){let r=new Re(YO(e));return n.forEach((i,s)=>{jd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return la()<=ge.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ua(n)),this.Gi.getDocumentsMatchingQuery(e,n,jn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Oe(le),this.ns=new Ds(s=>Po(s),$d),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function VN(t,e,n,r){return new qH(t,e,n,r)}async function FN(t,e){const n=U(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function WH(t,e){const n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=k.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(_=>{const w=u.docVersions.get(y);ee(w!==null),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $N(t){const e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function HH(t,e){const n=U(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(wt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(_,w,m){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=An(),u=ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(UN(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(te.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function UN(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=An();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function GH(t,e){const n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _l(t,e){const n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function wl(t,e,n){const r=U(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ns(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function jp(t,e,n){const r=U(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=U(l),h=d.ns.get(c);return h!==void 0?k.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(zN(r,QO(e),a),{documents:a,ls:s})))}function jN(t,e){const n=U(t),r=U(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function BN(t,e){const n=U(t),r=n.rs.get(e)||te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,kO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zN(n,e,i),i))}function zN(t,e,n){let r=t.rs.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function KH(t,e,n,r){const i=U(t);let s=ue(),o=An();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await _l(i,function(c){return hn(Bl(we.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>UN(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function QH(t,e,n=ue()){const r=await _l(t,hn(dE(e.bundledQuery))),i=U(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ct(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(wt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function cx(t,e){return`firestore_clients_${t}_${e}`}function dx(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Yy(t,e){return`firestore_targets_${t}_${e}`}class Bp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new N(i.error.code,i.error.message))),o?new Bp(e,n,i.state,s):(ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new N(r.error.code,r.error.message))),s?new Zu(e,r.state,i):(ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=iE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=CO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new zp(e,s):(ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vE{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new vE(n.clientId,n.onlineState):(ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p0{constructor(){this.activeTargetIds=iE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xy{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Oe(le),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=cx(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new p0),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(cx(this.persistenceKey,r));if(i){const s=zp.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Yy(this.persistenceKey,e));if(r){const i=Zu.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yy(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=xn._e;if(s!=null)try{const a=JSON.parse(s);ee(typeof a=="number"),o=a}catch(a){ut("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==xn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Bp(this.currentUser,e,n,r),s=dx(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=dx(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=Yy(this.persistenceKey,e),s=new Zu(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return zp.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Bp.Ts(new bt(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Zu.Ts(i,n)}Ms(e){return vE.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=iE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class qN{constructor(){this.eo=new p0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new p0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function Jy(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class ZH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Jy(),l=this.So(n,r);D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw _r("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=XH[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Jy();return new Promise((o,a)=>{const l=new Qq;l.setWithCredentials(!0),l.listenOnce(Gq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gy.NO_ERROR:const c=l.getResponseJson();D(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Gy.TIMEOUT:D(Wt,`RPC '${e}' ${s} timed out`),a(new N(C.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:const d=l.getStatus();if(D(Wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new N(y,f.message))}else a(new N(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new N(C.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{D(Wt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Jy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wq(),a=Hq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Wt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const y=new JH({co:w=>{f?D(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(D(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Wt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),_=(w,m,p)=>{w.listen(m,v=>{try{p(v)}catch(E){setTimeout(()=>{throw E},0)}})};return _(d,Vh.EventType.OPEN,()=>{f||D(Wt,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Vh.EventType.CLOSE,()=>{f||(f=!0,D(Wt,`RPC '${e}' stream ${i} transport closed`),y.Ro())}),_(d,Vh.EventType.ERROR,w=>{f||(f=!0,_r(Wt,`RPC '${e}' stream ${i} transport errored:`,w),y.Ro(new N(C.UNAVAILABLE,"The operation could not be completed")))}),_(d,Vh.EventType.MESSAGE,w=>{var m;if(!f){const p=w.data[0];ee(!!p);const v=p,E=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(E){D(Wt,`RPC '${e}' stream ${i} received error:`,E);const I=E.status;let T=function(O){const L=ht[O];if(L!==void 0)return cN(L)}(I),x=E.message;T===void 0&&(T=C.INTERNAL,x="Unknown error status: "+I+" with message "+E.message),f=!0,y.Ro(new N(T,x)),d.close()}else D(Wt,`RPC '${e}' stream ${i} received:`,p),y.Vo(p)}}),_(a,Kq.STAT_EVENT,w=>{w.stat===_S.PROXY?D(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===_S.NOPROXY&&D(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof window<"u"?window:null}function Tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new aH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new _E(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new N(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eG extends HN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=cH(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?ct(o.readTime):te.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=rd(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lp(l)?{documents:_N(s,l)}:{query:wN(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pN(s,o.resumeToken);const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=vl(s,o.snapshotVersion.toTimestamp());const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hH(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=rd(this.serializer),n.removeTarget=e,this.e_(n)}}class tG extends HN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=dH(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.I_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=rd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>id(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(C.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(C.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class rG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ut(n),this.f_=!1):D("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=U(l);u.C_.add(4),await Wl(u),u.M_.set("Unknown"),u.C_.delete(4),await Hd(u)}(this))})}),this.M_=new rG(r,i)}}async function Hd(t){if(Ls(t))for(const e of t.v_)await e(!0)}async function Wl(t){for(const e of t.v_)await e(!1)}function yg(t,e){const n=U(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),IE(n)?EE(n):Gl(n).Ho()&&wE(n,e))}function sd(t,e){const n=U(t),r=Gl(n);n.D_.delete(e),r.Ho()&&GN(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Ls(n)&&n.M_.set("Unknown"))}function wE(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).u_(e)}function GN(t,e){t.x_.Oe(e),Gl(t).c_(e)}function EE(t){t.x_=new rH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.M_.g_()}function IE(t){return Ls(t)&&!Gl(t).jo()&&t.D_.size>0}function Ls(t){return U(t).C_.size===0}function KN(t){t.x_=void 0}async function sG(t){t.D_.forEach((e,n)=>{wE(t,e)})}async function oG(t,e){KN(t),IE(t)?(t.M_.w_(e),EE(t)):t.M_.set("Unknown")}async function aG(t,e,n){if(t.M_.set("Online"),e instanceof fN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof If?t.x_.$e(e):e instanceof hN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(te.min()))try{const r=await $N(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(wt.EMPTY_BYTE_STRING,c.snapshotVersion)),GN(s,l);const d=new ti(c.target,l,u,c.sequenceNumber);wE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!Ns(e))throw e;t.C_.add(1),await Wl(t),t.M_.set("Offline"),n||(n=()=>$N(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Hd(t)})}function QN(t,e){return e().catch(n=>qp(t,n,e))}async function Hl(t){const e=U(t),n=Is(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;lG(e);)try{const i=await GH(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,uG(e,i)}catch(i){await qp(e,i)}YN(e)&&XN(e)}function lG(t){return Ls(t)&&t.b_.length<10}function uG(t,e){t.b_.push(e);const n=Is(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function YN(t){return Ls(t)&&!Is(t).jo()&&t.b_.length>0}function XN(t){Is(t).start()}async function cG(t){Is(t).E_()}async function dG(t){const e=Is(t);for(const n of t.b_)e.P_(n.mutations)}async function hG(t,e,n){const r=t.b_.shift(),i=aE.from(r,e,n);await QN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hl(t)}async function fG(t,e){e&&Is(t).h_&&await async function(r,i){if(function(o){return uN(o)&&o!==C.ABORTED}(i.code)){const s=r.b_.shift();Is(r).Yo(),await QN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hl(r)}}(t,e),YN(t)&&XN(t)}async function fx(t,e){const n=U(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.C_.add(3),await Wl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Hd(n)}async function m0(t,e){const n=U(t);e?(n.C_.delete(2),await Hd(n)):e||(n.C_.add(2),await Wl(n),n.M_.set("Unknown"))}function Gl(t){return t.O_||(t.O_=function(n,r,i){const s=U(n);return s.A_(),new eG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:sG.bind(null,t),Io:oG.bind(null,t),a_:aG.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),IE(t)?EE(t):t.M_.set("Unknown")):(await t.O_.stop(),KN(t))})),t.O_}function Is(t){return t.N_||(t.N_=function(n,r,i){const s=U(n);return s.A_(),new tG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:cG.bind(null,t),Io:fG.bind(null,t),T_:dG.bind(null,t),I_:hG.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Hl(t)):(await t.N_.stop(),t.b_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new TE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Ns(t))return new N(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ha(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.B_=new Oe(F.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):K():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new El(e,n,Ha.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(){this.k_=void 0,this.listeners=[]}}class mG{constructor(){this.queries=new Ds(e=>KO(e),Ud),this.onlineState="Unknown",this.q_=new Set}}async function bE(t,e){const n=U(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pG),i)try{s.k_=await n.onListen(r)}catch(o){const a=Kl(o,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&xE(n)}async function SE(t,e){const n=U(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gG(t,e){const n=U(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&xE(n)}function yG(t,e,n){const r=U(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xE(t){t.q_.forEach(e=>{e.next()})}class kE{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.serializer=e}hs(e){return Br(this.serializer,e)}Ps(e){return e.metadata.exists?vN(this.serializer,e.document,!1):Ve.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ct(e)}}class _G{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JN(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=we.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new mx(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}async complete(){const e=await KH(this.localStore,new mx(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await QH(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function JN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.key=e}}class eD{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=YO(e),this.aa=new Ha(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new px,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=jd(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?y!==_&&(r.track({type:3,doc:f}),w=!0):this.ha(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,y){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return _(f)-_(y)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new El(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new px,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new eD(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new ZN(r))}),n}da(e){this.ia=e.ls,this.oa=ue();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return El.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class wG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EG{constructor(e){this.key=e,this.Ra=!1}}class IG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ds(a=>KO(a),Ud),this.fa=new Map,this.ga=new Set,this.pa=new Oe(F.comparator),this.ya=new Map,this.wa=new pE,this.Sa={},this.ba=new Map,this.Da=Lo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function TG(t,e){const n=OE(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await _l(n.localStore,hn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AE(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&yg(n.remoteStore,o)}return i}async function AE(t,e,n,r,i){t.va=(d,h,f)=>async function(_,w,m,p){let v=w.view.ca(m);v.Zi&&(v=await jp(_.localStore,w.query,!1).then(({documents:x})=>w.view.ca(x,v)));const E=p&&p.targetChanges.get(w.targetId),I=p&&p.targetMismatches.get(w.targetId)!=null,T=w.view.applyChanges(v,_.isPrimaryClient,E,I);return g0(_,w.targetId,T.Ta),T.snapshot}(t,d,h,f);const s=await jp(t.localStore,e,!0),o=new tD(e,s.ls),a=o.ca(s.documents),l=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);g0(t,n,u.Ta);const c=new wG(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function bG(t,e){const n=U(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ud(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),sd(n.remoteStore,r.targetId),Il(n,r.targetId)}).catch(Os)):(Il(n,r.targetId),await wl(n.localStore,r.targetId,!0))}async function SG(t,e,n){const r=NE(t);try{const i=await function(o,a){const l=U(o),u=We.now(),c=a.reduce((f,y)=>f.add(y.key),ue());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=An(),_=ue();return l.ss.getEntries(f,c).next(w=>{y=w,y.forEach((m,p)=>{p.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{d=w;const m=[];for(const p of a){const v=eH(p,d.get(p.key).overlayedDocument);v!=null&&m.push(new bi(p.key,v,$O(v.value.mapValue),qe.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:JO(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Oe(le)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Si(r,i.changes),await Hl(r.remoteStore)}catch(i){const s=Kl(i,"Failed to persist write");n.reject(s)}}async function nD(t,e){const n=U(t);try{const r=await HH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ee(o.Ra):i.removedDocuments.size>0&&(ee(o.Ra),o.Ra=!1))}),await Si(n,r,e)}catch(r){await Os(r)}}function gx(t,e,n){const r=U(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=U(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&xE(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xG(t,e,n){const r=U(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Oe(F.comparator);o=o.insert(s,Ve.newNoDocument(s,te.min()));const a=ue().add(s),l=new zd(te.min(),new Map,new Oe(le),o,a);await nD(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),CE(r)}else await wl(r.localStore,e,!1).then(()=>Il(r,e,n)).catch(Os)}async function kG(t,e){const n=U(t),r=e.batch.batchId;try{const i=await WH(n.localStore,e);PE(n,r,null),RE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Si(n,i)}catch(i){await Os(i)}}async function AG(t,e,n){const r=U(t);try{const i=await function(o,a){const l=U(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ee(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);PE(r,e,n),RE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Si(r,i)}catch(i){await Os(i)}}async function RG(t,e){const n=U(t);Ls(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=U(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Kl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function RE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function PE(t,e,n){const r=U(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||rD(t,r)})}function rD(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(sd(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),CE(t))}function g0(t,e,n){for(const r of n)r instanceof ZN?(t.wa.addReference(r.key,e),PG(t,r)):r instanceof eD?(D("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||rD(t,r.key)):K()}function PG(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ga.add(r),CE(t))}function CE(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new F(we.fromString(e)),r=t.Da.next();t.ya.set(r,new EG(n)),t.pa=t.pa.insert(n,r),yg(t.remoteStore,new ti(hn(Bl(n.path)),r,"TargetPurposeLimboResolution",xn._e))}}async function Si(t,e,n){const r=U(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=yE.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=U(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(u,h=>k.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>k.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ns(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),y=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(h,_)}}}(r.localStore,s))}async function CG(t,e){const n=U(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await FN(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new N(C.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Si(n,r._s)}}function OG(t,e){const n=U(t),r=n.ya.get(e);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function NG(t,e){const n=U(t),r=await jp(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&g0(n,e.targetId,i.Ta),i}async function DG(t,e){const n=U(t);return BN(n.localStore,e).then(r=>Si(n,r))}async function LG(t,e,n,r){const i=U(t),s=await function(a,l){const u=U(a),c=U(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):k.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Hl(i.remoteStore):n==="acknowledged"||n==="rejected"?(PE(i,e,r||null),RE(i,e),function(a,l){U(U(a).mutationQueue).Fn(l)}(i.localStore,e)):K(),await Si(i,s)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}async function MG(t,e){const n=U(t);if(OE(n),NE(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await yx(n,r.toArray());n.Ca=!0,await m0(n.remoteStore,!0);for(const s of i)yg(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Il(n,o),wl(n.localStore,o,!0))),sd(n.remoteStore,o)}),await i,await yx(n,r),function(o){const a=U(o);a.ya.forEach((l,u)=>{sd(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new Oe(F.comparator)}(n),n.Ca=!1,await m0(n.remoteStore,!1)}}async function yx(t,e,n){const r=U(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await _l(r.localStore,hn(l[0]));for(const u of l){const c=r.ma.get(u),d=await NG(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await jN(r.localStore,o);a=await _l(r.localStore,u),await AE(r,iD(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function iD(t){return GO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function VG(t){return function(n){return U(U(n).persistence).Bi()}(U(t).localStore)}async function FG(t,e,n,r){const i=U(t);if(i.Ca)return void D("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await BN(i.localStore,QO(s[0])),a=zd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wt.EMPTY_BYTE_STRING);await Si(i,o,a);break}case"rejected":await wl(i.localStore,e,!0),Il(i,e,r);break;default:K()}}async function $G(t,e,n){const r=OE(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){D("SyncEngine","Adding an already active target "+i);continue}const s=await jN(r.localStore,i),o=await _l(r.localStore,s);await AE(r,iD(s),o.targetId,!1,o.resumeToken),yg(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await wl(r.localStore,i,!1).then(()=>{sd(r.remoteStore,i),Il(r,i)}).catch(Os)}}function OE(t){const e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xG.bind(null,e),e.Va.a_=gG.bind(null,e.eventManager),e.Va.Fa=yG.bind(null,e.eventManager),e}function NE(t){const e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AG.bind(null,e),e}function UG(t,e,n){const r=U(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,y){const _=U(f),w=ct(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",m=>_.Kr.getBundleMetadata(m,y.id)).then(m=>!!m&&m.createTime.compareTo(w)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(JN(l));const u=new _G(l,s.localStore,o.serializer);let c=await o.Ma();for(;c;){const h=await u.ea(c);h&&a._updateProgress(h),c=await o.Ma()}const d=await u.complete();return await Si(s,d.ra,void 0),await function(f,y){const _=U(f);return _.persistence.runTransaction("Save bundle","readwrite",w=>_.Kr.saveBundleMetadata(w,y))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return _r("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class y0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VN(this.persistence,new MN,e.initialUser,this.serializer)}createPersistence(e){return new LN(gg.jr,this.serializer)}createSharedClientState(e){return new qN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sD extends y0{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await NE(this.xa.syncEngine),await Hl(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return VN(this.persistence,new MN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new AH(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new dW(n,this.persistence);return new cW(e.asyncQueue,r)}createPersistence(e){const n=gE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new mE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WN(),Tf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qN}}class jG extends sD{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Xy&&(this.sharedClientState.syncEngine={Ys:LG.bind(null,n),Zs:FG.bind(null,n),Xs:$G.bind(null,n),Bi:VG.bind(null,n),Js:DG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await MG(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=WN();if(!Xy.D(n))throw new N(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class DE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CG.bind(null,this.syncEngine),await m0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mG}()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),r=function(s){return new ZH(s)}(e.databaseInfo);return function(s,o,a,l){return new nG(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new iG(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gx(this.syncEngine,n,0),function(){return hx.D()?new hx:new YH}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new IG(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=U(n);D("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Wl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new xt,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new vG(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new N(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=U(i),a=rd(o.serializer)+"/documents",l={documents:s.map(h=>nd(o.serializer,h))},u=await o.Co("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=uH(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());ee(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ql(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=F.fromPath(r);this.mutations.push(new sE(i,this.precondition(i)))}),await async function(r,i){const s=U(r),o=rd(s.serializer)+"/documents",a={writes:i.map(l=>id(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw K();n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new N(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?qe.exists(!1):qe.updateTime(n):qe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new N(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qe.updateTime(n)}return qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new _E(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new zG(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!Fd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!uN(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=SO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LE(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>fx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fx(e.remoteStore,s)),t._onlineComponents=e}function oD(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oD(n))throw n;_r("Error using user provided cache. Falling back to memory cache: "+n),await bf(t,new y0)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await bf(t,new y0);return t._offlineComponents}async function _g(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await v0(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await v0(t,new DE))),t._onlineComponents}function aD(t){return LE(t).then(e=>e.persistence)}function ME(t){return LE(t).then(e=>e.localStore)}function lD(t){return _g(t).then(e=>e.remoteStore)}function VE(t){return _g(t).then(e=>e.syncEngine)}function HG(t){return _g(t).then(e=>e.datastore)}async function Tl(t){const e=await _g(t),n=e.eventManager;return n.onListen=TG.bind(null,e.syncEngine),n.onUnlisten=bG.bind(null,e.syncEngine),n}function GG(t){return t.asyncQueue.enqueue(async()=>{const e=await aD(t),n=await lD(t);return e.setNetworkEnabled(!0),function(i){const s=U(i);return s.C_.delete(0),Hd(s)}(n)})}function KG(t){return t.asyncQueue.enqueue(async()=>{const e=await aD(t),n=await lD(t);return e.setNetworkEnabled(!1),async function(i){const s=U(i);s.C_.add(0),await Wl(s),s.M_.set("Offline")}(n)})}function QG(t,e){const n=new xt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=U(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new N(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Kl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await ME(t),e,n)),n.promise}function uD(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new vg({next:h=>{o.enqueueAndForget(()=>SE(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new N(C.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new N(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new kE(Bl(a.path),c,{includeMetadataChanges:!0,J_:!0});return bE(s,d)}(await Tl(t),t.asyncQueue,e,n,r)),r.promise}function YG(t,e){const n=new xt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await jp(i,s,!0),l=new tD(s,a.ls),u=l.ca(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=Kl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await ME(t),e,n)),n.promise}function cD(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new vg({next:h=>{o.enqueueAndForget(()=>SE(s,d)),h.fromCache&&l.source==="server"?u.reject(new N(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new kE(a,c,{includeMetadataChanges:!0,J_:!0});return bE(s,d)}(await Tl(t),t.asyncQueue,e,n,r)),r.promise}function XG(t,e){const n=new vg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){U(i).q_.add(s),s.next()}(await Tl(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){U(i).q_.delete(s)}(await Tl(t),n))}}function JG(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?dN().encode(o):o,function(c,d){return new BG(c,d)}(function(c,d){if(c instanceof Uint8Array)return vx(c,d);if(c instanceof ArrayBuffer)return vx(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Wd(e));t.asyncQueue.enqueueAndForget(async()=>{UG(await VE(t),i,r)})}function ZG(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=U(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await ME(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e,n){if(!n)throw new N(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hD(t,e,n,r){if(e===!0&&r===!0)throw new N(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wx(t){if(!F.isDocumentKey(t))throw new N(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ex(t){if(F.isDocumentKey(t))throw new N(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(t);throw new N(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fD(t,e){if(e<=0)throw new N(C.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new N(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new N(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ix({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ix(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zq;switch(r.type){case"firstParty":return new rW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_x.get(n);r&&(D("ComponentProvider","Removing Datastore"),_x.delete(n),r.terminate())}(this),Promise.resolve()}}function pD(t,e,n,r={}){var i;const s=(t=Ie(t,Gd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bt.MOCK_USER;else{a=SR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new N(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bt(u)}t._authCredentials=new eW(new bO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class mD{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mD(this.firestore,e,this._query)}},Qe=class gD{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gD(this.firestore,e,this._key)}},as=class yD extends fn{constructor(e,n,r){super(e,n,Bl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new F(e))}withConverter(e){return new yD(this.firestore,e,this._path)}};function bl(t,e,...n){if(t=X(t),FE("collection","path",e),t instanceof Gd){const r=we.fromString(e,...n);return Ex(r),new as(t,null,r)}{if(!(t instanceof Qe||t instanceof as))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return Ex(r),new as(t.firestore,null,r)}}function eK(t,e){if(t=Ie(t,Gd),FE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new N(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fn(t,null,function(r){return new Ti(we.emptyPath(),r)}(e))}function Tn(t,e,...n){if(t=X(t),arguments.length===1&&(e=SO.newId()),FE("doc","path",e),t instanceof Gd){const r=we.fromString(e,...n);return wx(r),new Qe(t,null,new F(r))}{if(!(t instanceof Qe||t instanceof as))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return wx(r),new Qe(t.firestore,t instanceof as?t.converter:null,new F(r))}}function vD(t,e){return t=X(t),e=X(e),(t instanceof Qe||t instanceof as)&&(e instanceof Qe||e instanceof as)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _D(t,e){return t=X(t),e=X(e),t instanceof fn&&e instanceof fn&&t.firestore===e.firestore&&Ud(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new _E(this,"async_queue_retry"),this.iu=()=>{const n=Tf();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Tf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Tf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new xt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ns(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ut("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=TE.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&K()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function _0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class nK{constructor(){this._progressObserver={},this._taskCompletionResolver=new xt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=-1;let it=class extends Gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tK}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}};function iK(t,e){const n=typeof t=="object"?t:Lw(),r=typeof t=="string"?t:e||"(default)",i=gd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hV("firestore");s&&pD(i,...s)}return i}function Ot(t){return t._firestoreClient||wD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new OW(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new WG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function sK(t,e){ID(t=Ie(t,it));const n=Ot(t);if(n._uninitializedComponentsProvider)throw new N(C.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new DE;return ED(n,i,new sD(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function oK(t){ID(t=Ie(t,it));const e=Ot(t);if(e._uninitializedComponentsProvider)throw new N(C.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new DE;return ED(e,r,new jG(r,n.cacheSizeBytes))}function ED(t,e,n){const r=new xt;return t.asyncQueue.enqueue(async()=>{try{await bf(t,n),await v0(t,e),r.resolve()}catch(i){const s=i;if(!oD(s))throw s;_r("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function aK(t){if(t._initialized&&!t._terminated)throw new N(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!dr.D())return Promise.resolve();const i=r+"main";await dr.delete(i)}(gE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function lK(t){return function(n){const r=new xt;return n.asyncQueue.enqueueAndForget(async()=>RG(await VE(n),r)),r.promise}(Ot(t=Ie(t,it)))}function uK(t){return GG(Ot(t=Ie(t,it)))}function cK(t){return KG(Ot(t=Ie(t,it)))}function dK(t,e){const n=Ot(t=Ie(t,it)),r=new nK;return JG(n,t._databaseId,e,r),r}function hK(t,e){return ZG(Ot(t=Ie(t,it)),e).then(n=>n?new fn(t,null,n.query):null)}function ID(t){if(t._initialized||t._terminated)throw new N(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(wt.fromBase64String(e))}catch(n){throw new N(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=/^__.*__$/;class pK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}class TD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Ig{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Wp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(bD(this.Iu)&&fK.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class mK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wd(e)}pu(e,n,r,i=!1){return new Ig({Iu:e,methodName:n,gu:r,path:ze.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ko(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new mK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tg(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);BE("Data must be an object, but it was:",o,r);const a=kD(r,o);let l,u;if(s.merge)l=new kn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=w0(e,d,n);if(!o.contains(h))throw new N(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RD(c,h)||c.push(h)}l=new kn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new pK(new Vt(a),l,u)}class Kd extends Go{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}function SD(t,e,n){return new Ig({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $E extends Go{_toFieldTransform(e){return new Bd(e.path,new gl)}isEqual(e){return e instanceof $E}}class gK extends Go{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=SD(this,e,!0),r=this.yu.map(s=>Qo(s,n)),i=new Co(r);return new Bd(e.path,i)}isEqual(e){return this===e}}class yK extends Go{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=SD(this,e,!0),r=this.yu.map(s=>Qo(s,n)),i=new Oo(r);return new Bd(e.path,i)}isEqual(e){return this===e}}class vK extends Go{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new yl(e.serializer,nN(e.serializer,this.wu));return new Bd(e.path,n)}isEqual(e){return this===e}}function UE(t,e,n,r){const i=t.pu(1,e,n);BE("Data must be an object, but it was:",i,r);const s=[],o=Vt.empty();Ho(r,(l,u)=>{const c=zE(e,l,n);u=X(u);const d=i.Ru(c);if(u instanceof Kd)s.push(c);else{const h=Qo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new kn(s);return new TD(o,a,i.fieldTransforms)}function jE(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[w0(e,r,n)],l=[i];if(s.length%2!=0)throw new N(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(w0(e,s[h])),l.push(s[h+1]);const u=[],c=Vt.empty();for(let h=a.length-1;h>=0;--h)if(!RD(u,a[h])){const f=a[h];let y=l[h];y=X(y);const _=o.Ru(f);if(y instanceof Kd)u.push(f);else{const w=Qo(y,_);w!=null&&(u.push(f),c.set(f,w))}}const d=new kn(u);return new TD(c,d,o.fieldTransforms)}function xD(t,e,n,r=!1){return Qo(n,t.pu(r?4:3,e))}function Qo(t,e){if(AD(t=X(t)))return BE("Unsupported field value:",e,t),kD(t,e);if(t instanceof Go)return function(r,i){if(!bD(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Qo(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=X(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:vl(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vl(i.serializer,s)}}if(r instanceof Eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:pN(i.serializer,r._byteString)};if(r instanceof Qe){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${wg(r)}`)}(t,e)}function kD(t,e){const n={};return MO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,i)=>{const s=Qo(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Eg||t instanceof Hr||t instanceof Qe||t instanceof Go)}function BE(t,e,n){if(!AD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wg(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function w0(t,e,n){if((e=X(e))instanceof Ts)return e._internalPath;if(typeof e=="string")return zE(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const _K=new RegExp("[~\\*/\\[\\]]");function zE(t,e,n){if(e.search(_K)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ts(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new N(C.INVALID_ARGUMENT,a+t+l)}function RD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wK extends od{data(){return super.data()}}function bg(t,e){return typeof e=="string"?zE(t,e):e instanceof Ts?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{}class Qd extends qE{}function Oi(t,e,...n){let r=[];e instanceof qE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof WE).length,a=s.filter(l=>l instanceof Sg).length;if(o>1||o>0&&a>0)throw new N(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sg extends Qd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sg(e,n,r)}_apply(e){const n=this._parse(e);return OD(e._query,n),new fn(e.firestore,e.converter,a0(e._query,n))}_parse(e){const n=Ko(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new N(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){bx(d,c);const f=[];for(const y of d)f.push(Tx(l,s,y));h={arrayValue:{values:f}}}else h=Tx(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||bx(d,c),h=xD(a,o,d,c==="in"||c==="not-in");return ye.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function EK(t,e,n){const r=e,i=bg("where",t);return Sg._create(i,r,n)}class WE extends qE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Se.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)OD(o,l),o=a0(o,l)}(e._query,n),new fn(e.firestore,e.converter,a0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends Qd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new N(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new N(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new td(s,o)}(e._query,this._field,this._direction);return new fn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ti(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function IK(t,e="asc"){const n=e,r=bg("orderBy",t);return HE._create(r,n)}class xg extends Qd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xg(e,n,r)}_apply(e){return new fn(e.firestore,e.converter,Vp(e._query,this._limit,this._limitType))}}function TK(t){return fD("limit",t),xg._create("limit",t,"F")}function bK(t){return fD("limitToLast",t),xg._create("limitToLast",t,"L")}class kg extends Qd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new kg(e,n,r)}_apply(e){const n=CD(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(i,s){return new Ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function SK(...t){return kg._create("startAt",t,!0)}function xK(...t){return kg._create("startAfter",t,!1)}class Ag extends Qd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){const n=CD(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(i,s){return new Ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function kK(...t){return Ag._create("endBefore",t,!1)}function AK(...t){return Ag._create("endAt",t,!0)}function CD(t,e,n,r){if(n[0]=X(n[0]),n[0]instanceof od)return function(s,o,a,l,u){if(!l)throw new N(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Wa(s))if(d.field.isKeyField())c.push(Ro(o,l.key));else{const h=l.data.field(d.field);if(dg(h))throw new N(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new N(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new Es(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ko(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new N(C.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let y=0;y<c.length;y++){const _=c[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new N(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!rE(o)&&_.indexOf("/")!==-1)throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const w=o.path.child(we.fromString(_));if(!F.isDocumentKey(w))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const m=new F(w);f.push(Ro(a,m))}else{const w=xD(l,u,_);f.push(w)}}return new Es(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Tx(t,e,n){if(typeof(n=X(n))=="string"){if(n==="")throw new N(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&n.indexOf("/")!==-1)throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!F.isDocumentKey(r))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(t,new F(r))}if(n instanceof Qe)return Ro(t,n._key);throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wg(n)}.`)}function bx(t,e){if(!Array.isArray(t)||t.length===0)throw new N(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new N(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GE{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Eg(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ys(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);ee(bN(r));const i=new _s(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class RK extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let yi=class extends od{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ec=class extends yi{data(e={}){return super.data(e)}},bs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:PK(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function PK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function ND(t,e){return t instanceof yi&&e instanceof yi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bs&&e instanceof bs&&t._firestore===e._firestore&&_D(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){t=Ie(t,Qe);const e=Ie(t.firestore,it);return uD(Ot(e),t._key).then(n=>QE(e,t,n))}class Yo extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function CK(t){t=Ie(t,Qe);const e=Ie(t.firestore,it),n=Ot(e),r=new Yo(e);return QG(n,t._key).then(i=>new yi(e,r,t._key,i,new io(i!==null&&i.hasLocalMutations,!0),t.converter))}function OK(t){t=Ie(t,Qe);const e=Ie(t.firestore,it);return uD(Ot(e),t._key,{source:"server"}).then(n=>QE(e,t,n))}function KE(t){t=Ie(t,fn);const e=Ie(t.firestore,it),n=Ot(e),r=new Yo(e);return PD(t._query),cD(n,t._query).then(i=>new bs(e,r,t,i))}function NK(t){t=Ie(t,fn);const e=Ie(t.firestore,it),n=Ot(e),r=new Yo(e);return YG(n,t._query).then(i=>new bs(e,r,t,i))}function DK(t){t=Ie(t,fn);const e=Ie(t.firestore,it),n=Ot(e),r=new Yo(e);return cD(n,t._query,{source:"server"}).then(i=>new bs(e,r,t,i))}function E0(t,e,n){t=Ie(t,Qe);const r=Ie(t.firestore,it),i=Rg(t.converter,e,n);return Yd(r,[Tg(Ko(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qe.none())])}function mo(t,e,n,...r){t=Ie(t,Qe);const i=Ie(t.firestore,it),s=Ko(i);let o;return o=typeof(e=X(e))=="string"||e instanceof Ts?jE(s,"updateDoc",t._key,e,n,r):UE(s,"updateDoc",t._key,e),Yd(i,[o.toMutation(t._key,qe.exists(!0))])}function DD(t){return Yd(Ie(t.firestore,it),[new ql(t._key,qe.none())])}function LD(t,e){const n=Ie(t.firestore,it),r=Tn(t),i=Rg(t.converter,e);return Yd(n,[Tg(Ko(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qe.exists(!1))]).then(()=>r)}function MD(t,...e){var n,r,i;t=X(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||_0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(_0(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Qe)u=Ie(t.firestore,it),c=Bl(t._key.path),l={next:d=>{e[o]&&e[o](QE(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ie(t,fn);u=Ie(d.firestore,it),c=d._query;const h=new Yo(u);l={next:f=>{e[o]&&e[o](new bs(u,h,d,f))},error:e[o+1],complete:e[o+2]},PD(t._query)}return function(h,f,y,_){const w=new vg(_),m=new kE(f,w,y);return h.asyncQueue.enqueueAndForget(async()=>bE(await Tl(h),m)),()=>{w.Na(),h.asyncQueue.enqueueAndForget(async()=>SE(await Tl(h),m))}}(Ot(u),c,a,l)}function LK(t,e){return XG(Ot(t=Ie(t,it)),_0(e)?e:{next:e})}function Yd(t,e){return function(r,i){const s=new xt;return r.asyncQueue.enqueueAndForget(async()=>SG(await VE(r),i,s)),s.promise}(Ot(t),e)}function QE(t,e,n){const r=n.docs.get(e._key),i=new Yo(t);return new yi(t,i,e._key,r,new io(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VK=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ko(e)}set(e,n,r){this._verifyNotCommitted();const i=ji(e,this._firestore),s=Rg(i.converter,n,r),o=Tg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ji(e,this._firestore);let o;return o=typeof(n=X(n))=="string"||n instanceof Ts?jE(this._dataReader,"WriteBatch.update",s._key,n,r,i):UE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,qe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ji(e,this._firestore);return this._mutations=this._mutations.concat(new ql(n._key,qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new N(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ji(t,e){if((t=X(t)).firestore!==e)throw new N(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FK=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ko(n)}get(n){const r=ji(n,this._firestore),i=new RK(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return K();const o=s[0];if(o.isFoundDocument())return new od(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new od(this._firestore,i,r._key,null,r.converter);throw K()})}set(n,r,i){const s=ji(n,this._firestore),o=Rg(s.converter,r,i),a=Tg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ji(n,this._firestore);let a;return a=typeof(r=X(r))=="string"||r instanceof Ts?jE(this._dataReader,"Transaction.update",o._key,r,i,s):UE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ji(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ji(e,this._firestore),r=new Yo(this._firestore);return super.get(e).then(i=>new yi(this._firestore,r,n._key,i._document,new io(!1,!1),n.converter))}};function $K(t,e,n){t=Ie(t,it);const r=Object.assign(Object.assign({},MK),n);return function(s){if(s.maxAttempts<1)throw new N(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new xt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await HG(s);new qG(s.asyncQueue,u,a,o,l).run()}),l.promise}(Ot(t),i=>e(new FK(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(){return new Kd("deleteField")}function VD(){return new $E("serverTimestamp")}function jK(...t){return new gK("arrayUnion",t)}function BK(...t){return new yK("arrayRemove",t)}function zK(t){return new vK("increment",t)}(function(e,n=!0){(function(i){jl=i})(_i),di(new nr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new it(new tW(r.getProvider("auth-internal")),new sW(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new N(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vn(wS,"4.4.0",e),Vn(wS,"4.4.0","esm2017")})();const qK={apiKey:{}.REACT_APP_API_KEY,authDomain:{}.REACT_APP_AUTH_DOMAIN,projectId:{}.REACT_APP_PROJECT_ID,storageBucket:{}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{}.REACT_APP_MESSAGING_SENDER_ID,appId:{}.REACT_APP_APP_ID,measurementId:{}.REACT_APP_MEASUREMENT_ID};NR().length||yd(qK);const In=iK();function WK(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(null),[l,u]=b.useState(!1),[c,d]=b.useState(""),h=bd(),f=async m=>{m.preventDefault();try{const p=await fP(Fn,t,n);a(p),h("/")}catch(p){p instanceof Error?s(p.message):s("An unknown error occurred")}},y=async m=>{m.preventDefault();try{const p=await hP(Fn,t,n);a(p),Ae.success("회원가입 되었습니다"),w(),await _()}catch(p){p instanceof Error?s(p.message):s("An unknown error occurred")}},_=async()=>{var m;try{const p=(m=Fn.currentUser)==null?void 0:m.uid;if(p){const v=Tn(In,"User",p);(await Mo(v)).exists()||await E0(v,{profileImageUrl:"",NickName:c})}}catch{}},w=()=>{u(!l)};return g.jsx(HK,{showForm:l,children:g.jsxs(GK,{children:[g.jsxs(KK,{children:[g.jsxs(QK,{children:[g.jsx("h2",{children:"Already have an Account?"}),g.jsx(Sx,{onClick:w,children:"로그인"})]}),g.jsxs(YK,{children:[g.jsx("h2",{children:"Don`t Already have an Account?"}),g.jsx(Sx,{onClick:()=>u(!1),children:"회원가입"})]})]}),g.jsxs(XK,{showForm:l,children:[g.jsxs(JK,{showForm:l,children:[g.jsxs("form",{onSubmit:f,children:[g.jsx("h3",{children:"Sign In"}),g.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Email"}),g.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),placeholder:"Password"}),g.jsx("button",{type:"submit",children:"Login"})]}),i&&g.jsx("p",{children:"아이디/비밀번호가 틀립니다."}),o&&g.jsxs("div",{children:["Welcome back, ",o.user.email,"!"]})," "]}),g.jsxs(ZK,{showForm:l,children:[g.jsxs("form",{onSubmit:y,children:[g.jsx("h3",{children:"Sign UP"}),g.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Email"}),g.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),placeholder:"Password"}),g.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),placeholder:"NickName"}),g.jsx("button",{type:"submit",children:"Sign Up"})]}),o&&g.jsxs("div",{children:["Welcome, ",o.user.email,"!"]})]})]})]})})}const HK=R.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: ${t=>t.showForm?"#03a9f4":"#f43648;"};
  transition: 0.5s;
`,GK=R.div`
  position: relative;
  width: 800px;
  height: 500px;
  margin: 20px;

  @media (max-width: 1024px) {
    max-width: 400px;
    height: 650px;
    display: flex;
    justify-content: center;
    align-items: center;
    top: 0%;
  }
`,KK=R.div`
  position: absolute;
  top: 40px;
  width: 100%;
  height: 420px;
  display: flex;
  background: rgba(255, 255, 255, 0.2);
  box-shadow: 0 5px 45px rgba(0, 0, 0, 0.15);

  @media (max-width: 1024px) {
    top: 0%;
    height: 100%;
  }
`,QK=R.div`
  position: relative;
  width: 50%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;

  h2 {
    color: #fff;
    font-size: 1.2em;
    font-weight: 500;
    margin-bottom: 10px;
  }

  @media (max-width: 1024px) {
    position: absolute;
    width: 100%;
    height: 150px;
    top: 0;
  }
`,YK=R.div`
  position: relative;
  width: 50%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;

  h2 {
    color: #fff;
    font-size: 1.2em;
    font-weight: 500;
    margin-bottom: 10px;
  }

  @media (max-width: 1024px) {
    position: absolute;
    width: 100%;
    height: 150px;
    bottom: 0;
  }
`,Sx=R.button`
  cursor: pointer;
  padding: 10px 20px;
  background: #fff;
  color: #333;
  font-size: 16px;
  font-weight: 500;
  border: none;
`,XK=R.div`
  position: absolute;
  top: 0;
  left: ${t=>t.showForm?"0":"400px"};
  width: 50%;
  height: 100%;
  background: #fff;
  z-index: 1000;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 5px 45px rgba(0, 0, 0, 0.25);
  transition: 0.5s ease-in-out;
  overflow: hidden;

  @media (max-width: 1024px) {
    width: 100%;
    height: 500px;

    box-shadow: none;
    left: 0;
    top: ${t=>t.showForm?"0":"150px"};
  }
`,JK=R.div`
  position: absolute;
  left: ${t=>t.showForm?"0":"-100%"};
  top: ${t=>t.showForm?"0":"150px"};

  width: 100%;
  padding: 50px;
  transition: 0.5s;
  transition-delay: 0.25s;

  form {
    width: 100%;
    display: flex;
    flex-direction: column;
  }
  .forgot {
    color: #333;
  }

  h3 {
    font-size: 1.5em;
    color: #333;
    margin-bottom: 20px;
    font-weight: 500;
  }

  input {
    width: 70%;
    margin-bottom: 20px;
    padding: 10px;
    outline: 10px;
    font-size: 16px;
    border: 1px solid #333;
  }

  button[type="submit"] {
    width: 70%;
    margin-bottom: 20px;
    padding: 10px;
    outline: 10px;
    font-size: 16px;
    border: 1px solid #333;
    background: #03a9f4;
    border: none;
    color: #fff;
    max-width: 100px;
    cursor: pointer;
  }

  @media (max-width: 1024px) {
    form {
      top: 0;
    }
  }
`,ZK=R.div`
  position: absolute;
  left: ${t=>t.showForm?"100%":"0"};
  width: 100%;
  padding: 50px;
  transition: 0.5s;
  transition-delay: 0.25s;

  form {
    width: 100%;
    display: flex;
    flex-direction: column;
  }
  .forgot {
    color: #333;
  }

  h3 {
    font-size: 1.5em;
    color: #333;
    margin-bottom: 20px;
    font-weight: 500;
  }

  input {
    width: 70%;
    margin-bottom: 20px;
    padding: 10px;
    outline: 10px;
    font-size: 16px;
    border: 1px solid #333;
  }

  button[type="submit"] {
    width: 70%;
    margin-bottom: 20px;
    padding: 10px;
    outline: 10px;
    font-size: 16px;
    border: 1px solid #333;
    background: #f43648;
    border: none;
    color: #fff;
    max-width: 100px;
    cursor: pointer;
  }
`;function eQ(){const[t,e]=b.useState([]),[n,r]=b.useState(1),[i]=b.useState(10),[s,o]=b.useState(0),a=bd(),[l,u]=b.useState(!1);b.useEffect(()=>{async function h(){try{u(!0);const f=(n-1)*i,y=f+i,_=bl(In,"Board"),m=(await KE(_)).docs.map(E=>({id:E.id,author:E.data().author,category:E.data().category,comments:E.data().comments,content:E.data().content,image:E.data().image,likes:E.data().likes,title:E.data().title,views:E.data().views,createdAt:E.data().createdAt.toDate()}));m.sort((E,I)=>I.createdAt.getTime()-E.createdAt.getTime());const p=m.slice(f,y);e(p);const v=Math.ceil(m.length/i);o(v),u(!1)}catch(f){console.log(f),u(!1)}}h()},[n,i]);const c=async h=>{try{const f=t.find(y=>y.id===h);if(f){const y=Tn(In,"Board",h);await mo(y,{views:f.views+1})}}catch{}},d=h=>{a(`/boarddetail/${h}`),c(h)};return g.jsxs(tQ,{children:[g.jsx(zm,{loading:l}),g.jsx("div",{children:g.jsx(nQ,{children:g.jsxs(lQ,{children:[g.jsxs(uQ,{children:[g.jsxs(rQ,{children:["자유게시판",g.jsx(iQ,{children:"자유로운 소통을 위한 공간입니다."})]}),g.jsx(sQ,{}),g.jsxs(oQ,{children:[g.jsx("span",{children:"제목"}),g.jsx("span",{children:"작성 시간"}),g.jsx("span",{children:" 조회수 |"}),g.jsx("span",{children:" 좋아요"})]}),t.map(h=>g.jsx(cQ,{children:g.jsxs(dQ,{onClick:()=>d(h.id),children:[g.jsx(hQ,{children:h.title}),g.jsx(fQ,{children:`${h.createdAt.getFullYear()}.${h.createdAt.getMonth()}.${h.createdAt.getDate()}:${h.createdAt.getHours()}:${h.createdAt.getMinutes()}`}),g.jsxs(pQ,{children:[h.views," | ",g.jsxs(mQ,{children:[" ",h.likes," "]})]})]})},h.id))]}),g.jsxs(gQ,{children:[g.jsxs(yQ,{children:[g.jsx(vQ,{onClick:()=>r(n-1),disabled:n===1,children:"이전"}),Array.from({length:s}).map((h,f)=>g.jsx(wQ,{onClick:()=>r(f+1),active:f+1===n,children:f+1},f+1)),g.jsx(_Q,{onClick:()=>r(n+1),disabled:n>=s,children:"다음"})]}),g.jsx(aQ,{href:"/BoardWrite",children:"글쓰기"})]})]})})})]})}const tQ=R.div`
  width: 100%;
  height: 100%;
  justify-content: center;
  display: flex;
  align-items: center;
`,nQ=R.div`
  padding: 0;
  width: 1200px;
  height: 1000px;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 1300px) {
    width: 1000px;
  }

  @media (max-width: 1039px) {
    width: 450px;
  }
`,rQ=R.h1`
  color: black;
  font-size: 30pt;
  padding: 10px 0 0 6em;
  margin-top: 30px;
  margin-left: 100px;
  @media (max-width: 1300px) {
    font-size: 18pt;
  }

  @media (max-width: 1039px) {
    font-size: 14pt;
    margin-left: 50px;
  }
`,iQ=R.span`
  color: gray;
  font-size: 12pt;
  height: auto;
  padding-top: 10px;
  padding-left: 20px;
  @media (max-width: 1039px) {
    display: none;
  }
`,sQ=R.div`
  position: relative;
  width: 100%;
  height: 3px;
  margin-top: 10px;
  background: linear-gradient(120deg, purple, skyblue);
  margin-bottom: 20px;
`,oQ=R.div`
  width: 100%;
  height: auto;
  text-align: left;

  padding-left: 10px;
  font-size: 9pt;
  font-weight: bold;
  text-align: center;

  margin-bottom: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  span {
    font-size: 9pt;
    font-weight: bold;
    position: absolute;
    &:nth-child(1) {
      left: 430px;
      @media (max-width: 1300px) {
        left: 370px;
      }
      @media (max-width: 1039px) {
        left: 175px;
      }
    }
    &:nth-child(2) {
      left: 635px;

      @media (max-width: 1300px) {
        left: 525px;
      }
      @media (max-width: 1039px) {
        display: none;
      }
    }
    &:nth-child(3) {
      right: 200px;

      @media (max-width: 1039px) {
        right: 60px;
      }
    }
    &:nth-child(4) {
      color: purple;
      right: 160px;
      @media (max-width: 1039px) {
        right: 70px;
      }

      @media (max-width: 1039px) {
        right: 20px;
      }
    }
  }
`,aQ=R.a`
  background-color: #333333;
  color: white;
  font-size: 12pt;
  border-radius: 30px;
  border: 1px solid gray;
  position: absolute;
  right: 30px;
  top: 0;
  font-weight: bold;
  padding: 15px 30px;

  text-decoration: none;
  padding-top: 2px;
  white-space: nowrap;

  &:hover {
    background-color: white;
    color: black;

    visibility: visible;
    transition: all 0.2s ease;
    text-decoration: underline;
  }

  @media (max-width: 1300px) {
    padding: 10px 15px;
    font-size: 15px;
    margin-left: 100px;
  }
  @media (max-width: 1039px) {
    padding: 5px 10px;
  }
`,lQ=R.div`
  height: 800px;
  width: 90%;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  background-color: rgb(251, 251, 251);
  border-radius: 25px;
  position: relative;

  justify-content: center;
  @media (max-width: 1300px) {
    width: 90%;
  }
`,uQ=R.div`
  height: 80%;
  width: 100%;

  margin-top: 25px;
`,cQ=R.div`
  height: 30px;
  width: 90%;
  margin: 0;
  margin-bottom: 10px;
`,dQ=R.button`
  cursor: pointer;
  border-bottom: lightgray 1px solid;
  border-left: none;
  border-right: none;
  color: black;
  background-color: white;
  width: 100%;
  height: 40px;
  font-size: 13pt;
  text-align: left;
  margin-bottom: 10px;
  margin-left: 50px;
  padding-left: 20px;
  position: relative;

  &:hover {
    opacity: 1;
    visibility: visible;
    transition: all 0.3s ease;
    text-decoration: underline;
  }
  @media (max-width: 1300px) {
    width: 800px;
  }
  @media (max-width: 1039px) {
    width: 330px;
    font-size: 10px;
  }
`,hQ=R.div`
  width: 80%;
  display: flex;
  align-items: center;
  justify-content: center;
`,fQ=R.span`
  font-size: 8pt;
  left: 570px;
  top: 15px;
  position: absolute;
  @media (max-width: 1300px) {
    left: 460px;
  }
  @media (max-width: 1039px) {
    display: none;
  }
`,pQ=R.span`
  font-size: 8pt;
  left: 820px;
  top: 15px;
  position: absolute;
  @media (max-width: 1300px) {
    left: 643px;
  }
  @media (max-width: 1039px) {
    left: 290px;
  }
`,mQ=R.span`
  color: purple;
  margin-left: 5px;
`,gQ=R.div`
  height: 200px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,yQ=R.div`
  position: absolute;
  top: 0;
`,vQ=R.button`
  left: 20%;
  width: auto;
  box-sizing: content-box;
  background-color: #fff;
  color: black;
  border: gray 1px solid;
  border-radius: 3px;
  font-size: 8pt;

  &:hover {
    opacity: 1;
    visibility: visible;
    transition: all 0.2s ease;
    text-decoration: underline;
  }
`,_Q=R.button`
  width: auto;
  box-sizing: content-box;
  background-color: #fff;
  color: black;
  border: gray 1px solid;
  font-size: 8pt;
  border-radius: 3px;

  &:hover {
    opacity: 1;
    visibility: visible;
    transition: all 0.2s ease;
    text-decoration: underline;
  }
`,wQ=R.button`
  background-color: white;
  color: black;
  box-sizing: content-box;
  width: auto;
  margin-left: 15px;
  margin-right: 15px;

  &:hover {
    opacity: 1;
    visibility: visible;
    transition: all 0.3s ease;
    text-decoration: underline;
  }
`;function EQ(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(""),c=bd(),d=async()=>{try{const f=Fn.currentUser;if(f){const y=f.uid,_=Tn(In,"User",y),w=await Mo(_);if(w.exists()){const m=w.data();m&&e(m.NickName)}}}catch(f){console.error("Error user data",f)}};b.useEffect(()=>{const f=Im(Fn,y=>{r(y)});return()=>f()},[]),b.useEffect(()=>{n&&d()},[n]);const h=async f=>{f.preventDefault();try{const y=bl(In,"Board"),_=await LD(y,{author:t,title:i,category:o,content:l,likes:0,views:0,comments:[],image:"",createdAt:VD()});console.log("Author:",t),console.log("Title:",i),console.log("Category:",o),console.log("Content:",l),console.log("게시물이 성공적으로 추가되었습니다.");const w=_.id;c(`/boarddetail/${w}`)}catch(y){console.error("게시물 추가 중 오류 발생:",y)}};return g.jsx(IQ,{children:g.jsxs(TQ,{children:[g.jsx(bQ,{children:"글쓰기"}),g.jsx(xx,{}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx(xQ,{children:"작성자"}),g.jsx(SQ,{type:"text",placeholder:"작성자",value:t||"",onChange:()=>{}})]}),g.jsxs("li",{children:[g.jsx(AQ,{children:"제목"}),g.jsx(kQ,{type:"text",placeholder:"제목",value:i,onChange:f=>s(f.target.value)})]}),g.jsxs("li",{children:[g.jsx(CQ,{children:"카테고리"}),g.jsxs("select",{value:o,onChange:f=>a(f.target.value),children:[g.jsx("option",{value:"카테고리1",disabled:!0,children:"카테고리 1"}),g.jsx("option",{value:"카테고리2",children:"카테고리2"}),g.jsx("option",{value:"카테고리3",children:"카테고리3"}),g.jsx("option",{value:"카테고리4",children:"카테고리4"}),g.jsx("option",{value:"카테고리5",children:"카테고리5"}),g.jsx("option",{value:"카테고리6",children:"카테고리6"})]})]}),g.jsxs("li",{children:[g.jsx(PQ,{children:"내용"}),g.jsx(RQ,{placeholder:"내용",value:l,onChange:f=>u(f.target.value)})]}),g.jsx(xx,{}),g.jsxs("li",{children:[g.jsx(Cr,{to:"/board",children:g.jsx(NQ,{children:"취소"})}),g.jsx(OQ,{onClick:h,children:"등록"})]})]})]})})}const IQ=R.div`
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
`,TQ=R.form`
  height: 800px;
  width: 900px;

  background-color: #fff;
  justify-content: center;
  align-items: center;

  li {
    display: flex;
    padding: 7px 0;
  }

  @media (max-width: 1420px) {
    width: 90%;
  }
`,bQ=R.h1`
  width: 15%;
  display: flex;
  justify-content: center;
  align-items: center;
  @media (max-width: 1420px) {
    font-size: 15pt;
    width: 30%;
  }
`,xx=R.div`
  width: 100%;
  border-bottom: 1px solid #e8e8e8;
  margin-bottom: 5px;
`,SQ=R.input`
  display: flex;
  align-items: center;
  width: 80%;
  height: 34px;
  border: 1px solid #c6c6c6;
  border-radius: 5px;
  padding: 0 10px;
`,xQ=R.span`
  width: 15%;
  display: flex;
  justify-content: center;
  align-items: center;
`,kQ=R.input`
  width: 80%;
  height: 34px;
  border: 1px solid #c6c6c6;
  border-radius: 5px;
  padding: 0 10px;
`,AQ=R.span`
  width: 15%;
  display: flex;
  justify-content: center;
  align-items: center;
`,RQ=R.textarea`
  display: flex;
  width: 80%;
  height: 400px;
  margin-bottom: 30px;
  border: 1px solid #c6c6c6;
  border-radius: 5px;
  padding: 0 10px;
`,PQ=R.span`
  width: 15%;
  display: flex;
  justify-content: center;
  align-items: center;
`,CQ=R.span`
  width: 15%;
  display: flex;
  justify-content: center;
  align-items: center;
`,OQ=R.button`
  padding: 10px 30px;
  background-color: #2f2fbe;
  color: #fff;
  margin-left: 30px;
  @media (max-width: 1420px) {
    padding: 5px 15px;
  }
  @media (max-width: 947px) {
    padding: 5px 15px;
    margin-left: 5%;
  }
`,NQ=R.button`
  padding: 10px 30px;
  background-color: #3b3b44;
  color: #fff;
  margin-left: 600px;
  @media (max-width: 1420px) {
    padding: 5px 15px;
  }
  @media (max-width: 947px) {
    padding: 5px 15px;
    margin-left: 200px;
  }
  @media (max-width: 450px) {
    padding: 5px 15px;
    margin-left: 50px;
  }
`,I0="/assets/baseimg-484a9067.jpg";function DQ(){var H,B,re,A,P,$,G,ne,ce,at,Pe,gn,Nt,en;const{id:t}=RU(),[e,n]=b.useState([]),[r,i]=b.useState(null),[s,o]=b.useState(""),[a,l]=b.useState({imageUrl:"",NickName:""}),[u,c]=b.useState(null),[d,h]=b.useState(0),[f,y]=b.useState(!1),[_,w]=b.useState(!1),[m,p]=b.useState(((H=e[0])==null?void 0:H.title)||""),[v,E]=b.useState(((B=e[0])==null?void 0:B.content)||""),I=bd();b.useEffect(()=>{async function se(){try{const be=bl(In,"Board"),Ir=(await KE(be)).docs.map(yn=>({id:yn.id,author:yn.data().author,category:yn.data().category,comments:Array.isArray(yn.data().comments)?yn.data().comments.map(Zd=>({user:Zd.user,content:Zd.content,NickName:Zd.NickName,profileImageUrl:Zd.profileImageUrl})):[],content:yn.data().content,image:yn.data().image,likes:yn.data().likes,title:yn.data().title,views:yn.data().views,createdAt:yn.data().createdAt.toDate()})).find(yn=>yn.id===t);Ir?n([Ir]):console.error("Post not found"),y(!1),w(!1)}catch{}}se()},[t]),b.useEffect(()=>{const se=Im(Fn,be=>{i(be),be&&(c(be.uid),O())});return()=>se()},[a]),b.useEffect(()=>{(()=>{const be=e[0];be&&h(be.comments.length)})()},[e]);const T=async se=>{var be;if(se.preventDefault(),r&&s.trim()!=="")try{const dt={user:u||"Anonymous",content:s,profileImageUrl:a.imageUrl,NickName:a.NickName},Bt=bl(In,"Board"),Ir=Tn(Bt,t);(await Mo(Ir)).exists()?(await mo(Ir,{comments:[...((be=e[0])==null?void 0:be.comments)||[],dt]}),console.log("Comment added successfully!"),console.log("Comment Data:",dt),console.log("Rendering Image:",dt.profileImageUrl||I0),console.log("Rendering NickName:",dt.NickName||"익명"),o(""),window.location.reload()):console.error("Board document not found")}catch(dt){console.error("Error adding comment: ",dt)}},x=async()=>{try{const se=e[0];if(se){const be=Tn(In,"Board",se.id),dt={title:m,content:v};await mo(be,dt),n(Bt=>[{...Bt[0],...dt}]),console.log("Post updated successfully!")}}catch(se){console.error("Error updating post: ",se)}},S=async()=>{try{const se=e[0];if(se){const be=Tn(In,"Board",se.id);await mo(be,{likes:se.likes+1}),n(dt=>[{...dt[0],likes:dt[0].likes+1}]),console.log("Likes incremented successfully!")}}catch(se){console.error("Likes 업데이트 중 오류 발생:",se)}},O=async()=>{try{const se=Fn.currentUser;if(se){const be=se.uid,dt=Tn(In,"User",be),Bt=await Mo(dt);if(Bt.exists()){const Ir=Bt.data();Ir&&l({imageUrl:Ir.profileImageUrl,NickName:Ir.NickName}),console.log(Ir.NickName)}}}catch(se){console.error("Error user data",se)}},L=async()=>{try{const se=e[0];if(se){const be=Tn(In,"Board",se.id);await DD(be),I("/board"),console.log("Post deleted successfully!")}}catch(se){console.error("Error deleting post: ",se)}},J=()=>{var se,be;y(!0),w(!0),e.length>0&&p(((se=e[0])==null?void 0:se.title)||""),e.length>0&&E(((be=e[0])==null?void 0:be.content)||"")},z=()=>{y(!1),x()},W=()=>{w(!1),x()};return g.jsx(LQ,{children:g.jsxs(MQ,{children:[g.jsxs(VQ,{children:[g.jsx(kx,{}),f?g.jsxs("div",{children:[g.jsx(KQ,{type:"text",value:m,onChange:se=>p(se.target.value)}),g.jsx(Rx,{onClick:z,children:"수정 완료"})]}):g.jsx("h1",{children:(re=e[0])==null?void 0:re.title}),g.jsx(kx,{}),g.jsxs("h2",{children:[(A=e[0])==null?void 0:A.author,a.NickName===((P=e[0])==null?void 0:P.author)&&g.jsxs(g.Fragment,{children:[g.jsx(XQ,{onClick:J,children:g.jsx(ln,{icon:U7})}),g.jsx(YQ,{children:g.jsx(ln,{icon:V7,onClick:L})})]})]}),g.jsxs(zQ,{children:[g.jsx("p",{children:g.jsx(ln,{icon:F7})}),g.jsx("p",{children:`${($=e[0])==null?void 0:$.createdAt.getFullYear()}.${(G=e[0])==null?void 0:G.createdAt.getMonth()}.${(ne=e[0])==null?void 0:ne.createdAt.getDate()}:${(ce=e[0])==null?void 0:ce.createdAt.getHours()}:${(at=e[0])==null?void 0:at.createdAt.getMinutes()}`}),g.jsx("p",{children:g.jsx(ln,{icon:M7})}),g.jsx("p",{children:(Pe=e[0])==null?void 0:Pe.views}),g.jsx("p",{children:g.jsx(ln,{icon:sS})}),g.jsx("p",{children:(gn=e[0])==null?void 0:gn.likes})]})]}),g.jsxs(FQ,{children:[_?g.jsxs("div",{children:[g.jsx(QQ,{value:v,onChange:se=>E(se.target.value)}),g.jsx(Rx,{onClick:W,children:"수정완료"})]}):g.jsx("h3",{children:(Nt=e[0])==null?void 0:Nt.content}),g.jsx(qQ,{onClick:S,children:g.jsx(ln,{icon:sS})})]}),g.jsxs($Q,{children:[g.jsxs("h3",{children:["댓글: ",d]}),g.jsx("ul",{children:(en=e[0])==null?void 0:en.comments.map((se,be)=>g.jsxs("div",{children:[g.jsx(Ax,{}),g.jsxs("li",{children:[g.jsxs(jQ,{children:[g.jsx(BQ,{children:g.jsx("img",{src:se.profileImageUrl||I0,alt:"프로필"})}),g.jsx("h3",{children:se.NickName||"익명"})]}),g.jsx("br",{}),g.jsx("span",{children:`${se.content}`})]}),g.jsx(Ax,{})]},be))}),g.jsxs(WQ,{onSubmit:T,children:[g.jsx(HQ,{onClick:()=>I("/board"),children:"뒤로가기"}),g.jsx(UQ,{placeholder:"댓글을 입력해주세요",value:s,onChange:se=>o(se.target.value)}),g.jsx(GQ,{type:"submit",children:"댓글 달기"})]})]})]})})}const LQ=R.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
`,MQ=R.div`
  margin-top: 100px;
  margin-bottom: 150px;
  width: 1300px;
  height: 100%;
  background-color: rgb(251, 251, 251);
  @media (max-width: 1420px) {
    width: 80%;
  }
`,VQ=R.div`
  width: 100%;
  height: 200px;
  position: relative;
  border-bottom: 1px solid rgb(128, 128, 128);
  h1 {
    margin-left: 30px;
  }
  h2 {
    display: flex;
    align-items: center;
    margin-left: 30px;
  }
  p {
    margin-left: 10px;
  }
`,FQ=R.div`
  width: 100%;
  height: 600px;
  margin-top: 2px;
  border-top: 1px solid rgb(128, 128, 128);
  border-bottom: 1px solid rgb(128, 128, 128);
  position: relative;

  h3 {
    font-size: 15px;
    margin-left: 15px;
  }
`,$Q=R.div`
  width: 1300px;

  position: relative;
  h3 {
    margin-left: 30px;
  }
  li {
    align-items: center;
    margin-top: 30px;
    height: 100px;
    list-style: none;
  }
  @media (max-width: 1420px) {
    width: 100%;
  }
`,UQ=R.textarea`
  width: 1300px;
  height: 150px;
  @media (max-width: 1420px) {
    width: 100%;
  }
`,kx=R.div`
  width: 100%;

  border-bottom: 3px solid #1e1c1c;
  margin-bottom: 5px;
`,Ax=R.div`
  width: 100%;

  border-bottom: 1px solid #1e1c1c;
  margin-bottom: 5px;
`,jQ=R.div`
  display: flex;
  position: relative;
  h3 {
    position: absolute;
    top: -18px;
    left: 10px;
  }
`,BQ=R.div`
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: black;
  overflow: hidden;
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`,zQ=R.div`
  display: flex;
  align-items: center;
  position: absolute;
  right: 200px;
  top: 95px;

  height: 100px;
  width: 150px;
  p {
    font-size: 20px;
  }
  @media (max-width: 720px) {
    display: none;
  }
`,qQ=R.button`
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  bottom: 10px;
  left: 45%;
  width: 100px;
  height: 50px;
  background-color: gray;
  &:hover {
    background-color: whitesmoke;
  }
`,WQ=R.form`
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
`,HQ=R.button`
  cursor: pointer;
  position: absolute;
  top: 150px;
  right: 130px;
  width: 100px;
  height: 50px;
  background-color: gray;
  color: white;
  border-radius: 15px;
  font-size: 15px;
  margin-top: 30px;
  &:hover {
    color: black;
    background-color: whitesmoke;
  }
`,GQ=R.button`
  cursor: pointer;
  position: absolute;
  top: 150px;
  right: 0;
  width: 100px;
  height: 50px;
  background-color: gray;
  color: white;
  border-radius: 15px;
  font-size: 15px;
  margin-top: 30px;
  &:hover {
    background-color: whitesmoke;
    color: black;
  }
`,KQ=R.input`
  width: 80%;
  height: 50px;
  margin-left: 5%;
  margin-bottom: 30px;
  @media (max-width: 1420px) {
    width: 60%;
  }
  @media (max-width: 480px) {
    width: 40%;
  }
`,QQ=R.textarea`
  margin-top: 15px;
  margin-left: 5%;
  width: 80%;
  height: 500px;
  @media (max-width: 1420px) {
    width: 60%;
  }
  @media (max-width: 480px) {
    width: 40%;
  }
`,Rx=R.button`
  cursor: pointer;
  margin-left: 30px;
  height: 40px;
  background-color: #3abf30;
  color: white;
  border-radius: 15px;
  font-size: 15px;
  margin-top: 30px;
  &:hover {
    background-color: whitesmoke;
    color: black;
  }
`,YQ=R.p`
  cursor: pointer;

  &:hover {
    color: red; /* 호버 시 적용될 스타일 */
  }
`,XQ=R.p`
  cursor: pointer;

  &:hover {
    color: blue; /* 호버 시 적용될 스타일 */
  }
`;var T0={exports:{}},Vo={},b0={exports:{}},wr={},S0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(d,h){return h.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function o(d){var h=d.offsetWidth<=0&&d.offsetHeight<=0;if(h&&!d.innerHTML)return!0;try{var f=window.getComputedStyle(d),y=f.getPropertyValue("display");return h?y!==r&&s(d,f):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var h=d,f=d.getRootNode&&d.getRootNode();h&&h!==document.body;){if(f&&h===f&&(h=f.host.parentNode),o(h))return!1;h=h.parentNode}return!0}function l(d,h){var f=d.nodeName.toLowerCase(),y=i.test(f)&&!d.disabled||f==="a"&&d.href||h;return y&&a(d)}function u(d){var h=d.getAttribute("tabindex");h===null&&(h=void 0);var f=isNaN(h);return(f||h>=0)&&l(d,!f)}function c(d){var h=[].slice.call(d.querySelectorAll("*"),0).reduce(function(f,y){return f.concat(y.shadowRoot?c(y.shadowRoot):[y])},[]);return h.filter(u)}t.exports=e.default})(S0,S0.exports);var FD=S0.exports;Object.defineProperty(wr,"__esModule",{value:!0});wr.resetState=tY;wr.log=nY;wr.handleBlur=ad;wr.handleFocus=ld;wr.markForFocusLater=rY;wr.returnFocus=iY;wr.popWithoutFocus=sY;wr.setupScopedFocus=oY;wr.teardownScopedFocus=aY;var JQ=FD,ZQ=eY(JQ);function eY(t){return t&&t.__esModule?t:{default:t}}var Sl=[],Ca=null,x0=!1;function tY(){Sl=[]}function nY(){}function ad(){x0=!0}function ld(){if(x0){if(x0=!1,!Ca)return;setTimeout(function(){if(!Ca.contains(document.activeElement)){var t=(0,ZQ.default)(Ca)[0]||Ca;t.focus()}},0)}}function rY(){Sl.push(document.activeElement)}function iY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Sl.length!==0&&(e=Sl.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function sY(){Sl.length>0&&Sl.pop()}function oY(t){Ca=t,window.addEventListener?(window.addEventListener("blur",ad,!1),document.addEventListener("focus",ld,!0)):(window.attachEvent("onBlur",ad),document.attachEvent("onFocus",ld))}function aY(){Ca=null,window.addEventListener?(window.removeEventListener("blur",ad),document.removeEventListener("focus",ld)):(window.detachEvent("onBlur",ad),document.detachEvent("onFocus",ld))}var k0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=FD,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,d=l.shiftKey,h=u[0],f=u[u.length-1],y=s();if(a===y){if(!d)return;c=f}if(f===y&&!d&&(c=h),h===y&&d&&(c=f),c){l.preventDefault(),c.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var m=u.indexOf(y);if(m>-1&&(m+=d?-1:1),c=u[m],typeof c>"u"){l.preventDefault(),c=d?f:h,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(k0,k0.exports);var lY=k0.exports,Er={},uY=function(){},cY=uY,mr={},$D={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})($D);var dY=$D.exports;Object.defineProperty(mr,"__esModule",{value:!0});mr.canUseDOM=mr.SafeNodeList=mr.SafeHTMLCollection=void 0;var hY=dY,fY=pY(hY);function pY(t){return t&&t.__esModule?t:{default:t}}var Pg=fY.default,mY=Pg.canUseDOM?window.HTMLElement:{};mr.SafeHTMLCollection=Pg.canUseDOM?window.HTMLCollection:{};mr.SafeNodeList=Pg.canUseDOM?window.NodeList:{};mr.canUseDOM=Pg.canUseDOM;mr.default=mY;Object.defineProperty(Er,"__esModule",{value:!0});Er.resetState=wY;Er.log=EY;Er.assertNodeList=UD;Er.setElement=IY;Er.validateElement=YE;Er.hide=TY;Er.show=bY;Er.documentNotReadyOrSSRTesting=SY;var gY=cY,yY=_Y(gY),vY=mr;function _Y(t){return t&&t.__esModule?t:{default:t}}var Hn=null;function wY(){Hn&&(Hn.removeAttribute?Hn.removeAttribute("aria-hidden"):Hn.length!=null?Hn.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Hn).forEach(function(t){return t.removeAttribute("aria-hidden")})),Hn=null}function EY(){}function UD(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function IY(t){var e=t;if(typeof e=="string"&&vY.canUseDOM){var n=document.querySelectorAll(e);UD(n,e),e=n}return Hn=e||Hn,Hn}function YE(t){var e=t||Hn;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,yY.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function TY(t){var e=!0,n=!1,r=void 0;try{for(var i=YE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function bY(t){var e=!0,n=!1,r=void 0;try{for(var i=YE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function SY(){Hn=null}var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.resetState=xY;Ql.log=kY;var tc={},nc={};function Px(t,e){t.classList.remove(e)}function xY(){var t=document.getElementsByTagName("html")[0];for(var e in tc)Px(t,tc[e]);var n=document.body;for(var r in nc)Px(n,nc[r]);tc={},nc={}}function kY(){}var AY=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},RY=function(e,n){return e[n]&&(e[n]-=1),n},PY=function(e,n,r){r.forEach(function(i){AY(n,i),e.add(i)})},CY=function(e,n,r){r.forEach(function(i){RY(n,i),n[i]===0&&e.remove(i)})};Ql.add=function(e,n){return PY(e.classList,e.nodeName.toLowerCase()=="html"?tc:nc,n.split(" "))};Ql.remove=function(e,n){return CY(e.classList,e.nodeName.toLowerCase()=="html"?tc:nc,n.split(" "))};var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.log=NY;Yl.resetState=DY;function OY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var jD=function t(){var e=this;OY(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Hp=new jD;function NY(){console.log("portalOpenInstances ----------"),console.log(Hp.openInstances.length),Hp.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function DY(){Hp=new jD}Yl.default=Hp;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.resetState=FY;XE.log=$Y;var LY=Yl,MY=VY(LY);function VY(t){return t&&t.__esModule?t:{default:t}}var Ht=void 0,ar=void 0,go=[];function FY(){for(var t=[Ht,ar],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Ht=ar=null,go=[]}function $Y(){console.log("bodyTrap ----------"),console.log(go.length);for(var t=[Ht,ar],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Cx(){go.length!==0&&go[go.length-1].focusContent()}function UY(t,e){!Ht&&!ar&&(Ht=document.createElement("div"),Ht.setAttribute("data-react-modal-body-trap",""),Ht.style.position="absolute",Ht.style.opacity="0",Ht.setAttribute("tabindex","0"),Ht.addEventListener("focus",Cx),ar=Ht.cloneNode(),ar.addEventListener("focus",Cx)),go=e,go.length>0?(document.body.firstChild!==Ht&&document.body.insertBefore(Ht,document.body.firstChild),document.body.lastChild!==ar&&document.body.appendChild(ar)):(Ht.parentElement&&Ht.parentElement.removeChild(Ht),ar.parentElement&&ar.parentElement.removeChild(ar))}MY.default.subscribe(UY);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(H){for(var B=1;B<arguments.length;B++){var re=arguments[B];for(var A in re)Object.prototype.hasOwnProperty.call(re,A)&&(H[A]=re[A])}return H},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},i=function(){function H(B,re){for(var A=0;A<re.length;A++){var P=re[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(B,P.key,P)}}return function(B,re,A){return re&&H(B.prototype,re),A&&H(B,A),B}}(),s=b,o=R1,a=I(o),l=wr,u=E(l),c=lY,d=I(c),h=Er,f=E(h),y=Ql,_=E(y),w=mr,m=I(w),p=Yl,v=I(p);function E(H){if(H&&H.__esModule)return H;var B={};if(H!=null)for(var re in H)Object.prototype.hasOwnProperty.call(H,re)&&(B[re]=H[re]);return B.default=H,B}function I(H){return H&&H.__esModule?H:{default:H}}function T(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}function x(H,B){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:H}function S(H,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);H.prototype=Object.create(B&&B.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(H,B):H.__proto__=B)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},L=function(B){return B.code==="Tab"||B.keyCode===9},J=function(B){return B.code==="Escape"||B.keyCode===27},z=0,W=function(H){S(B,H);function B(re){T(this,B);var A=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,re));return A.setOverlayRef=function(P){A.overlay=P,A.props.overlayRef&&A.props.overlayRef(P)},A.setContentRef=function(P){A.content=P,A.props.contentRef&&A.props.contentRef(P)},A.afterClose=function(){var P=A.props,$=P.appElement,G=P.ariaHideApp,ne=P.htmlOpenClassName,ce=P.bodyOpenClassName,at=P.parentSelector,Pe=at&&at().ownerDocument||document;ce&&_.remove(Pe.body,ce),ne&&_.remove(Pe.getElementsByTagName("html")[0],ne),G&&z>0&&(z-=1,z===0&&f.show($)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(u.returnFocus(A.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),v.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(u.setupScopedFocus(A.node),u.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var P=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:P},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function(P){L(P)&&(0,d.default)(A.content,P),A.props.shouldCloseOnEsc&&J(P)&&(P.stopPropagation(),A.requestClose(P))},A.handleOverlayOnClick=function(P){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose(P):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function(P){!A.props.shouldCloseOnOverlayClick&&P.target==A.overlay&&P.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function(P){return A.ownerHandlesClose()&&A.props.onRequestClose(P)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function(P,$){var G=(typeof $>"u"?"undefined":r($))==="object"?$:{base:O[P],afterOpen:O[P]+"--after-open",beforeClose:O[P]+"--before-close"},ne=G.base;return A.state.afterOpen&&(ne=ne+" "+G.afterOpen),A.state.beforeClose&&(ne=ne+" "+G.beforeClose),typeof $=="string"&&$?ne+" "+$:ne},A.attributesFromObject=function(P,$){return Object.keys($).reduce(function(G,ne){return G[P+"-"+ne]=$[ne],G},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return i(B,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,P){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,P=A.appElement,$=A.ariaHideApp,G=A.htmlOpenClassName,ne=A.bodyOpenClassName,ce=A.parentSelector,at=ce&&ce().ownerDocument||document;ne&&_.add(at.body,ne),G&&_.add(at.getElementsByTagName("html")[0],G),$&&(z+=1,f.hide(P)),v.default.register(this)}},{key:"render",value:function(){var A=this.props,P=A.id,$=A.className,G=A.overlayClassName,ne=A.defaultStyles,ce=A.children,at=$?{}:ne.content,Pe=G?{}:ne.overlay;if(this.shouldBeClosed())return null;var gn={ref:this.setOverlayRef,className:this.buildClassName("overlay",G),style:n({},Pe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Nt=n({id:P,ref:this.setContentRef,style:n({},at,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),en=this.props.contentElement(Nt,ce);return this.props.overlayElement(gn,en)}}]),B}(s.Component);W.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},W.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=W,t.exports=e.default})(b0,b0.exports);var jY=b0.exports;function BD(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function zD(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function qD(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}BD.__suppressDeprecationWarning=!0;zD.__suppressDeprecationWarning=!0;qD.__suppressDeprecationWarning=!0;function BY(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=BD,e.componentWillReceiveProps=zD),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=qD;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return t}const zY=Object.freeze(Object.defineProperty({__proto__:null,polyfill:BY},Symbol.toStringTag,{value:"Module"})),qY=ik(zY);Object.defineProperty(Vo,"__esModule",{value:!0});Vo.bodyOpenClassName=Vo.portalClassName=void 0;var Ox=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WD=b,Gp=Xd(WD),HY=vR,Kp=Xd(HY),GY=R1,ae=Xd(GY),KY=jY,Nx=Xd(KY),QY=Er,YY=JY(QY),Ki=mr,Dx=Xd(Ki),XY=qY;function JY(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Xd(t){return t&&t.__esModule?t:{default:t}}function ZY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tX=Vo.portalClassName="ReactModalPortal",nX=Vo.bodyOpenClassName="ReactModal__Body--open",zs=Ki.canUseDOM&&Kp.default.createPortal!==void 0,Mx=function(e){return document.createElement(e)},Vx=function(){return zs?Kp.default.createPortal:Kp.default.unstable_renderSubtreeIntoContainer};function zh(t){return t()}var Jd=function(t){eX(e,t);function e(){var n,r,i,s;ZY(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Lx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!zs&&Kp.default.unmountComponentAtNode(i.node);var u=zh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=Vx(),d=c(i,Gp.default.createElement(Nx.default,Ox({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(d)},r),Lx(i,s)}return WY(e,[{key:"componentDidMount",value:function(){if(Ki.canUseDOM){zs||(this.node=Mx("div")),this.node.className=this.props.portalClassName;var r=zh(this.props.parentSelector);r.appendChild(this.node),!zs&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=zh(r.parentSelector),s=zh(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(Ki.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,c=s.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!zs&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ki.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Ki.canUseDOM||!zs)return null;!this.node&&zs&&(this.node=Mx("div"));var r=Vx();return r(Gp.default.createElement(Nx.default,Ox({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){YY.setElement(r)}}]),e}(WD.Component);Jd.propTypes={isOpen:ae.default.bool.isRequired,style:ae.default.shape({content:ae.default.object,overlay:ae.default.object}),portalClassName:ae.default.string,bodyOpenClassName:ae.default.string,htmlOpenClassName:ae.default.string,className:ae.default.oneOfType([ae.default.string,ae.default.shape({base:ae.default.string.isRequired,afterOpen:ae.default.string.isRequired,beforeClose:ae.default.string.isRequired})]),overlayClassName:ae.default.oneOfType([ae.default.string,ae.default.shape({base:ae.default.string.isRequired,afterOpen:ae.default.string.isRequired,beforeClose:ae.default.string.isRequired})]),appElement:ae.default.oneOfType([ae.default.instanceOf(Dx.default),ae.default.instanceOf(Ki.SafeHTMLCollection),ae.default.instanceOf(Ki.SafeNodeList),ae.default.arrayOf(ae.default.instanceOf(Dx.default))]),onAfterOpen:ae.default.func,onRequestClose:ae.default.func,closeTimeoutMS:ae.default.number,ariaHideApp:ae.default.bool,shouldFocusAfterRender:ae.default.bool,shouldCloseOnOverlayClick:ae.default.bool,shouldReturnFocusAfterClose:ae.default.bool,preventScroll:ae.default.bool,parentSelector:ae.default.func,aria:ae.default.object,data:ae.default.object,role:ae.default.string,contentLabel:ae.default.string,shouldCloseOnEsc:ae.default.bool,overlayRef:ae.default.func,contentRef:ae.default.func,id:ae.default.string,overlayElement:ae.default.func,contentElement:ae.default.func};Jd.defaultProps={isOpen:!1,portalClassName:tX,bodyOpenClassName:nX,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Gp.default.createElement("div",e,n)},contentElement:function(e,n){return Gp.default.createElement("div",e,n)}};Jd.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,XY.polyfill)(Jd);Vo.default=Jd;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Vo,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(T0,T0.exports);var rX=T0.exports;const Qp=Xp(rX);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n){this._delegate=e,this.firebase=n,Zf(e,new nr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),DR(this._delegate)))}_getService(e,n=cs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=cs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Zf(this._delegate,e)}_addOrOverwriteComponent(e){OR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Fx=new zo("app-compat","Firebase",sX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Vn,setLogLevel:MR,onLog:LR,apps:null,SDK_VERSION:_i,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:CF}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||cs,!yT(e,u))throw Fx.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=yd(u,c);if(yT(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(di(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw Fx.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&Xf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){const t=oX(iX);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:HD,extendNamespace:e,createSubscribe:AR,ErrorFactory:zo,deepExtend:Xf});function e(n){Xf(t,n)}return t}const aX=HD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new mm("@firebase/app-compat"),lX="@firebase/app-compat",uX="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){Vn(lX,uX,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(mV()&&self.firebase!==void 0){$x.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&$x.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const kt=aX;cX();var dX="firebase",hX="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt.registerVersion(dX,hX,"app-compat");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebasestorage.googleapis.com",KD="storageBucket",fX=2*60*1e3,pX=10*60*1e3,mX=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Yt{constructor(e,n,r=0){super(Zy(e),`Firebase Storage: ${n} (${Zy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function Zy(t){return"storage/"+t}function JE(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Ue.UNKNOWN,t)}function gX(t){return new Je(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yX(t){return new Je(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Ue.UNAUTHENTICATED,t)}function _X(){return new Je(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wX(t){return new Je(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QD(){return new Je(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YD(){return new Je(Ue.CANCELED,"User canceled the upload/download.")}function EX(t){return new Je(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function IX(t){return new Je(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TX(){return new Je(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KD+"' property when initializing the app?")}function XD(){return new Je(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bX(){return new Je(Ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function SX(){return new Je(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xX(t){return new Je(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ga(t){return new Je(Ue.INVALID_ARGUMENT,t)}function JD(){return new Je(Ue.APP_DELETED,"The Firebase app was deleted.")}function ZD(t){return new Je(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rc(t,e){return new Je(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pu(t){throw new Je(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qt.makeFromUrl(e,n)}catch{return new Qt(e,"")}if(r.path==="")return r;throw IX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},_=n===GD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${_}/${i}/${w}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:y,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<v.length;E++){const I=v[E],T=I.regex.exec(e);if(T){const x=T[I.indices.bucket];let S=T[I.indices.path];S||(S=""),r=new Qt(x,S),I.postModify(r);break}}if(r==null)throw EX(e);return r}}class kX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(f,l())},w)}function h(){s&&clearTimeout(s)}function f(w,...m){if(u){h();return}if(w){h(),c.call(null,w,...m);return}if(l()||o){h(),c.call(null,w,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let y=!1;function _(w){y||(y=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function RX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){return t!==void 0}function CX(t){return typeof t=="function"}function OX(t){return typeof t=="object"&&!Array.isArray(t)}function Cg(t){return typeof t=="string"||t instanceof String}function Ux(t){return ZE()&&t instanceof Blob}function ZE(){return typeof Blob<"u"}function A0(t,e,n,r){if(r<e)throw Ga(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ga(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yo||(yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,y)=>{this.resolve_=f,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===yo.NO_ERROR,l=s.getStatus();if(!a||tL(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===yo.ABORT;r(!1,new qh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());PX(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=JE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?JD():YD();o(l)}else{const l=QD();o(l)}};this.canceled_?n(!1,new qh(!1,null,!0)):this.backoffId_=AX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function DX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FX(t,e,n,r,i,s,o=!0){const a=eL(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return MX(u,e),DX(u,n),LX(u,s),VX(u,r),new NX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UX(...t){const e=$X();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ZE())return new Blob(t);throw new Je(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t){if(typeof atob>"u")throw xX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ev{constructor(e,n){this.data=e,this.contentType=n||null}}function nL(t,e){switch(t){case Xn.RAW:return new ev(rL(e));case Xn.BASE64:case Xn.BASE64URL:return new ev(iL(t,e));case Xn.DATA_URL:return new ev(qX(e),WX(e))}throw JE()}function rL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zX(t){let e;try{e=decodeURIComponent(t)}catch{throw rc(Xn.DATA_URL,"Malformed data URL.")}return rL(e)}function iL(t,e){switch(t){case Xn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BX(e)}catch(i){throw i.message.includes("polyfill")?i:rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rc(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=HX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qX(t){const e=new sL(t);return e.base64?iL(Xn.BASE64,e.rest):zX(e.rest)}function WX(t){return new sL(t).contentType}function HX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let r=0,i="";Ux(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ux(this.data_)){const r=this.data_,i=jX(r,e,n);return i===null?null:new Yr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(r,!0)}}static getBlob(...e){if(ZE()){const n=e.map(r=>r instanceof Yr?r.data_:r);return new Yr(UX.apply(null,n))}else{const n=e.map(o=>Cg(o)?nL(Xn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Yr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){let e;try{e=JSON.parse(t)}catch{return null}return OX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t,e){return e}class nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||QX}}let Wh=null;function YX(t){return!Cg(t)||t.length<2?t:oL(t)}function Og(){if(Wh)return Wh;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(s,o){return YX(o)}const n=new nn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new nn("size");return i.xform=r,t.push(i),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),Wh=t,Wh}function XX(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function JX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return XX(r,t),r}function aL(t,e,n){const r=eI(e);return r===null?null:JX(t,r,n)}function ZX(t,e,n,r){const i=eI(e);if(i===null||!Cg(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=Ms(h,n,r),y=eL({alt:"media",token:u});return f+y})[0]}function tI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="prefixes",Bx="items";function eJ(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[jx])for(const i of n[jx]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Qt(e,s));r.prefixes.push(o)}if(n[Bx])for(const i of n[Bx]){const s=t._makeStorageReference(new Qt(e,i.name));r.items.push(s)}return r}function tJ(t,e,n){const r=eI(n);return r===null?null:eJ(t,e,r)}class xi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){if(!t)throw JE()}function Ng(t,e){function n(r,i){const s=aL(t,i,e);return zr(s!==null),s}return n}function nJ(t,e){function n(r,i){const s=tJ(t,e,i);return zr(s!==null),s}return n}function rJ(t,e){function n(r,i){const s=aL(t,i,e);return zr(s!==null),ZX(s,i,t.host,t._protocol)}return n}function Xl(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_X():i=vX():n.getStatus()===402?i=yX(t.bucket):n.getStatus()===403?i=wX(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Dg(t){const e=Xl(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=gX(t.path)),s.serverResponse=i.serverResponse,s}return n}function lL(t,e,n){const r=e.fullServerUrl(),i=Ms(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xi(i,s,Ng(t,n),o);return a.errorHandler=Dg(e),a}function iJ(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Ms(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new xi(a,l,nJ(t,e.bucket),u);return c.urlParams=s,c.errorHandler=Xl(e),c}function sJ(t,e,n){const r=e.fullServerUrl(),i=Ms(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xi(i,s,rJ(t,n),o);return a.errorHandler=Dg(e),a}function oJ(t,e,n,r){const i=e.fullServerUrl(),s=Ms(i,t.host,t._protocol),o="PATCH",a=tI(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,c=new xi(s,o,Ng(t,r),u);return c.headers=l,c.body=a,c.errorHandler=Dg(e),c}function aJ(t,e){const n=e.fullServerUrl(),r=Ms(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new xi(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Dg(e),a}function lJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lJ(null,e)),r}function uJ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let E=0;E<2;E++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=uL(e,r,i),c=tI(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Yr.getBlob(d,r,h);if(f===null)throw XD();const y={name:u.fullPath},_=Ms(s,t.host,t._protocol),w="POST",m=t.maxUploadRetryTime,p=new xi(_,w,Ng(t,n),m);return p.urlParams=y,p.headers=o,p.body=f.uploadData(),p.errorHandler=Xl(e),p}class Yp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function nI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{zr(!1)}return zr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function cJ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=uL(e,r,i),a={name:o.fullPath},l=Ms(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=tI(o,n),h=t.maxUploadRetryTime;function f(_){nI(_);let w;try{w=_.getResponseHeader("X-Goog-Upload-URL")}catch{zr(!1)}return zr(Cg(w)),w}const y=new xi(l,u,f,h);return y.urlParams=a,y.headers=c,y.body=d,y.errorHandler=Xl(e),y}function dJ(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=nI(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zr(!1)}d||zr(!1);const h=Number(d);return zr(!isNaN(h)),new Yp(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new xi(n,o,s,a);return l.headers=i,l.errorHandler=Xl(e),l}const zx=256*1024;function hJ(t,e,n,r,i,s,o,a){const l=new Yp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw bX();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const y={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(d,h);if(_===null)throw XD();function w(E,I){const T=nI(E,["active","final"]),x=l.current+c,S=r.size();let O;return T==="final"?O=Ng(e,s)(E,I):O=null,new Yp(x,S,T==="final",O)}const m="POST",p=e.maxUploadRetryTime,v=new xi(n,m,w,p);return v.headers=y,v.body=_.uploadData(),v.progressCallback=a||null,v.errorHandler=Xl(t),v}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ={STATE_CHANGED:"state_changed"},on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tv(t){switch(t){case"running":case"pausing":case"canceling":return on.RUNNING;case"paused":return on.PAUSED;case"success":return on.SUCCESS;case"canceled":return on.CANCELED;case"error":return on.ERROR;default:return on.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e,n,r){if(CX(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class mJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gJ extends mJ{initXhr(){this.xhr_.responseType="text"}}function Nr(){return new gJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Og(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(tL(i.status,[]))if(s)i=QD();else{this.sleepTime=Math.max(this.sleepTime*2,mX),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ue.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=cJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Nr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=dJ(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Nr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=zx*this._chunkMultiplier,n=new Yp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=hJ(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Nr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){zx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=lL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Nr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=uJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Nr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new pJ(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(tv(this._state)){case on.SUCCESS:aa(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:const n=this._reject;aa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tv(this._state)){case on.RUNNING:case on.PAUSED:e.next&&aa(e.next.bind(e,this.snapshot))();break;case on.SUCCESS:e.complete&&aa(e.complete.bind(e))();break;case on.CANCELED:case on.ERROR:e.error&&aa(e.error.bind(e,this._error))();break;default:e.error&&aa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this._service=e,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fo(e,n)}get root(){const e=new Qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oL(this._location.path)}get storage(){return this._service}get parent(){const e=GX(this._location.path);if(e===null)return null;const n=new Qt(this._location.bucket,e);return new Fo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZD(e)}}function yJ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new cL(t,new Yr(e),n)}function vJ(t){const e={prefixes:[],items:[]};return dL(t,e).then(()=>e)}async function dL(t,e,n){const i=await hL(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await dL(t,e,i.nextPageToken)}function hL(t,e){e!=null&&typeof e.maxResults=="number"&&A0("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=iJ(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Nr)}function _J(t){t._throwIfRoot("getMetadata");const e=lL(t.storage,t._location,Og());return t.storage.makeRequestWithTokens(e,Nr)}function wJ(t,e){t._throwIfRoot("updateMetadata");const n=oJ(t.storage,t._location,e,Og());return t.storage.makeRequestWithTokens(n,Nr)}function EJ(t){t._throwIfRoot("getDownloadURL");const e=sJ(t.storage,t._location,Og());return t.storage.makeRequestWithTokens(e,Nr).then(n=>{if(n===null)throw SX();return n})}function IJ(t){t._throwIfRoot("deleteObject");const e=aJ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Nr)}function fL(t,e){const n=KX(t._location.path,e),r=new Qt(t._location.bucket,n);return new Fo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t){return/^[A-Za-z]+:\/\//.test(t)}function bJ(t,e){return new Fo(t,e)}function pL(t,e){if(t instanceof rI){const n=t;if(n._bucket==null)throw TX();const r=new Fo(n,n._bucket);return e!=null?pL(r,e):r}else return e!==void 0?fL(t,e):t}function SJ(t,e){if(e&&TJ(e)){if(t instanceof rI)return bJ(t,e);throw Ga("To use ref(service, url), the first argument must be a Storage instance.")}else return pL(t,e)}function qx(t,e){const n=e==null?void 0:e[KD];return n==null?null:Qt.makeFromBucketSpec(n,t)}function xJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SR(i,t.app.options.projectId))}class rI{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fX,this._maxUploadRetryTime=pX,this._requests=new Set,i!=null?this._bucket=Qt.makeFromBucketSpec(i,this._host):this._bucket=qx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,e):this._bucket=qx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new kX(JD());{const o=FX(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Wx="@firebase/storage",Hx="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ="storage";function AJ(t,e,n){return t=X(t),yJ(t,e,n)}function RJ(t){return t=X(t),_J(t)}function PJ(t,e){return t=X(t),wJ(t,e)}function CJ(t,e){return t=X(t),hL(t,e)}function OJ(t){return t=X(t),vJ(t)}function NJ(t){return t=X(t),EJ(t)}function DJ(t){return t=X(t),IJ(t)}function Gx(t,e){return t=X(t),SJ(t,e)}function LJ(t,e){return fL(t,e)}function MJ(t,e,n,r={}){xJ(t,e,n,r)}function VJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rI(n,r,i,e,_i)}function FJ(){di(new nr(kJ,VJ,"PUBLIC").setMultipleInstances(!0)),Vn(Wx,Hx,""),Vn(Wx,Hx,"esm2017")}FJ();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hh(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Hh(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Hh(o,this,this._ref)):s={next:n.next?o=>n.next(new Hh(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Qx{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new oi(e,this._service))}get items(){return this._delegate.items.map(e=>new oi(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=LJ(this._delegate,e);return new oi(n,this.storage)}get root(){return new oi(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new oi(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Kx(AJ(this._delegate,e,n),this)}putString(e,n=Xn.RAW,r){this._throwIfRoot("putString");const i=nL(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new Kx(new cL(this._delegate,new Yr(i.data,!0),s),this)}listAll(){return OJ(this._delegate).then(e=>new Qx(e,this.storage))}list(e){return CJ(this._delegate,e||void 0).then(n=>new Qx(n,this.storage))}getMetadata(){return RJ(this._delegate)}updateMetadata(e){return PJ(this._delegate,e)}getDownloadURL(){return NJ(this._delegate)}delete(){return this._throwIfRoot("delete"),DJ(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw ZD(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Yx(e))throw Ga("ref() expected a child path but got a URL, use refFromURL instead.");return new oi(Gx(this._delegate,e),this)}refFromURL(e){if(!Yx(e))throw Ga("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qt.makeFromUrl(e,this._delegate.host)}catch{throw Ga("refFromUrl() expected a valid full URL but got an invalid one.")}return new oi(Gx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){MJ(this._delegate,e,n,r)}}function Yx(t){return/^[A-Za-z]+:\/\//.test(t)}const $J="@firebase/storage-compat",UJ="0.3.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="storage-compat";function BJ(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new mL(n,r)}function zJ(t){const e={TaskState:on,TaskEvent:fJ,StringFormat:Xn,Storage:mL,Reference:oi};t.INTERNAL.registerComponent(new nr(jJ,BJ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion($J,UJ)}zJ(kt);const qJ="/assets/ProfileAddIcon-3d27dfed.jpeg",Xx=t=>{Ae(t)};function WJ({closeModal:t,changeIntro:e,setLoading:n}){kt.apps.length||kt.initializeApp(In);const r=kt.storage(),[i,s]=b.useState(null),[o,a]=b.useState(""),[l,u]=b.useState(""),c=h=>{const f=h.target.files;f&&f.length>0&&s(f[0])},d=async()=>{var h;n(!0);try{if(!i)return;const y=r.ref().child(i.name);await y.put(i);const _=await y.getDownloadURL(),w=(h=Fn.currentUser)==null?void 0:h.uid;if(w){const m=Tn(In,"User",w);(await Mo(m)).exists()&&await mo(m,{profileImageUrl:_,NickName:l})}Fn.currentUser&&await pP(Fn.currentUser,o),e({imageUrl:_,NickName:l}),Xx("프로필이 성공적으로 업데이트되었습니다!"),console.log("MyPage component rendered"),t()}catch(f){console.error("An error occurred during upload:",f),Xx("프로필 업데이트에 실패했습니다.")}finally{n(!1)}};return g.jsx(HJ,{children:g.jsxs(KJ,{children:[g.jsx(Nc,{position:"top-right",autoClose:5e3}),g.jsx("h2",{children:"정보 수정하기"}),g.jsx("img",{src:i?URL.createObjectURL(i):qJ,alt:"프로필 이미지"}),g.jsxs(GJ,{children:[g.jsx("input",{id:"fileInput",type:"file",onChange:c}),g.jsx("input",{type:"text",placeholder:"새 비밀번호를 적어주세요",onChange:h=>a(h.target.value)}),g.jsx("input",{type:"text",placeholder:"새 닉네임을 적어주세요",onChange:h=>u(h.target.value)})]}),g.jsxs(QJ,{children:[g.jsx("button",{onClick:()=>d(),children:"완료하기"}),g.jsx("button",{onClick:t,children:"창닫기"})]})]})})}const HJ=R.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  img {
    width: 200px;
    height: 200px;
    border-radius: 20px;
    margin-bottom: 10px;
  }
  input,
  button {
    margin-bottom: 10px;
  }
`,GJ=R.div`
  display: flex;
  flex-direction: column;
  input:nth-child(n + 2) {
    border: none;
    border-radius: 4px;
    padding: 4px 6px;
    background-color: #fff;
    box-shadow: 2px 2px 2px 2px;
  }
`,KJ=R.div`
  display: flex;
  flex-direction: column;
`,QJ=R.div`
  display: flex;
  flex-direction: column;
  button {
    margin-right: 4px;
    background-color: #fff;
    box-shadow: 1px 1px 1px 1px;
    border: unset;
    border-radius: 4px;
    padding: 4px 10px;
    position: relative;
    transition: all 250ms;
    overflow: hidden;
    z-index: 1;
    font-weight: 1000;
    font-size: 17px;
    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 0;
      border-radius: 4px;
      background-color: black;
      z-index: -1;
      transition: all 250ms;
    }
    &:hover {
      cursor: pointer;
      color: #fff;
    }
    &:hover::before {
      width: 100%;
    }
  }
`,YJ={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"54%",width:"40%"},overlay:{backgroundColor:"rgb(255, 255, 255, 0.8)"}};function XJ(){const[t,e]=b.useState(!1),[n,r]=b.useState(null),[i,s]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState(!1);function c(){e(!0)}function d(){e(!1)}const h=async()=>{try{const f=Fn.currentUser;if(f){const y=f.uid,_=Tn(In,"User",y),w=await Mo(_);if(w.exists()){const m=w.data();m&&r({imageUrl:m.profileImageUrl,NickName:m.NickName})}a(f.email)}}catch{}};return b.useEffect(()=>{const f=Im(Fn,y=>{s(y)});return()=>f()},[]),b.useEffect(()=>{i&&h()},[i]),g.jsxs(JJ,{children:[g.jsx(zm,{loading:l}),g.jsxs(nZ,{children:[g.jsx(ZJ,{}),!t&&g.jsx(gL,{children:g.jsx("img",{src:(n==null?void 0:n.imageUrl)||I0,alt:"User Image"})}),g.jsx(yL,{children:g.jsxs(vL,{children:[g.jsxs("h2",{children:[n==null?void 0:n.NickName," ",g.jsx("br",{})]}),g.jsxs(eZ,{children:[g.jsxs("h3",{children:["ID ",g.jsx("br",{}),g.jsx("span",{children:o})," "]}),g.jsxs("h3",{children:["NickName ",g.jsx("br",{}),g.jsx("span",{children:n==null?void 0:n.NickName})," "]})]}),g.jsx(tZ,{children:g.jsx("button",{onClick:c,children:" 수정하기"})})]})})]}),g.jsxs(Qp,{isOpen:t,onRequestClose:d,style:YJ,children:[g.jsx(WJ,{closeModal:d,changeIntro:r,setLoading:u}),g.jsx(rZ,{children:g.jsx("button",{onClick:d,children:"X"})})]})]})}const JJ=R.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: #333;
  font-family: "Poppins", sans-serif;
`,ZJ=R.div`
  position: absolute;
  inset: 0;
  background: #000;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 120px;
    background: linear-gradient(
      transparent,
      #45f3ff,
      #45f3ff,
      #45f3ff,
      transparent
    );
    animation: animate 4s linear infinite;
  }

  @keyframes animate {
    0% {
      transform: translate(-50%, -50%) rotate(0deg);
    }

    100% {
      transform: translate(-50%, -50%) rotate(360deg);
    }
  }

  &::after {
    content: "";
    position: absolute;
    background: #292929;
    inset: 3px;
  }
`,gL=R.div`
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);
  width: 150px;
  height: 150px;
  background: black;
  transition: 0.5s;
  z-index: 10;
  overflow: hidden;

  img {
    position: absolute;
    z-index: 1;
    width: calc(100% - 20px);
    height: calc(100% - 20px);
    top: 10px;
    left: 10px;
  }

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 500px;
    height: 150px;
    transform: translate(-50%, -50%);
    background: linear-gradient(
      transparent,
      #ff3c7b,
      #ff3c7b,
      #ff3c7b,
      transparent
    );
    animation: animate2 6s linear infinite;

    @keyframes animate2 {
      0% {
        transform: translate(-50%, -50%) rotate(360deg);
      }

      100% {
        transform: translate(-50%, -50%) rotate(0deg);
      }
    }
  }
  &::after {
    content: "";
    position: absolute;
    inset: 3px;
    background: #292929;
  }
`,yL=R.div`
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  overflow: hidden;
`,vL=R.div`
  padding: 40px;
  text-align: center;
  width: 100%;
  transition: 0.5s;
  transform: translateY(145px);
`,eZ=R.div`
  display: flex;
  justify-content: space-between;
  margin: 10px 0;

  h3 {
    font-size: 1em;
    color: #45f3ff;
    line-height: 1.2em;
    font-size: 600;
    margin-left: 15px;
  }

  span {
    font-size: 0.85em;
    font-weight: 400;
    color: #fff;
  }
`,tZ=R.div`
  display: flex;
  justify-content: center;
  gap: 20px;

  button {
    padding: 10px 30px;
    border: none;
    outline: none;
    border-radius: 5px;
    font-size: 1em;
    font-weight: 500;
    background: #45f3ff;
    color: #222;
    cursor: pointer;
    opacity: 0.8;
    &:hover {
      opacity: 1;
    }
  }
`,nZ=R.div`
  position: relative;
  width: 350px;
  height: 190px;
  background: #333;
  transition: 0.5s;

  h2 {
    font-size: 1.25em;
    font-weight: 600;
    color: #45f3ff;
    line-height: 1.2em;
  }

  span {
    font-size: 0.75em;
    font-weight: 500;
    color: #fff;
  }
  &:hover {
    height: 550px;

    ${gL} {
      width: 250px;
      height: 250px;
    }

    ${yL} {
      transform: translateY(0px);
    }

    ${vL} {
      transform: translateY(0px);
    }
  }
`,rZ=R.div`
  position: absolute;
  top: 10px;
  right: 10px;
  button {
    border: none;
    background-color: #fff;
    font-size: 1.2rem;
    &:hover {
      cursor: pointer;
      color: red;
    }
  }
`,iZ="@firebase/firestore-compat",sZ="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new N("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){if(typeof Uint8Array>"u")throw new N("unimplemented","Uint8Arrays are not available in this environment.")}function Zx(){if(!PW())throw new N("unimplemented","Blobs are unavailable in Firestore in this environment.")}let _L=class R0{constructor(e){this._delegate=e}static fromBase64String(e){return Zx(),new R0(Hr.fromBase64String(e))}static fromUint8Array(e){return Jx(),new R0(Hr.fromUint8Array(e))}toBase64(){return Zx(),this._delegate.toBase64()}toUint8Array(){return Jx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){return oZ(t,["next","error","complete"])}function oZ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{enableIndexedDbPersistence(e,n){return sK(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return oK(e._delegate)}clearIndexedDbPersistence(e){return aK(e._delegate)}}class wL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _s||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&_r("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){pD(this._delegate,e,n,r)}enableNetwork(){return uK(this._delegate)}disableNetwork(){return cK(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hD("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return lK(this._delegate)}onSnapshotsInSync(e){return LK(this._delegate,e)}get app(){if(!this._appCompat)throw new N("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xl(this,bl(this._delegate,e))}catch(n){throw an(n,"collection()","Firestore.collection()")}}doc(e){try{return new Jn(this,Tn(this._delegate,e))}catch(n){throw an(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sn(this,eK(this._delegate,e))}catch(n){throw an(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return $K(this._delegate,n=>e(new EL(this,n)))}batch(){return Ot(this._delegate),new IL(new VK(this._delegate,e=>Yd(this._delegate,e)))}loadBundle(e){return dK(this._delegate,e)}namedQuery(e){return hK(this._delegate,e).then(n=>n?new sn(this,n):null)}}class Lg extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new _L(new Hr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Jn.forKey(n,this.firestore,null)}}function lZ(t){Xq(t)}class EL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Lg(e)}get(e){const n=so(e);return this._delegate.get(n).then(r=>new ud(this._firestore,new yi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=so(e);return r?(iI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=so(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=so(e);return this._delegate.delete(n),this}}class IL{constructor(e){this._delegate=e}set(e,n,r){const i=so(e);return r?(iI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=so(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=so(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class $o{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ec(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=$o.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new $o(e,new Lg(e),n),i.set(n,s)),s}}$o.INSTANCES=new WeakMap;class Jn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Lg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new N("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jn(n,new Qe(n._delegate,r,new F(e)))}static forKey(e,n,r){return new Jn(n,new Qe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xl(this.firestore,bl(this._delegate,e))}catch(n){throw an(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=X(e),e instanceof Qe?vD(this._delegate,e):!1}set(e,n){n=iI("DocumentReference.set",n);try{return n?E0(this._delegate,e,n):E0(this._delegate,e)}catch(r){throw an(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?mo(this._delegate,e):mo(this._delegate,e,n,...r)}catch(i){throw an(i,"updateDoc()","DocumentReference.update()")}}delete(){return DD(this._delegate)}onSnapshot(...e){const n=TL(e),r=bL(e,i=>new ud(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return MD(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=CK(this._delegate):(e==null?void 0:e.source)==="server"?n=OK(this._delegate):n=Mo(this._delegate),n.then(r=>new ud(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jn(this.firestore,e?this._delegate.withConverter($o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function an(t,e,n){return t.message=t.message.replace(e,n),t}function TL(t){for(const e of t)if(typeof e=="object"&&!P0(e))return e;return{}}function bL(t,e){var n,r;let i;return P0(t[0])?i=t[0]:P0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class ud{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Jn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ND(this._delegate,e._delegate)}}class cd extends ud{data(e){const n=this._delegate.data(e);return this._delegate._converter||Jq(n!==void 0),n}}class sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Lg(e)}where(e,n,r){try{return new sn(this.firestore,Oi(this._delegate,EK(e,n,r)))}catch(i){throw an(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new sn(this.firestore,Oi(this._delegate,IK(e,n)))}catch(r){throw an(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sn(this.firestore,Oi(this._delegate,TK(e)))}catch(n){throw an(n,"limit()","Query.limit()")}}limitToLast(e){try{return new sn(this.firestore,Oi(this._delegate,bK(e)))}catch(n){throw an(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sn(this.firestore,Oi(this._delegate,SK(...e)))}catch(n){throw an(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sn(this.firestore,Oi(this._delegate,xK(...e)))}catch(n){throw an(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sn(this.firestore,Oi(this._delegate,kK(...e)))}catch(n){throw an(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sn(this.firestore,Oi(this._delegate,AK(...e)))}catch(n){throw an(n,"endAt()","Query.endAt()")}}isEqual(e){return _D(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=NK(this._delegate):(e==null?void 0:e.source)==="server"?n=DK(this._delegate):n=KE(this._delegate),n.then(r=>new C0(this.firestore,new bs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=TL(e),r=bL(e,i=>new C0(this.firestore,new bs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return MD(this._delegate,n,r)}withConverter(e){return new sn(this.firestore,e?this._delegate.withConverter($o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class uZ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new cd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class C0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new uZ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new cd(this._firestore,r))})}isEqual(e){return ND(this._delegate,e._delegate)}}class xl extends sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jn(this.firestore,e):null}doc(e){try{return e===void 0?new Jn(this.firestore,Tn(this._delegate)):new Jn(this.firestore,Tn(this._delegate,e))}catch(n){throw an(n,"doc()","CollectionReference.doc()")}}add(e){return LD(this._delegate,e).then(n=>new Jn(this.firestore,n))}isEqual(e){return vD(this._delegate,e._delegate)}withConverter(e){return new xl(this.firestore,e?this._delegate.withConverter($o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function so(t){return Ie(t,Qe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(...e){this._delegate=new Ts(...e)}static documentId(){return new sI(ze.keyField().canonicalString())}isEqual(e){return e=X(e),e instanceof Ts?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._delegate=e}static serverTimestamp(){const e=VD();return e._methodName="FieldValue.serverTimestamp",new Ks(e)}static delete(){const e=UK();return e._methodName="FieldValue.delete",new Ks(e)}static arrayUnion(...e){const n=jK(...e);return n._methodName="FieldValue.arrayUnion",new Ks(n)}static arrayRemove(...e){const n=BK(...e);return n._methodName="FieldValue.arrayRemove",new Ks(n)}static increment(e){const n=zK(e);return n._methodName="FieldValue.increment",new Ks(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ={Firestore:wL,GeoPoint:Eg,Timestamp:We,Blob:_L,Transaction:EL,WriteBatch:IL,DocumentReference:Jn,DocumentSnapshot:ud,Query:sn,QueryDocumentSnapshot:cd,QuerySnapshot:C0,CollectionReference:xl,FieldPath:sI,FieldValue:Ks,setLogLevel:lZ,CACHE_SIZE_UNLIMITED:rK};function dZ(t,e){t.INTERNAL.registerComponent(new nr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cZ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t){dZ(t,(e,n)=>new wL(e,n,new aZ)),t.registerVersion(iZ,sZ)}hZ(kt);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ=2e3;async function pZ(t,e,n){var r;const{BuildInfo:i}=Uo();yr(e.sessionId,"AuthEvent did not contain a session ID");const s=await _Z(e.sessionId),o={};return Ol()?o.ibi=i.packageName:_d()?o.apn=i.packageName:At(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,t_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function mZ(t){const{BuildInfo:e}=Uo(),n={};Ol()?n.iosBundleId=e.packageName:_d()?n.androidPackageName=e.packageName:At(t,"operation-not-supported-in-this-environment"),await PP(t,n)}function gZ(t){const{cordova:e}=Uo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,s3()?"_blank":"_system","location=yes"),n(i)})})}async function yZ(t,e,n){const{cordova:r}=Uo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o($t(t,"redirect-cancelled-by-user"))},fZ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),_d()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function vZ(t){var e,n,r,i,s,o,a,l,u,c;const d=Uo();V(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function _Z(t){const e=wZ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function wZ(t){if(yr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=20;class IZ extends AP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function TZ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:xZ(),postBody:null,tenantId:t.tenantId,error:$t(t,"no-auth-event")}}function bZ(t,e){return O0()._set(N0(t),e)}async function ek(t){const e=await O0()._get(N0(t));return e&&await O0()._remove(N0(t)),e}function SZ(t,e){var n,r;const i=AZ(e);if(i.includes("/__/auth/callback")){const s=Sf(i),o=s.firebaseError?kZ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?$t(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function xZ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<EZ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function O0(){return Ln(Tm)}function N0(t){return uo("authEvent",t.config.apiKey,t.name)}function kZ(t){try{return JSON.parse(t)}catch{return null}}function AZ(t){const e=Sf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Sf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sf(i).link||i||r||n||t}function Sf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Sa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=500;class PZ{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=km,this._overrideRedirectResult=Jw}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new IZ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){At(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){vZ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),u$(),await this._originValidation(e);const o=TZ(e,r,i);await bZ(e,o);const a=await pZ(e,o,n),l=await gZ(a);return yZ(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mZ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Uo(),o=setTimeout(async()=>{await ek(e),n.onEvent(tk())},RZ),a=async c=>{clearTimeout(o);const d=await ek(e);let h=null;d&&(c!=null&&c.url)&&(h=SZ(d,c.url)),n.onEvent(h||tk())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Uo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const CZ=PZ;function tk(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$t("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(t,e){nt(t)._logFramework(e)}var NZ="@firebase/auth-compat",DZ="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=1e3;function ic(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function MZ(){return ic()==="http:"||ic()==="https:"}function SL(t=Xe()){return!!((ic()==="file:"||ic()==="ionic:"||ic()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function VZ(){return Ow()||Cw()}function FZ(){return kR()&&(document==null?void 0:document.documentMode)===11}function $Z(t=Xe()){return/Edge\/\d+/.test(t)}function UZ(t=Xe()){return FZ()||$Z(t)}function xL(){try{const t=self.localStorage,e=Ed();if(t)return t.setItem(e,"1"),t.removeItem(e),UZ()?Ic():!0}catch{return oI()&&Ic()}return!1}function oI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nv(){return(MZ()||xR()||SL())&&!VZ()&&xL()&&!oI()}function kL(){return SL()&&typeof document<"u"}async function jZ(){return kL()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},LZ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function BZ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={LOCAL:"local",NONE:"none",SESSION:"session"},mu=V,AL="persistence";function zZ(t,e){if(mu(Object.values(Nn).includes(e),t,"invalid-persistence-type"),Ow()){mu(e!==Nn.SESSION,t,"unsupported-persistence-type");return}if(Cw()){mu(e===Nn.NONE,t,"unsupported-persistence-type");return}if(oI()){mu(e===Nn.NONE||e===Nn.LOCAL&&Ic(),t,"unsupported-persistence-type");return}mu(e===Nn.NONE||xL(),t,"unsupported-persistence-type")}async function D0(t){await t._initializationPromise;const e=RL(),n=uo(AL,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function qZ(t,e){const n=RL();if(!n)return[];const r=uo(AL,t,e);switch(n.getItem(r)){case Nn.NONE:return[tl];case Nn.LOCAL:return[rl,hs];case Nn.SESSION:return[hs];default:return[]}}function RL(){var t;try{return((t=BZ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ=V;class Qi{constructor(){this.browserResolver=Ln(CP),this.cordovaResolver=Ln(CZ),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=km,this._overrideRedirectResult=Jw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kL()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return WZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jZ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return t.unwrap()}function HZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(t){return CL(t)}function KZ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new QZ(t,m5(t,e))}else if(r){const i=CL(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function CL(t){const{_tokenResponse:e}=t instanceof Yt?t.customData:t;if(!e)return null;if(!(t instanceof Yt)&&"temporaryProof"in e&&"phoneNumber"in e)return bo.credentialFromResult(t);const n=e.providerId;if(!n||n===ou.PASSWORD)return null;let r;switch(n){case ou.GOOGLE:r=Ar;break;case ou.FACEBOOK:r=kr;break;case ou.GITHUB:r=Rr;break;case ou.TWITTER:r=Pr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?nl._create(n,a):qr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new $a(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Yt?r.credentialFromError(t):r.credentialFromResult(t)}function wn(t,e){return e.catch(n=>{throw n instanceof Yt&&KZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:GZ(n),additionalUserInfo:h5(n),user:ni.getOrCreate(i)}})}async function L0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>wn(t,n.confirm(r))}}class QZ{constructor(e,n){this.resolver=n,this.auth=HZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wn(PL(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._delegate=e,this.multiFactor=_5(e)}static getOrCreate(e){return ni.USER_MAP.has(e)||ni.USER_MAP.set(e,new ni(e)),ni.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wn(this.auth,uP(this._delegate,e))}async linkWithPhoneNumber(e,n){return L0(this.auth,Y5(this._delegate,e,n))}async linkWithPopup(e){return wn(this.auth,s$(this._delegate,e,Qi))}async linkWithRedirect(e){return await D0(nt(this.auth)),p$(this._delegate,e,Qi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wn(this.auth,cP(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return L0(this.auth,X5(this._delegate,e,n))}reauthenticateWithPopup(e){return wn(this.auth,i$(this._delegate,e,Qi))}async reauthenticateWithRedirect(e){return await D0(nt(this.auth)),h$(this._delegate,e,Qi)}sendEmailVerification(e){return n5(this._delegate,e)}async unlink(e){return await q3(this._delegate,e),this}updateEmail(e){return o5(this._delegate,e)}updatePassword(e){return pP(this._delegate,e)}updatePhoneNumber(e){return J5(this._delegate,e)}updateProfile(e){return s5(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return r5(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ni.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=V;class M0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;gu(r,"invalid-api-key",{appName:e.name}),gu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Qi:void 0;this._delegate=n.initialize({options:{persistence:YZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(LF),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ni.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){tP(this._delegate,e,n)}applyActionCode(e){return Q3(this._delegate,e)}checkActionCode(e){return dP(this._delegate,e)}confirmPasswordReset(e,n){return K3(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return wn(this._delegate,hP(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return t5(this._delegate,e)}isSignInWithEmailLink(e){return J3(this._delegate,e)}async getRedirectResult(){gu(nv(),this._delegate,"operation-not-supported-in-this-environment");const e=await g$(this._delegate,Qi);return e?wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){OZ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=nk(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=nk(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return X3(this._delegate,e,n)}sendPasswordResetEmail(e,n){return G3(this._delegate,e,n||void 0)}async setPersistence(e){zZ(this._delegate,e);let n;switch(e){case Nn.SESSION:n=hs;break;case Nn.LOCAL:n=await Ln(rl)._isAvailable()?rl:Tm;break;case Nn.NONE:n=tl;break;default:return At("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wn(this._delegate,z3(this._delegate))}signInWithCredential(e){return wn(this._delegate,wm(this._delegate,e))}signInWithCustomToken(e){return wn(this._delegate,H3(this._delegate,e))}signInWithEmailAndPassword(e,n){return wn(this._delegate,fP(this._delegate,e,n))}signInWithEmailLink(e,n){return wn(this._delegate,Z3(this._delegate,e,n))}signInWithPhoneNumber(e,n){return L0(this._delegate,Q5(this._delegate,e,n))}async signInWithPopup(e){return gu(nv(),this._delegate,"operation-not-supported-in-this-environment"),wn(this._delegate,r$(this._delegate,e,Qi))}async signInWithRedirect(e){return gu(nv(),this._delegate,"operation-not-supported-in-this-environment"),await D0(this._delegate),c$(this._delegate,e,Qi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Y3(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}M0.Persistence=Nn;function nk(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ni.getOrCreate(o)),error:e,complete:n}}function YZ(t,e){const n=qZ(t,e);if(typeof self<"u"&&!n.includes(rl)&&n.push(rl),typeof window<"u")for(const r of[Tm,hs])n.includes(r)||n.push(r);return n.includes(tl)||n.push(tl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.providerId="phone",this._delegate=new bo(PL(kt.auth()))}static credential(e,n){return bo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}aI.PHONE_SIGN_IN_METHOD=bo.PHONE_SIGN_IN_METHOD;aI.PROVIDER_ID=bo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=V;class JZ{constructor(e,n,r=kt.app()){var i;XZ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new G5(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ="auth-compat";function eee(t){t.INTERNAL.registerComponent(new nr(ZZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new M0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jo.EMAIL_SIGNIN,PASSWORD_RESET:Jo.PASSWORD_RESET,RECOVER_EMAIL:Jo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Jo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Jo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Jo.VERIFY_EMAIL}},EmailAuthProvider:As,FacebookAuthProvider:kr,GithubAuthProvider:Rr,GoogleAuthProvider:Ar,OAuthProvider:$a,SAMLAuthProvider:tp,PhoneAuthProvider:aI,PhoneMultiFactorGenerator:OP,RecaptchaVerifier:JZ,TwitterAuthProvider:Pr,Auth:M0,AuthCredential:Nl,Error:Yt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(NZ,DZ)}eee(kt);const tee={apiKey:{}.REACT_APP_API_KEY,authDomain:{}.REACT_APP_AUTH_DOMAIN,projectId:{}.REACT_APP_PROJECT_ID,storageBucket:{}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{}.REACT_APP_MESSAGING_SENDER_ID,appId:{}.REACT_APP_APP_ID,measurementId:{}.REACT_APP_MEASUREMENT_ID};kt.apps.length||kt.initializeApp(tee);const rv=kt.firestore();function nee({bookId:t,bookTitle:e,author:n,publisher:r,price:i,imageUrl:s,onDelete:o,onClose:a}){const l=async()=>{await o(t),a()},[u,c]=b.useState(""),[d,h]=b.useState(""),[f,y]=b.useState([]),[_,w]=b.useState(!1),[m]=b.useState({NickName:""});b.useEffect(()=>{const v=kt.auth().onAuthStateChanged(E=>{E?(w(!0),rv.collection("User").doc(E.uid).get().then(I=>{if(I.exists){const T=I.data();T&&T.NickName?c(T.NickName):c("익명")}else c("")})):(w(!1),c(""))});return()=>v()},[]),b.useEffect(()=>{m&&m.NickName&&c(m.NickName)},[m]),b.useEffect(()=>{(async()=>{const I=(await rv.collection("books").doc(t).collection("comments").get()).docs.map(T=>({NickName:T.data().NickName,comment:T.data().comment}));y(I)})()},[t]);const p=async()=>{const v={NickName:u,comment:d};await rv.collection("books").doc(t).collection("comments").add(v),y([...f,v]),h("")};return g.jsxs(ree,{children:[g.jsxs(iee,{children:[g.jsx(see,{children:g.jsx("img",{src:s,alt:e})}),g.jsxs(oee,{children:[g.jsx("h2",{children:"책정보"}),g.jsxs("ul",{children:[g.jsxs("li",{children:["책 제목: ",e]}),g.jsxs("li",{children:["저자: ",n]}),g.jsxs("li",{children:["출판사: ",r]}),g.jsxs("li",{children:["가격: ",i,"원"]})]}),g.jsx(aee,{children:g.jsx("button",{onClick:l,children:"책 삭제"})})]})]}),g.jsxs(lee,{children:[g.jsx("h2",{children:"리뷰(댓글)"}),_?g.jsxs(uee,{children:[g.jsx("input",{placeholder:"닉네임",value:u,onChange:v=>c(v.target.value)}),g.jsx("textarea",{placeholder:"리뷰를 작성해주세요",value:d,onChange:v=>h(v.target.value)}),g.jsx("button",{onClick:p,children:"제출하기"})]}):g.jsx("p",{children:"댓글을 작성하려면 로그인해주세요."}),g.jsx(cee,{children:f.map((v,E)=>g.jsxs("div",{children:[g.jsx("p",{children:v.NickName}),g.jsx("p",{children:"|"}),g.jsx("p",{children:v.comment})]},E))})]})]})}const ree=R.div`
  padding: 20px 0;
`,iee=R.div`
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  width: 80%;
  margin: 0 auto 10px auto;
  padding: 20px;
  background-color: rgb(251, 251, 251);
  border: 1px solid #e1e1e1;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  @media screen and (max-width: 600px) {
    flex-direction: column;
  }
`,see=R.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 400px;
  height: 400px;
  background-color: whitesmoke;
  margin-right: 100px;
  img {
    width: 350px;
    height: 350px;
  }
  @media screen and (max-width: 600px) {
    margin-right: 0px;
    width: 300px;
    height: 300px;
    img {
      width: 250px;
      height: 250px;
    }
  }
`,oee=R.div`
  position: relative;
  padding: 20px;
  background-color: whitesmoke;
  width: 360px;
  height: 360px;
  ul {
    list-style-type: square;
    margin-left: -20px;
    line-height: 2;
  }
  @media screen and (max-width: 600px) {
    margin-right: 0px;
    width: 260px;
    height: 260px;
  }
`,aee=R.div`
  button {
    position: absolute;
    bottom: 20px;
    left: 20px;
    border: none;
    background-color: #fff;
    padding: 6px 12px;
    box-shadow: 2px 2px 2px 2px;
    cursor: pointer;
    &:hover {
      background-color: skyblue;
    }
  }
`,lee=R.div`
  width: 80%;
  margin: 0 auto;
  padding: 20px;
  background-color: rgb(251, 251, 251);
  border: 1px solid #e1e1e1;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
`,uee=R.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  input {
    width: 10%;
  }
  textarea {
    margin-top: 6px;
    width: 90%;
    height: 100px;
  }
  input,
  textarea {
    font-size: 0.9rem;
    font-family: Arial, Helvetica, sans-serif;
  }
  button {
    width: 10%;
    padding: 10px;
    margin-top: 6px;
    background-color: #fff;
    border: 2px solid #ccc;
    border-radius: 4px;
    &:hover {
      background-color: black;
      color: #fff;
    }
  }
  @media screen and (max-width: 600px) {
    input {
      width: 96.9%;
    }
    textarea {
      width: 97.7%;
    }
    button {
      width: 100%;
    }
  }
`,cee=R.div`
  display: flex;
  flex-direction: column;
  margin-top: 20px;
  background-color: white;
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  width: 88%;
  > div {
    display: flex;
    justify-content: left;
    align-items: center;
    margin-bottom: 10px;
  }
  p {
    margin: 0 50px;
  }
`,dee="/assets/BookAddIcon-821769f4.jpeg",hee={apiKey:{}.REACT_APP_API_KEY,authDomain:{}.REACT_APP_AUTH_DOMAIN,projectId:{}.REACT_APP_PROJECT_ID,storageBucket:{}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{}.REACT_APP_MESSAGING_SENDER_ID,appId:{}.REACT_APP_APP_ID,measurementId:{}.REACT_APP_MEASUREMENT_ID};kt.initializeApp(hee);const fee=kt.storage();function pee({closeBookAddModal:t,refreshBooks:e}){const[n,r]=b.useState(null),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(""),[c,d]=b.useState(""),h=_=>{const w=_.target.files;w&&w.length>0&&r(w[0])},f=async _=>{await kt.firestore().collection("books").add(_)},y=async()=>{if(!n){Ae.error("파일을 선택해주세요!");return}try{const w=fee.ref().child(n.name);await w.put(n);const p={imageUrl:await w.getDownloadURL(),bookTitle:i,author:o,publisher:l,price:c};await f(p),await e(),Ae.success("책이 성공적으로 추가되었습니다!"),t()}catch{Ae.error("책 추가에 실패했습니다.")}};return g.jsxs(mee,{children:[g.jsx(Nc,{position:"top-right",autoClose:5e3}),g.jsx("h2",{children:"책 추가하기"}),g.jsx("img",{src:n?URL.createObjectURL(n):dee,alt:"책 이미지"}),g.jsxs(gee,{children:[g.jsx("input",{id:"fileInput",type:"file",onChange:h}),g.jsx("input",{type:"text",placeholder:"책제목을 기입해주세요",onChange:_=>s(_.target.value)}),g.jsx("input",{type:"text",placeholder:"저자를 기입해주세요",onChange:_=>a(_.target.value)}),g.jsx("input",{type:"text",placeholder:"출판사를 기입해주세요",onChange:_=>u(_.target.value)}),g.jsx("input",{type:"text",placeholder:"가격을 기입해주세요",onChange:_=>d(_.target.value)})]}),g.jsxs(yee,{children:[g.jsx("button",{onClick:y,children:"완료하기"}),g.jsx("button",{onClick:t,children:"창닫기"})]})]})}const mee=R.div`
  img {
    width: 200px;
    height: 200px;
    border-radius: 20px;
    margin-bottom: 10px;
  }
  @media screen and (max-width: 600px) {
    img {
      width: 150px;
      height: 150px;
    }
  }
`,gee=R.div`
  display: flex;
  flex-direction: column;
  input,
  button,
  label {
    margin-bottom: 10px;
  }
  button {
    width: 20%;
  }
  input {
    width: 40%;
  }
  input:nth-child(n + 2) {
    border: none;
    border-radius: 4px;
    padding: 4px 6px;
    background-color: #fff;
    box-shadow: 2px 2px 2px 2px;
  }
  @media screen and (max-width: 600px) {
    input {
      width: 90%;
    }
  }
`,yee=R.div`
  position: absolute;
  bottom: 10px;
  left: 20px;
  button {
    margin-right: 6px;
    background-color: #fff;
    box-shadow: 1px 1px 1px 1px;
    border: unset;
    border-radius: 4px;
    padding: 4px 10px;
    position: relative;
    transition: all 250ms;
    overflow: hidden;
    z-index: 1;
    font-weight: 1000;
    font-size: 17px;
    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 0;
      border-radius: 4px;
      background-color: black;
      z-index: -1;
      transition: all 250ms;
    }
    &:hover {
      cursor: pointer;
      color: #fff;
    }
    &:hover::before {
      width: 100%;
    }
  }
`,vee={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"80%",width:"80%"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},_ee={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"54%",width:"40%"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.8)"}};Qp.setAppElement("#root");function wee(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[i,s]=b.useState([]),[o,a]=b.useState(!1),[l,u]=b.useState(""),[c,d]=b.useState(null),h=I=>{u(I.target.value)},f=()=>i.filter(I=>I.bookTitle.toLowerCase().includes(l.toLowerCase())),y=b.useCallback(async()=>{a(!0);const x=(await kt.firestore().collection("books").get()).docs.map(S=>({id:S.id,imageUrl:S.data().imageUrl,bookTitle:S.data().bookTitle,author:S.data().author,publisher:S.data().publisher,price:S.data().price}));return a(!1),x},[]),_=b.useCallback(async()=>{const I=await y();s(I)},[y]),w=async I=>{await kt.firestore().collection("books").doc(I).delete(),s(i.filter(x=>x.id!==I))};b.useEffect(()=>{_()},[_]);const m=I=>{d({...I}),e(!0)},p=()=>{e(!1)},v=()=>{r(!0)},E=()=>{r(!1)};return g.jsxs(Eee,{children:[g.jsx(zm,{loading:o}),g.jsx(Iee,{children:g.jsx("input",{placeholder:"Search Title",value:l,onChange:h})}),g.jsx(Tee,{children:g.jsx("button",{onClick:v,children:"책 추가하기"})}),g.jsx(bee,{children:g.jsx(See,{children:g.jsx(xee,{children:f().map((I,T)=>g.jsxs(kee,{children:[g.jsx(Aee,{onClick:()=>m(I),children:g.jsx("img",{src:I.imageUrl,alt:"책 이미지"})}),g.jsxs(Ree,{onClick:()=>m(I),children:[g.jsxs("p",{children:["책 제목: ",I.bookTitle]}),g.jsxs("p",{children:["저자: ",I.author]}),g.jsxs("p",{children:["출판사: ",I.publisher]}),g.jsxs("p",{children:["가격: ",I.price,"원"]})]})]},T))})})}),g.jsxs(Qp,{isOpen:t,onRequestClose:p,style:vee,children:[c&&g.jsx(nee,{bookId:c.id,bookTitle:c.bookTitle,author:c.author,publisher:c.publisher,price:c.price,imageUrl:c.imageUrl,onDelete:w,onClose:p}),g.jsx(rk,{children:g.jsx("button",{onClick:p,children:"X"})})]}),g.jsxs(Qp,{isOpen:n,onRequestClose:E,style:_ee,children:[g.jsx(pee,{closeBookAddModal:E,refreshBooks:_}),g.jsx(rk,{children:g.jsx("button",{onClick:E,children:"X"})})]})]})}const Eee=R.div`
  background-color: rgb(251, 251, 251);
`,Iee=R.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 30px 0;
  padding-top: 70px;
  input {
    width: 300px;
    height: 20px;
    padding: 10px;
    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
    font-size: 16px;
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 50px;
  }
`,Tee=R.div`
  display: flex;
  justify-content: flex-end;
  margin-right: 50px;
  button {
    width: 150px;
    height: 50px;
    border: 2px solid #ccc;
    border-radius: 4px;
    background-color: #fff;
    color: black;
    cursor: pointer;
    &:hover {
      background-color: black;
      color: #fff;
    }
  }
  @media screen and (max-width: 600px) {
    justify-content: center;
    margin-right: 0;
  }
`,bee=R.div`
  display: flex;
  justify-content: center;
  margin: 20px;
  padding-bottom: 30px;
`,See=R.div`
  width: 90%;
`,xee=R.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  width: 100%;
  @media screen and (max-width: 780px) {
    flex-direction: column;
    align-items: center;
  }

  @media screen and (max-width: 1300px) {
    & > * {
      flex-basis: calc(50% - 10px);
      margin: 5px;
    }
  }
`,kee=R.div`
  display: flex;
  width: 25%;
  padding: 10px;
  margin-top: 10px;
  box-sizing: border-box;
  @media screen and (max-width: 720px) {
    flex-direction: column;
    flex-direction: row;
    width: 100%;
  }
`,Aee=R.div`
  width: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  img {
    width: 140px;
    height: 200px;
    cursor: pointer;
  }
  @media screen and (max-width: 720px) {
    width: 100%;
  }
`,Ree=R.div`
  width: 50%;
  margin-left: 45px;
  padding: 10px;
  p {
    cursor: pointer;
    font-weight: bold;
  }
  @media screen and (max-width: 700px) {
    margin-left: 0;
    margin-top: 10px;
  }
`,rk=R.div`
  position: absolute;
  top: 10px;
  right: 10px;
  button {
    border: none;
    background-color: #fff;
    font-size: 1.2rem;
    &:hover {
      cursor: pointer;
      color: red;
    }
  }
`,Pee=e6`
  body, html {
    margin: 0;
    padding: 0;
  }
  body {
    background: url(${u6});
  }
`;function Cee(){return g.jsxs(g.Fragment,{children:[g.jsx(Pee,{}),g.jsx(Nc,{position:"top-right",autoClose:5e3,style:{position:"absolute",top:"70px",right:"10px"}}),g.jsxs("div",{className:"App",children:[g.jsx(B7,{}),g.jsxs(zU,{children:[g.jsx(Ni,{path:"/",element:g.jsx(k9,{})}),g.jsx(Ni,{path:"/MyPage",element:g.jsx(XJ,{})}),g.jsx(Ni,{path:"/BoardWrite",element:g.jsx(EQ,{})}),g.jsx(Ni,{path:"/BoardDetail/:id",element:g.jsx(DQ,{})}),g.jsx(Ni,{path:"/List",element:g.jsx(wee,{})}),g.jsx(Ni,{path:"/Board",element:g.jsx(eQ,{})}),g.jsx(Ni,{path:"/Login",element:g.jsx(WK,{})})]}),g.jsx(P9,{})]})]})}const Oee=b.createContext(void 0),Nee=({children:t})=>{const[e,n]=b.useState({state:"loading"}),r=s=>{s?(n({state:"loaded",isAuthentication:!0,user:s}),console.log("User is signed in:",s)):(n({state:"loaded",isAuthentication:!1,user:s}),console.log("User is signed out"))},i=s=>n({state:"error",error:s});return b.useEffect(()=>{const s=Im(Fn,r,i);return()=>s()},[]),g.jsx(Oee.Provider,{value:e,children:t})};iv.createRoot(document.getElementById("root")).render(g.jsx(he.StrictMode,{children:g.jsx(QU,{children:g.jsx(Nee,{children:g.jsx(Cee,{})})})}));
